if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSSetMessengerRestrict",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}),function(b){var c=b.update;b.item;return c({pendingMessengerRestrictAction:a[1]})})},function(e){return d[0]=new c.Map(),d[0].set("restrictee_id",a[0]),d[0].set("request_id",a[2]),d[0].set("messenger_restrict_action",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"messenger_restrict",[0,367],d[1],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateThreadImage",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.ftr(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(b.threadType,[0,2])}),function(b){var c=b.update;b.item;return c({authorityLevel:[0,60],threadPictureUrl:a[2]===""?f:a[2],threadPictureUrlFallback:a[3],threadPictureUrlExpirationTimestampMs:a[4]})})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("image_id",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"thread_image",[0,37],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("GroupsCometChatsChannelInviteLinkQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5354048408027065"}),null);
__d("GroupsCometChatsChannelInviteLinkQuery$Parameters",["GroupsCometChatsChannelInviteLinkQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatsChannelInviteLinkQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatsChannelInviteLinkQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatsChannelInviteLink.entrypoint",["GroupsCometChatsChannelInviteLinkQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometChatsChannelInviteLinkQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatsChannelInviteLink.react").__setRef("GroupsCometChatsChannelInviteLink.entrypoint")};g["default"]=a}),98);
__d("MAWInboxInfoButton.bs",["MDSListCell.react","MDSTextPairing.react","MWText.react","bs_caml_option","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={addOnStartContained:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",minWidth:"x1264ykn"}},k=b("gkx")("571")&&b("gkx")("1968579")?"contained":"normal";a=i.forwardRef(function(a,c){var d=a.addOnStart,e=a.addOnStartStyle,f=a.subLabel,g=a.subLabelElement,l=a.label,m=a.onPress,n=a.testid,o=a.disabled,p=a.linkProps;a=a.addOnEnd;e=e!==void 0?e:k;o=o!==void 0?o:!1;if(d!==void 0){d=b("bs_caml_option").valFromOption(d);e=e==="contained"?i.jsx("div",{className:(h||(h=b("stylex")))(j.addOnStartContained),children:d}):d}else e=null;d={headline:i.jsx(b("MWText.react"),{type:"headline4",children:l}),level:4};l=f!==void 0?b("bs_caml_option").some(i.jsx(b("MWText.react"),{type:"meta3",children:f})):g!==void 0?b("bs_caml_option").some(i.jsx(b("MWText.react"),{type:"meta3",children:b("bs_caml_option").valFromOption(g)})):void 0;l!==void 0&&(d.meta=b("bs_caml_option").valFromOption(l));f={addOnStart:e,addOnStartVerticalAlign:"top",content:i.jsx(b("MDSTextPairing.react"),babelHelpers["extends"]({},d)),disabled:o,size:"medium"};a!==void 0&&(f.addOnEnd=b("bs_caml_option").valFromOption(a));n!==void 0&&(f.testid=n);m!==void 0&&(f.onPress=b("bs_caml_option").valFromOption(m));p!==void 0&&(f.linkProps=b("bs_caml_option").valFromOption(p));g=c==null?void 0:b("bs_caml_option").some(c);g!==void 0&&(f.ref=b("bs_caml_option").valFromOption(g));return i.jsx(b("MDSListCell.react"),babelHelpers["extends"]({},f))});f.styles=j;f.defaultAddOnStartStyle=k;f.make=a}),null);
__d("MWRestrictDialogActionToggle.react",["nux:89","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("nux:89")==null?void 0:b("nux:89")("web_msgr_restrict_first_time_nux");function a(a){var b=a.children;a=a.dialogProps;if(i!=null&&!a.isRestricted)return h.jsx(i,{dialogProps:a,children:function(a,c){return b(a)}});else return b(a.onPress)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsMessengerThreadDamagingActionsSourceTypeInt.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.defaultVal=a;f.gxac=c;f.cmsg=d}),null);
__d("MWLSMessengerRestrict.bs",["FBID.bs","LS.bs","LSContactMessengerRestrictAction.bs","LSMessagingThreadTypeUtil.bs","LSSetMessengerRestrict","LSTransaction.bs","LsMessengerThreadDamagingActionsSourceTypeInt.bs","LsThreadType.bs","MWMessengerResetBlockOrRestrictWC.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","cr:3900","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=(c=b("requireDeferred"))("MessengerWellbeingRestrictFailedFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),i=c("MessengerWellbeingRestrictSucceededFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),j=c("MessengerWellbeingUnrestrictFailedFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),k=c("MessengerWellbeingUnrestrictSucceededFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),l=g||(g=b("react"));function m(a,c,d,e,f,g){var h=d!==void 0?b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType):!1;d=d!==void 0?b("bs_caml").i64_eq(d.threadType,b("LsThreadType.bs").secureMessageOverWaOneToOne):!1;var j=d?17:1;a===b("LSContactMessengerRestrictAction.bs").unrestrict?k.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{entry_point:b("bs_caml_int64").to_int32(g),request_id:f,source:j,source_owner:0,source_type:b("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))},thread:{id:h?"-1":b("bs_int64").to_string(e)}}})}):i.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{entry_point:b("bs_caml_int64").to_int32(g),request_id:f,source:j,source_owner:0,source_type:b("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))},thread:{id:h?"-1":b("bs_int64").to_string(e)}}})})}function n(a,c,d,e,f,g){var i=d!==void 0?b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType):!1;d=d!==void 0?b("bs_caml").i64_eq(d.threadType,b("LsThreadType.bs").secureMessageOverWaOneToOne):!1;var k=d?17:1;a===b("LSContactMessengerRestrictAction.bs").unrestrict?j.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{entry_point:b("bs_caml_int64").to_int32(g),request_id:f,source:k,source_owner:0,source_type:b("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))},thread:{id:i?"-1":b("bs_int64").to_string(e)}}})}):h.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{entry_point:b("bs_caml_int64").to_int32(g),request_id:f,source:k,source_owner:0,source_type:b("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))},thread:{id:i?"-1":b("bs_int64").to_string(e)}}})})}function a(a,c,d,e,f){var g=b("useReStore")(),h=b("cr:3900")==null?function(a,b){}:b("bs_curry")._1(b("cr:3900").useHook),i=b("MWMessengerResetBlockOrRestrictWC.bs").useHook();return l.useCallback(function(j){b("promiseDone")(b("LSTransaction.bs").run(g,function(c){return b("LSSetMessengerRestrict")(a,j,e,b("LS.bs").make(c))},"readWrite"),function(g){b("bs_curry")._2(h,a,j);b("bs_curry")._1(i,a);return m(j,a,c,d,e,f)},function(b){return n(j,a,c,d,e,f)})},[g,JSON.stringify(a),JSON.stringify(d),e,f])}f.$MessengerWellbeingRestrictSucceededFalcoEvent$Deferred=i;f.$MessengerWellbeingUnrestrictSucceededFalcoEvent$Deferred=k;f.logRestrictOrUnrestrictSuccess=m;f.$MessengerWellbeingRestrictFailedFalcoEvent$Deferred=h;f.$MessengerWellbeingUnrestrictFailedFalcoEvent$Deferred=j;f.logRestrictOrUnrestrictFailure=n;f.$MAWMessengerRestrictUtils$requireCondXplat=b("cr:3900");f.useHook=a}),null);
__d("UseMWRestrictContactOneOnOneThread.bs",["CurrentEnvironment","FBID.bs","LSContactMessengerRestrictAction.bs","LSMessagingThreadTypeUtil.bs","LsMessengerThreadDamagingActionsSourceTypeInt.bs","LsThreadType.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWLSMessengerRestrict.bs","MWLSThreadDisplayContext.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","requireDeferred","useCometRouterDispatcher","uuid"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("MessengerWellbeingRestrictTappedFalcoEvent.bs").__setRef("UseMWRestrictContactOneOnOneThread.bs"),h=b("requireDeferred")("MessengerWellbeingUnrestrictTappedFalcoEvent.bs").__setRef("UseMWRestrictContactOneOnOneThread.bs");function i(a,c,d,e,f,i){var j=e!==void 0?b("LSMessagingThreadTypeUtil.bs").isSecure(e.threadType):!1;e=e!==void 0?b("bs_caml").i64_eq(e.threadType,b("LsThreadType.bs").secureMessageOverWaOneToOne):!1;var k=e?17:1;a?h.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{entry_point:b("bs_caml_int64").to_int32(i),request_id:c,source:k,source_owner:0,source_type:b("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d))},thread:{id:j?"-1":b("bs_int64").to_string(f)}}})}):g.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{entry_point:b("bs_caml_int64").to_int32(i),request_id:c,source:k,source_owner:0,source_type:b("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d))},thread:{id:j?"-1":b("bs_int64").to_string(f)}}})})}function a(a,c,d,e,f){var g=b("uuid")(),h=b("MWLSMessengerRestrict.bs").useHook(a,c,d,g,e),j=b("useCometRouterDispatcher")(),k=b("MWLSThreadDisplayContext.bs").useHook(),l=b("MWChatStateV2.bs").useDispatch();return function(m){i(f,g,a,c,d,e);b("bs_curry")._1(h,f?b("LSContactMessengerRestrictAction.bs").unrestrict:b("LSContactMessengerRestrictAction.bs").restrict);!f&&k==="Inbox"&&!(j==null)&&j.go(b("CurrentEnvironment").messengerdotcom?"/":"/messages");if(!f)return b("bs_curry")._1(l,b("MWChatStateActions.bs").closeTabByThreadKey(Date.now(),d))}}f.$MessengerWellbeingRestrictTappedFalcoEvent$Deferred=g;f.$MessengerWellbeingUnrestrictTappedFalcoEvent$Deferred=h;f.logRestrictOrUnrestrictTapped=i;f.useHook=a}),null);
__d("MWInboxInfoMessengerRestrict.bs",["fbt","ix","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactMessengerRestrictAction.bs","MAWInboxInfoButton.bs","MWIcon.react","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWMenuItem.react","MWRestrictDialogActionToggle.react","ReQL.bs","ReQLSubscription.bs","TetraButton.react","UseMWRestrictContactOneOnOneThread.bs","bs_belt_Option","bs_curry","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=a.buttonSource,d=a.buttonTitle,e=a.isPendingState,f=a.onPress;a=j.useCallback(function(a){return b("bs_curry")._1(f)},[f]);switch(c){case"CHAT_TAB_SETTINGS":return j.jsx(b("MWMenuItem.react"),{disabled:e,icon:b("fbicon")._(h("995804"),20),onClick:a,primaryText:d,testid:void 0});case"RESTRICT_COMPOSER":return j.jsx(b("TetraButton.react"),{disabled:e,label:d,onPress:a,type:"secondary"});default:return j.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:j.jsx(b("MWIcon.react"),{icon:e?b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessagesPendingState.icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessages.icon}),disabled:e,label:d,onPress:a,testid:void 0})}}c={make:k};function a(a){var c=a.buttonSource,d=a.contactId,e=a.loggingEntryPoint,f=a.thread;a=a.threadKey;var h=b("useReStore")(),i=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(h.table("contacts")),{hd:d,tl:0})},[JSON.stringify(d),h])),l=b("bs_belt_Option").mapWithDefault(i,!1,function(a){return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,a),!1)}),m=b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(h.table("contacts")),{hd:d,tl:0})},[JSON.stringify(d),h])),[0,10],function(a){a=a.pendingMessengerRestrictAction;if(a!==void 0)return a;else return[0,10]}),n=m===b("LSContactMessengerRestrictAction.bs").restrict||m===b("LSContactMessengerRestrictAction.bs").unrestrict,o=c==="RESTRICT_COMPOSER"?g._("__JHASH__YZSK15am9Ug__JHASH__"):l?g._("__JHASH__NHBatIuQaK9__JHASH__"):g._("__JHASH__ttAO1drM5D3__JHASH__");m=m===b("LSContactMessengerRestrictAction.bs").unrestrict?g._("__JHASH___WXinC0t7Ah__JHASH__"):g._("__JHASH__9a46dloGnuc__JHASH__");f=b("UseMWRestrictContactOneOnOneThread.bs").useHook(d,f,a,e,l);var p=n?m:o;if(i!==void 0)return j.jsx(b("MWRestrictDialogActionToggle.react"),{dialogProps:{isRestricted:l,onPress:f,restrictedUser:i},children:function(a){return j.jsx(k,{buttonSource:c,buttonTitle:p,isPendingState:n,onPress:a})}});else return null}d=a;f.RestrictButton=c;f.make=d}),null);
__d("MWRestrictFirstTimeNux.react",["CometLazyDialogTrigger.react","JSResourceForInteraction","declareNUXRequireable","react","useNUX"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef,k=c("JSResourceForInteraction")("MWRestrictFirstTimeNuxDialog.react").__setRef("MWRestrictFirstTimeNux.react");function a(a){var b=j(null);return function(d){var e=d.children,f=d.dialogProps;d=c("useNUX")(a);var g=d[0],j=d[1];d=i(function(){return{onPress:function(){f.onPress(),j.onDismiss()},restrictedUser:f.restrictedUser}},[f,j]);return g?h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:d,dialogResource:k,children:function(a){return e(a,b)}}):e(f.onPress)}}e=c("declareNUXRequireable")(a);g["default"]=e}),98);
__d("MessengerRestrictButtonSource.bs",[],(function(a,b,c,d,e,f){"use strict";a="THREAD_DETAIL_SETTINGS";b="RESTRICT_COMPOSER";c="CHAT_TAB_SETTINGS";f.thread_detail_settings=a;f.restrict_composer=b;f.chat_tab_settings=c}),null);
__d("MWCMBotStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__K0E4NNoKNtJ__JHASH__");b=h._("__JHASH__sbctGC-UNw4__JHASH__");g.addedToChatLegend=a;g.notAddedToChatLegend=b}),98);
__d("MWCMChannelLinkShareTrigger.bs",["CometCardedDialogLoadingState.re","CometEntryPointDialogTrigger.react","GroupsCometChatsChannelInviteLink.entrypoint","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.children;a=a.thread;return h.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:b("GroupsCometChatsChannelInviteLink.entrypoint"),fallback:function(a){return h.jsx(b("CometCardedDialogLoadingState.re").make,{})},preloadParams:{threadID:b("bs_int64").to_string(a.threadKey)},children:c})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWInboxInfoActionsSectionIcons.bs",["cr:1724557"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1724557")).EditNicknames;d=a.ChangeChatName;e=a.ChangePhoto;b=a.Search;var g=a.LeaveChat;f.$MDSInboxInfoActionsSectionIcons$OR$TetraInboxInfoActionsSectionIcons$requireCond=a;f.EditNicknames=c;f.ChangeChatName=d;f.ChangePhoto=e;f.Search=b;f.LeaveChat=g}),null);
__d("TetraInboxInfoActionsSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("fbicon"))._(g("603566"),20);d="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:d,disabled:void 0,icon:c,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};b={icon:c,primaryAddOn:e};d=a._(g("477831"),20);c="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:c,disabled:void 0,icon:d,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};c={icon:d,primaryAddOn:e};d=a._(g("540023"),20);e="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:e,disabled:void 0,icon:d,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};d={icon:d,primaryAddOn:e};e=a._(g("491286"),20);var h="primary";h={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:h,disabled:void 0,icon:e,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};e={icon:e,primaryAddOn:h};h=a._(g("538183"),20);a="primary";g={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:a,disabled:void 0,icon:h,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};a={icon:h,primaryAddOn:g};f.EditNicknames=b;f.ChangeChatName=c;f.ChangePhoto=d;f.Search=e;f.LeaveChat=a}),null);
__d("MWV2EditPhotoUploader.bs",["fbt","CometFileSelector.re","DTSG","LS.bs","LSTransaction.bs","LSUpdateThreadImage","Promise","bs_belt_Array","bs_belt_Option","bs_caml_option","bs_curry","cometAsyncFetch","cometPushToast","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");g._("__JHASH__K4v4HWgVO3X__JHASH__");function a(a){var c=a.children,d=a.thread,e=b("useReStore")(),f=i.useCallback(function(a){return function(c){var f=b("LSTransaction.bs").run(e,function(e){return b("LSUpdateThreadImage")(d.threadKey,a,c!==void 0?b("bs_caml_option").valFromOption(c):void 0,void 0,void 0,b("LS.bs").make(e))},"readWrite");b("promiseDone")(f)}},[e,JSON.stringify(d.threadKey)]),g=function(a){b("cometPushToast").cometPushErrorToast({message:"Unable to set group picture"})};a=function(a){a=a.item(0);if(a==null){b("recoverableViolation")("file input onChange without any files?","messenger");return g()}var c=new FormData();c.set("images_only",!0);c.set("fb_dtsg",b("DTSG").getToken());c.set("attachment[]",a,a.name);a=b("cometAsyncFetch")("/ajax/mercury/upload.php",{data:{},formData:c,method:"POST"}).then(function(a){a=b("bs_belt_Option").map(b("bs_belt_Array").get(b("bs_belt_Option").mapWithDefault(a==null?void 0:b("bs_caml_option").some(a),[],function(a){return a.metadata}),0),function(a){return[a.image_id,a.src]});a!==void 0?b("bs_curry")._2(f,a[0],a[1]):g();return b("Promise").resolve()})["catch"](function(a){g();b("recoverableViolation")(a.toString(),"messenger");return b("Promise").resolve()});b("promiseDone")(a)};return i.jsx(b("CometFileSelector.re").make,{accept:[".jpg",".png",".jpeg",".bmp",".tif",".tiff"],onFilesSelected:a,children:b("bs_curry").__1(c)})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWColorWheelIcon.bs",["CometSVGIcon.react","MWPColorUtils.bs","MWPThreadTheme.bs","bs_caml_array","bs_caml_int32","bs_int64","gkx","react","useCometUniqueID","useSetAttributeRef"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("gkx")("571")?"24":"20",j=b("gkx")("571")?"8":"10";function a(a){a=b("MWPThreadTheme.bs").useHook();var c=a.threadTheme,d=a.gradientColors.sort(function(a,c){return b("bs_int64").compare(a.gradientIndex,c.gradientIndex)}).map(function(a){return b("MWPColorUtils.bs").int64ToHex(a.color)});d.length===0&&d.push(b("MWPColorUtils.bs").int64ToHex(c.fallbackColor));d.length===1&&d.push(b("bs_caml_array").get(d,0));a=h.jsx("linearGradient",{gradientTransform:"rotate(90)",children:d.map(function(a,c){var e=b("bs_caml_int32").div(100,d.length-1|0);e=String(Math.imul(c,e))+"%";return h.jsx("stop",{offset:e,stopColor:a},String(c))})});var e=b("useCometUniqueID")(),f=b("useSetAttributeRef")("id",e);e=b("useSetAttributeRef")("mask","url(#"+e+")");c="mw_edit_theme_svg:"+c.accessibilityLabel;return h.jsxs(b("CometSVGIcon.react"),{color:a,"data-testid":void 0,size:i,viewBox:"0 0 20 20",children:[h.jsx("defs",{children:h.jsxs("mask",{ref:f,children:[h.jsx("rect",{fill:"white",height:"100%",width:"100%"}),h.jsx("circle",{cx:"10",cy:"10",fill:"black",r:"3"})]})}),h.jsx("circle",{cx:"10",cy:"10",r:j,ref:e})]})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("LsIgnoreTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("707");c=b("FalcoLoggerInternal").create("ls_ignore_tapped",a);e.exports=c}),null);
__d("XCometGroupLandingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupslanding/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MAWCreateOptimisticSecureThread.bs",["LS.bs","LSAuthorityLevel.bs","LSBitOffset.bs","LSGroupParticipantJoinState.bs","LSMailboxType.bs","LSNullstateDescriptionType.bs","LSRtcCallState.bs","LSVerifyE2EEMetadataThreadExistsV2","LsSystemFolder.bs","MAWGating","MAWThemeConstant.bs","MAWThreadDefaults.bs","MAWTimeUtils.bs","MessagingThreadType.bs","MessengerJoinableModeType.bs","OfflineThreadingId.bs","Promise","ReQLTable.bs","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_int64","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("LSVerifyE2EEMetadataThreadExistsV2")(c,void 0,b("LSAuthorityLevel.bs").optimistic,b("LS.bs").make(a)).then(function(c){var d=c[0];return b("ReQLTable.bs").update(a.table("threads"),{hd:d,tl:0},function(a){if(a===void 0)return b("unrecoverableViolation")("Optimistic thread is missing","messenger_e2ee_web");a=b("bs_caml_obj").caml_obj_dup(a);a.clientThreadKey=d;return a}).then(function(a){return d})})}function h(a,c){var d,e=b("bs_caml_format").caml_int64_of_string(b("OfflineThreadingId.bs").make());return a.table("threads").add({additionalThreadContext:void 0,authorityLevel:b("LSAuthorityLevel.bs").optimistic,avatarStickerId:void 0,avatarStickerInstructionKeyId:void 0,avatarStickerOriginalImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerThumbnailImageUrl:void 0,cannotReplyReason:void 0,cannotUnsendReason:void 0,capabilities:b("MAWThreadDefaults.bs").defaultThreadCapabilities,capabilities2:b("LSBitOffset.bs").empty,capabilities3:b("LSBitOffset.bs").empty,clientThreadKey:e,customEmoji:void 0,customEmojiImageUrl:void 0,disableComposerInput:!1,disappearingModeInitiator:void 0,disappearingThreadKey:void 0,draftMessage:void 0,eventEndTimestampMs:void 0,eventStartTimestampMs:void 0,folderName:"inbox",hasPendingInvitation:void 0,hasPersistentMenu:!1,igFolder:void 0,inviterId:void 0,isAdminSnippet:!1,isAllUnreadMessageMissedCallXma:void 0,isCustomThreadPicture:!1,isDisappearingMode:!1,lastActivityTimestampMs:(d=b("bs_caml_int64")).zero,lastMessageCtaId:void 0,lastMessageCtaTimestampMs:void 0,lastMessageCtaType:void 0,lastNonMissedCallXmaMessageTimestampMs:void 0,lastReadWatermarkTimestampMs:d.zero,mailboxType:b("LSMailboxType.bs").messenger,memberCount:void 0,muteCallsExpireTimeMs:d.zero,muteExpireTimeMs:d.zero,needsAdminApprovalForNewParticipant:void 0,normalizedSearchTerms:void 0,nullstateDescriptionText1:b("MAWThreadDefaults.bs").nullstateDescriptionText1,nullstateDescriptionText2:void 0,nullstateDescriptionText3:void 0,nullstateDescriptionType1:b("LSNullstateDescriptionType.bs").default_,nullstateDescriptionType2:void 0,nullstateDescriptionType3:void 0,ongoingCallState:b("LSRtcCallState.bs").noOngoingCall,otidOfFirstMessage:void 0,outgoingBubbleColor:void 0,parentThreadKey:b("LsSystemFolder.bs").inbox,proactiveWarningDismissTime:void 0,removeWatermarkTimestampMs:d.zero,shouldRoundThreadPicture:void 0,snippet:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,snippetHasEmoji:!1,snippetSenderContactId:void 0,snippetStringArgument1:void 0,snippetStringHash:void 0,syncGroup:void 0,takedownState:void 0,themeFbid:b("MAWGating").isOccamadillo()?void 0:b("MAWThemeConstant.bs").secureTheme,threadDescription:void 0,threadInviteLink:void 0,threadInvitesEnabled:b("MessengerJoinableModeType.bs").private_,threadInvitesEnabledV2:b("MessengerJoinableModeType.bs").private_,threadKey:e,threadName:void 0,threadPictureUrl:void 0,threadPictureUrlExpirationTimestampMs:void 0,threadPictureUrlFallback:void 0,threadTags:void 0,threadType:c,unreadDisappearingMessageCount:b("bs_caml_int64").zero,unsendLimitMs:b("bs_caml_int64").zero,viewedPluginContext:void 0,viewedPluginKey:void 0}).then(function(c){return a.table("messages_ranges_v2__generated").add({hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:b("MAWTimeUtils.bs").maxTimestampMs,minMessageId:"",minTimestampMs:b("MAWTimeUtils.bs").minTimestampMs,threadKey:e})}).then(function(a){return e})}function a(a,c,d){d=b("MAWGating").isOccamadillo()&&b("bs_int64").equal(d,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)?g(a,d):h(a,d);return d.then(function(d){return b("Promise").all(c.map(function(c){return a.table("participants").add({authorityLevel:b("LSAuthorityLevel.bs").optimistic,contactId:c.id,deliveredWatermarkTimestampMs:b("bs_caml_int64").zero,groupParticipantJoinState:b("LSGroupParticipantJoinState.bs").member,isAdmin:void 0,isModerator:!1,isSuperAdmin:void 0,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:b("bs_caml_int64").zero,readWatermarkTimestampMs:b("bs_caml_int64").zero,subscribeSource:void 0,threadKey:d})})).then(function(a){return d})})}f.createSecureOccamadilloOptimisticThread=g;f.createSecureOptimisticThread=h;f.call=a}),null);
__d("MWV2RedirectToLatestReadThread.bs",["LSSyncStatus.bs","LsSystemFolder.bs","MAWInitSyncComplete.bs","MAWSessionStorage.bs","MWInboxURIState.bs","MWPIsThreadUnread.bs","MWPThreadsForThreadList.bs","MWThreadListSupportedThreadTypes.bs","MWV2OpenTabOrThread.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","promiseDone","react","useCurrentRoute","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return b("useCurrentRoute")()}var i={contents:!1};function j(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads_ranges_v2__generated")),{hd:b("LsSystemFolder.bs").inbox,tl:0})).then(function(c){return b("ReQL.bs").first(b("ReQL.bs").filter(b("MWPThreadsForThreadList.bs").createIterable(a,b("LsSystemFolder.bs").inbox,c),function(a){if(!b("MWPIsThreadUnread.bs").isThreadUnread(a)&&b("bs_caml").i64_neq(a.threadType,b("MessagingThreadType.bs").folder))return b("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(c){return b("bs_caml").i64_eq(a.threadType,c)})!==-1;else return!1}))})}function c(a){var c=b("useReStore")(),d=b("useCurrentRoute")(),e=h.useRef(d.url),f=h.useRef(!1);h.useEffect(function(){e.current!==d.url&&(f.current=!0)},[d]);var g=b("MWV2OpenTabOrThread.bs").useHook(),k=h.useCallback(function(a){a=b("MWInboxURIState.bs").getRouteTokens(e.current);var d=b("MAWSessionStorage.bs").getMostRecentSecureThreadKey(),h=a.length,k;if(h>=3)k=!1;else switch(h){case 0:k=!1;break;case 1:h=a[0];k=h===""?d===void 0:!1;break;case 2:h=a[1];switch(h){case"":case"t":k=d===void 0;break;default:k=!1}break}if(k&&!i.contents&&!f.current){i.contents=!0;b("promiseDone")(j(c).then(function(a){if(a!==void 0)return b("bs_curry")._2(g.openInbox,{clientThreadKey:a.clientThreadKey,threadKey:a.threadKey,threadType:a.threadType},"inboxInitialLoad")}));return}},[g,f,e,c]);h.useEffect(function(){var a={contents:function(a){}};a.contents=b("ReQLSubscription.bs").subscribe(c,b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("sync_groups")),{hd:b("MAWInitSyncComplete.bs").id,tl:0}),function(c){if(c===void 0)return;if(c.length!==1)return;c=c[0];if(b("bs_caml").i64_eq(c.syncStatus,b("LSSyncStatus.bs").complete)){b("bs_curry")._1(k);return b("bs_curry")._1(a.contents)}});return function(c){return b("bs_curry")._1(a.contents)}},[c,e,k])}f.useCurrentRoute=a;f.useHook=c}),null);
__d("MWV2SecureThreadViewContainer.bs",["MAWVerifyExistingThreadExists.bs","MWInboxDetailNullState.bs","MWInboxThreadViewContexts.bs","MWLSThread.bs","MWSelectedThreadOptionsIdContext.bs","MWV2InboxDetailContainer.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")();h.useEffect(function(){b("promiseDone")(b("MAWVerifyExistingThreadExists.bs").call(c,a))},[c,JSON.stringify(a)])}function a(a){var c=a.isConversationSearchVisible,d=a.setIsConversationSearchVisible;a=a.threadKey;var e=b("MWLSThread.bs").useThread(a);i(a);if(e!==void 0)return h.jsx(b("MWInboxThreadViewContexts.bs").make,{thread:e,children:h.jsx(b("MWSelectedThreadOptionsIdContext.bs").make,{threadId:e.threadKey,children:h.jsx(b("MWV2InboxDetailContainer.bs").make,{isConversationSearchVisible:c,setIsConversationSearchVisible:d,thread:e})})});else return h.jsx(b("MWInboxDetailNullState.bs").make,{})}c=a;f.make=c}),null);
__d("MAWInboxInfoQuickActionsUnmuteButton.bs",["fbt","CometColumnItem.react","MAWSecureThreadUpdateMuteSetting.bs","MDSCircleButton.react","MWInboxInfoQuickActionIcons.bs","MWText.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.thread;var c=g._("__JHASH__vpk4cwy2c0D__JHASH__"),d=g._("__JHASH__xerGPrX4KDp__JHASH__"),e=b("MAWSecureThreadUpdateMuteSetting.bs").useHook(a.threadKey,0,function(a){});return i.jsxs(i.Fragment,{children:[i.jsx(b("CometColumnItem.react"),{children:i.jsx(b("MDSCircleButton.react"),{icon:b("MWInboxInfoQuickActionIcons.bs").Unmute.icon,size:36,label:c,onPress:function(a){b("bs_curry")._1(e)}})}),i.jsx(b("CometColumnItem.react"),{paddingTop:8,children:i.jsx(b("MWText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:d})})]})}c=a;f.make=c}),null);
__d("MAWEndToEndEncryptionKeysSection.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MAWInboxInfoButton.bs","MWIcon.react","MWInboxInfoPrivacyAndSupportSectionIcons.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.thread;var c=g._("__JHASH__Q_jtIDJvnQe__JHASH__");return i.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{thread:a},dialogResource:b("JSResource")("MAWEndToEndEncryptionKeysDialog.react").__setRef("MAWEndToEndEncryptionKeysSection.bs"),children:function(a){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("MWIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").EndToEndEncryptionKeys.icon}),label:c,onPress:function(c){return b("bs_curry")._1(a)},testid:void 0})}})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MAWInboxInfoPrivacyAndSupportSectionCreateSecureConversationMenuItem.bs",["fbt","MAWCreateOneToOneThread.bs","MAWInboxInfoButton.bs","MAWThreadId.bs","MWIcon.react","MWThreadListHoverButtonDropdownMenuIcons.bs","MWV2OpenTabOrThread.bs","MessagingThreadType.bs","bs_caml_int64","bs_curry","bs_int64","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.contactId,d=b("MWV2OpenTabOrThread.bs").useHook(),e=b("useReStore")();return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("MWIcon.react"),{icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").SecretConversation.icon}),label:g._("__JHASH__hitEjg-w7S3__JHASH__"),onPress:function(a){b("promiseDone")(b("MAWCreateOneToOneThread.bs").call(e,c).then(function(a){var c=a.chatId;return b("MAWThreadId.bs").toThreadKeyMaybe(e,c).then(function(a){return[a,c]})}),function(a){var c=a[0];if(c!==void 0){b("gkx")("3552");return b("bs_curry")._3(d.openTabOrInbox,void 0,{clientThreadKey:b("bs_caml_int64").of_int32(a[1]),threadKey:c,threadType:b("MessagingThreadType.bs").secureMessageOverWaOneToOne},"inboxPrivacyAndInfoSection")}})},testid:void 0})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MAWInboxInfoPrivacyAndSupportSectionUnmuteThreadButton.bs",["fbt","MAWInboxInfoButton.bs","MAWSecureThreadUpdateMuteSetting.bs","MWIcon.react","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MessengerMuteUtils.bs","bs_caml","bs_caml_int64","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.thread;var c=b("MAWSecureThreadUpdateMuteSetting.bs").useHook(a.threadKey,0,function(a){}),d=g._("__JHASH__NwAi10151Wi__JHASH__");a=b("MessengerMuteUtils.bs").mutedUntilLabel(b("bs_caml").i64_eq(a.muteExpireTimeMs,b("bs_caml_int64").neg_one)?-1:b("bs_caml_int64").to_float(a.muteExpireTimeMs)/1e3);a=a!==void 0?a:void 0;d={addOnStart:i.jsx(b("MWIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.Off.icon}),label:d,onPress:function(a){b("bs_curry")._1(c)},testid:"mw_notifications_section_button"};a!==void 0&&(d.subLabel=a);return i.jsx(b("MAWInboxInfoButton.bs").make,babelHelpers["extends"]({},d))}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MAWEphemeralMessagesSettingsSectionButton.react",["fbt","ix","CometIcon.react","CometLazyDialogTrigger.react","JSResourceForInteraction","MAWChatJid.re","MAWInboxInfoButton.re","cr:3267","fbicon","nux:49","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=b("nux:49")==null?void 0:b("nux:49")("www_armadillo_disappearing_messages_nux_dialog"),l=c("JSResourceForInteraction")("MAWEphemeralSettingsDialog.react").__setRef("MAWEphemeralMessagesSettingsSectionButton.react"),m=h._("__JHASH__LQDyKCJt3C1__JHASH__");function a(a){var e=c("MAWChatJid.re").useThreadJidCallback(a.thread.threadKey),f=k?j.jsx(k,{getThreadJid:e,onDismiss:a.onDismiss,triggerLocation:a.triggerLocation}):null,g=b("cr:3267")?j.jsx(b("cr:3267").make,{color:"black",size:"20"}):j.jsx(c("CometIcon.react"),{color:"black",icon:d("fbicon")._(i("824131"),20)});return f!=null?f:j.jsx(j.Fragment,{children:a.canUseEphemeralSetting?j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{getThreadJid:e},dialogResource:l,onHide:a.onDismiss,children:function(a){return j.jsx(d("MAWInboxInfoButton.re").make,{addOnStart:g,label:m,onPress:function(b){return a()}})}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWEphemeralMessagesSettingsSectionButton.bs",["MAWEphemeralMessagesSettingsSectionButton.react"],(function(a,b,c,d,e,f){"use strict";a=b("MAWEphemeralMessagesSettingsSectionButton.react");f.make=a}),null);
__d("MAWLoadMoreThreadSharedAttachments.bs",["MAWBackendBridge.bs","MAWThreadId.bs","Promise","bs_caml_int64","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=[2328,1316134911];function a(a,c,d){var e=b("useReStore")(),f=c!==void 0&&c&&d!==void 0?d:i,g=a!==void 0?a.threadKey:void 0;return h.useCallback(function(a){if(g!==void 0){b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(e,g).then(function(a){if(a.TAG===0)return b("bs_curry")._1(b("MAWBackendBridge.bs").loadMoreMedia({minRowId:b("bs_caml_int64").to_int32(f),threadId:a._0}).sendAndReceive);else return b("Promise").resolve()}));return}},[e,g,f])}f.mAX_MESSAGING_TIMESTAMP=i;f.useHook=a}),null);
__d("MAWSecureInboxInfoSharedPhotosSection.bs",["MAWAttachmentThumbnail.bs","MAWLoadMoreThreadSharedAttachments.bs","MWInboxInfoPhotos.bs","MWSharedAttachmentsSectionHooks.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;var c=b("MWSharedAttachmentsSectionHooks.bs").useQueryMediaAttachments(a),d=c[4],e=c[0],f=b("bs_belt_Option").getWithDefault(d,!0);d=b("MAWLoadMoreThreadSharedAttachments.bs").useHook(a,d,c[3]);c=b("MWSharedAttachmentsSectionHooks.bs").useLoader(e,f,c[2],d);d=h.useCallback(function(a){return b("MAWAttachmentThumbnail.bs").getThumbnailBlob(a)},[]);return h.jsx(b("MWInboxInfoPhotos.bs").make,{getPreviewUrl:d,hasMore:f,isLoading:c[0],media:e,navigateToRouteForMediaViewer:!1,onLoadMore:c[1],thread:a})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);/*FB_PKG_DELIM*/
__d("useFetchPendingGroupInvitations",["CometRouteURL","LS.re","LSOptimisticFetchPendingGroupInvite","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=c("useReStore")(),b=d("CometRouteURL").useRouteURLParams();b=b.link_hash;var e=b!=null?String(b):null;h(function(){e!=null&&a.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInvite")(e,void 0,void 0,d("LS.re").make(a))},"readwrite")},[a,e]);return e}g.useFetchPendingGroupInvitations=a}),98);
__d("UseFetchPendingGroupInvitations.bs",["useFetchPendingGroupInvitations"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("useFetchPendingGroupInvitations").useFetchPendingGroupInvitations()}f.useHook=a}),null);
__d("useHandlePublicChatShortlink",["CurrentEnvironment","I64","JSResourceForInteraction","ReQL","ReQLSuspense","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","react","useCometLazyDialog","useCometRouterDispatcher","useReStore"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=c("JSResourceForInteraction")("MWJoinPublicChatDialog.react").__setRef("useHandlePublicChatShortlink");function a(a){var b=c("useCometRouterDispatcher")(),e=i(!1),f=c("useReStore")(),g=c("useCometLazyDialog")(j),k=g[0],l=d("ReQLSuspense").useFirst(function(){if(a!=null)return d("ReQL").fromTableAscending(f.table("group_invitations_pending")).getKeyRange(a);else return d("ReQL").empty()},[f,a]);h(function(){if(l!=null&&(l==null?void 0:l.isSubscribed)){if(l.threadId){var f;c("CurrentEnvironment").messengerdotcom?f=c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({thread_key:d("I64").to_string(l.threadId)}):f=c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:d("I64").to_string(l.threadId)});b==null?void 0:b.go(f,{})}}else l!=null&&(l==null?void 0:l.threadTitle.length)>0&&a!=null&&!e.current&&(e.current=!0,k({linkHash:a}))},[a,k,l,b])}g.useHandlePublicChatShortlink=a}),98);
__d("UseHandlePublicChatShortlink.bs",["useHandlePublicChatShortlink"],(function(a,b,c,d,e,f){"use strict";function a(a){b("useHandlePublicChatShortlink").useHandlePublicChatShortlink(a)}f.useHook=a}),null);
__d("MAWInboxInfoButton.re",["MAWInboxInfoButton.bs"],(function(a,b,c,d,e,f){a=b("MAWInboxInfoButton.bs").make;f.make=a}),null);
__d("MWCMBotIcons.react",["ix","cr:2344","cr:4427","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){if(b("cr:4427")!=null){var a=b("cr:4427").make;return i.jsx("span",{className:"x1atx4j1 x1n2onr6",children:i.jsx(a,{color:"secondary",inline:!0,size:"16",viewBox:"4 4 24 24"})})}return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}a.displayName=a.name+" [from "+f.id+"]";function c(){if(b("cr:4427")!=null){var a=b("cr:4427").make;return i.jsx(a,{color:"secondary",inline:!0,size:"16",viewBox:"2 4 24 24"})}return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}c.displayName=c.name+" [from "+f.id+"]";function e(){if(b("cr:4427")!=null){var a=b("cr:4427").make;return i.jsx(a,{color:"secondary",inline:!0,size:"24",viewBox:"4 4 24 24"})}return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("621884"),20)}):null}e.displayName=e.name+" [from "+f.id+"]";function j(){if(b("cr:4427")!=null){var a=b("cr:4427").make;return i.jsx(a,{color:"primary",inline:!1,size:"28",viewBox:"-1 -1 32 32"})}return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"primary",icon:d("fbicon")._(h("621884"),20)}):null}j.displayName=j.name+" [from "+f.id+"]";g.BadgeIcon=a;g.WelcomeCardBadgeIcon=c;g.ProfileCardBadgeIcon=e;g.EntryPointIcon=j}),98);
__d("MWCMBotDetailsEntrypoint.react",["fbt","ix","CometLazyPopoverTrigger.react","CommunityBotEnabledStatus","I64","JSResourceForInteraction","LS.re","LSIssueBotsInfoFetch","MAWInboxInfoButton.re","MWCMBotIcons.react","MWCMBotStrings","MWIcon.react","ReQL","ReQLSuspense","fbicon","react","regeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect,l=c("JSResourceForInteraction")("MWCMBotDetailsEntrypointDropdownMenu.react").__setRef("MWCMBotDetailsEntrypoint.react"),m=function(a){var b=a.bot;a=a.thread;return j.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{bot:b,thread:a},popoverResource:l,popoverType:"menu",children:function(a,e){return j.jsx(d("MAWInboxInfoButton.re").make,{addOnEnd:j.jsx(c("MWIcon.react"),{"aria-label":h._("__JHASH__JFJx3iugODR__JHASH__"),icon:d("fbicon")._(i("484391"),24),onPress:e,ref:a}),addOnStart:j.jsx(d("MWCMBotIcons.react").EntryPointIcon,{}),label:b.name,subLabelElement:b.enabledStatus===c("CommunityBotEnabledStatus").ENABLED?d("MWCMBotStrings").addedToChatLegend:d("MWCMBotStrings").notAddedToChatLegend})}})};function a(a){var e=a.thread,f=c("useReStore")();a=d("I64").to_string(e.threadKey);k(function(){var a=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(f.runInTransaction(function(a){return c("LSIssueBotsInfoFetch")(e.threadKey,d("LS.re").make(a))},"readwrite"));case 2:case"end":return a.stop()}},null,this)};a()},[f,a]);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(f.table("bots")).getKeyRange(e.threadKey)},[f,a]);return a.length===0?null:j.jsx(j.Fragment,{children:a.map(function(a){return j.jsx(m,{bot:a,thread:e},d("I64").to_string(a.botId))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMInboxInfoGroupInfoSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";a=b("fbicon")._(g("481767"),20);c={icon:a};f.Link=c}),null);
__d("MWCMInboxInfoGroupCopyLinkButton.bs",["fbt","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWInboxInfoButton.bs","MWCMChannelLinkShareTrigger.bs","MWCMInboxInfoGroupInfoSectionIcons.bs","MWCMLinkShare.bs","MWIcon.react","MWPBumpEntityKey.bs","MessengerEnvironment","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("__JHASH__c2UIg9XVAm2__JHASH__"),k=g._("__JHASH__iEaTUwEK-KE__JHASH__");function a(a){a=a.thread;var c=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").communityMessagingLinkSharingV2,a),d=b("MessengerEnvironment").facebookdotcom;if(c&&d)return i.jsx(b("MWCMChannelLinkShareTrigger.bs").make,{thread:a,children:function(a){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("MWIcon.react"),{icon:b("MWCMInboxInfoGroupInfoSectionIcons.bs").Link.icon}),label:j,onPress:function(c){return b("bs_curry")._1(a)},subLabel:k})}});else return i.jsx(b("MWCMLinkShare.bs").make,{thread:a,children:function(a,c){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("MWIcon.react"),{icon:b("MWCMInboxInfoGroupInfoSectionIcons.bs").Link.icon}),label:j,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","copy_link");return b("bs_curry")._1(c)},subLabel:k})}})}c=a;f.make=c}),null);
__d("MWCMInboxInfoGroupLink.react",["fbt","ix","CurrentEnvironment","I64","MAWInboxInfoButton.re","MWIcon.react","XCometGroupLandingControllerRouteBuilder","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.folder;var b=a.fbGroupId;a=a.name;b="https://www.facebook.com"+c("XCometGroupLandingControllerRouteBuilder").buildURL({group_id:d("I64").to_string(b)});var e=c("CurrentEnvironment").messengerdotcom?"_blank":"_self";return j.jsx(d("MAWInboxInfoButton.re").make,{addOnStart:j.jsx(c("MWIcon.react"),{icon:d("fbicon")._(i("510950"),20)}),label:h._("__JHASH__XLqB3kIUlsv__JHASH__",[h._param("facebook group name",a)]),linkProps:{target:e,url:b}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoViewPinnedMessages.react",["fbt","ix","JSResourceForInteraction","MAWInboxInfoButton.re","MWPBumpEntityKey.re","cr:3639","cr:3640","cr:3641","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=h._("__JHASH__xaWBg6G3BFD__JHASH__"),l=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxInfoViewPinnedMessages.react");function a(a){var e=a.thread;a=null;var f=c("useCometLazyDialog")(l),g=f[0];b("cr:3640")?a=j.jsx(b("cr:3640"),{color:"primary",size:"24"}):b("cr:3639")&&b("cr:3641")&&(a=j.jsx(b("cr:3639"),{color:"primary",icon:b("cr:3641")._(i("511758"),20)}));return j.jsx(d("MAWInboxInfoButton.re").make,{addOnStart:a,label:k,onPress:function(){c("MWPBumpEntityKey.re").bumpEntityKeyWithAppId("mw.infobar","view_pinned_messages"),g({onClose:function(){},threadKey:e.threadKey})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoViewPinnedMessages.bs",["MWInboxInfoViewPinnedMessages.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWInboxInfoViewPinnedMessages.react");f.make=a}),null);
__d("MWInboxInfoGroupInfoSection.bs",["fbt","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LsThreadType.bs","MWCMBotDetailsEntrypoint.react","MWCMInboxInfoGroupCopyLinkButton.bs","MWCMInboxInfoGroupLink.react","MWCMLinkShare.bs","MWCMUseFolder.bs","MWCollapsible.bs","MWInboxInfoViewPinnedMessages.bs","MWInboxPersistedUIState","MWLSThreadCapabilities.bs","MWPBumpEntityKey.bs","MessengerJoinableModeType.bs","bs_caml","bs_curry","cr:4168","cr:5006","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("__JHASH__2VyuXNJPq8c__JHASH__");function a(a){var c=a.pushPage;a=a.thread;var d=b("MWInboxPersistedUIState").usePersistedUIState(!1,"__MWInboxInfoGroupInfoSection.isOpen__"),e=d[1],f=d[0];d=b("MWLSThreadCapabilities.bs").useCapabilities();var g=b("MWCMUseFolder.bs").useHook(a),h=b("MWCMLinkShare.bs").useShouldShowInviteLink(a),k=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDetailsShowChatInviteLink,a);d=b("qex")._("898")===!0&&b("MWLSThreadCapabilities.bs").canPinMessage(d);var l=g!==void 0?b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").adminActions,g)&&b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").isCommunityBotsEnabled,g):!1,m=b("bs_caml").i64_eq(a.threadType,b("LsThreadType.bs").discoverablePublicChat),n=m&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").memberRequest,a);if(g!==void 0)h=h?i.jsx(b("MWCMInboxInfoGroupCopyLinkButton.bs").make,{folder:g,thread:a},"3"):null;else if(k&&m){k=a.threadInviteLink;h=b("cr:5006")==null||!(k!==void 0&&b("bs_caml").i64_eq(a.threadInvitesEnabledV2,b("MessengerJoinableModeType.bs").joinable))?null:i.jsx(b("cr:5006").make,{threadInviteLink:k},"4")}else h=null;m=[l?i.jsx(b("MWCMBotDetailsEntrypoint.react"),{thread:a},"1"):null,g!==void 0?i.jsx(b("MWCMInboxInfoGroupLink.react"),{folder:g},"2"):null,h,d?i.jsx(b("MWInboxInfoViewPinnedMessages.bs").make,{thread:a},"5"):null,n&&!(b("cr:4168")==null)?i.jsx(b("cr:4168").make,{pushPage:c,thread:a},"6"):null];k=m.some(function(a){return a!==null});if(k)return i.jsx(b("MWCollapsible.bs").make,{isOpen:f,label:j,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","group_info_section."+(f?"close":"open"));return b("bs_curry")._1(e,function(a){return!f})},children:m});else return null}c=b("cr:4168");d=b("cr:5006");e=a;f.$MWInboxInfoMemberRequests$requireCond=b("cr:4168");f.mwInboxInfoMemberRequests=c;f.$MWInboxInfoCopyLinkPublicChat$requireCond=b("cr:5006");f.mwInboxInfoCopyLinkPublicChat=d;f.make=e}),null);
__d("MWInboxInfoCopyLinkPublicChat.bs",["fbt","MAWInboxInfoButton.bs","MWCMInboxInfoGroupInfoSectionIcons.bs","MWIcon.react","MWPBumpEntityKey.bs","bs_curry","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.threadInviteLink;var c=b("bs_curry")._1(b("useCopyText"),{value:a}),d=c[2];c=i.useCallback(function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","copy_link"),b("bs_curry")._1(d),b("cometPushToast").cometPushSimpleToast(g._("__JHASH___XzDeRLuNLt__JHASH__"))},[a]);return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("MWIcon.react"),{icon:b("MWCMInboxInfoGroupInfoSectionIcons.bs").Link.icon}),label:g._("__JHASH__c2UIg9XVAm2__JHASH__"),onPress:c})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWInboxInfoMemberRequests.bs",["fbt","ix","MAWInboxInfoButton.bs","MWIcon.react","MWInboxInfoMemberRequestsPushPage.bs","ReQL.bs","ReQLSubscription.bs","bs_curry","cr:3238","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.pushPage,d=a.thread,e=b("useReStore")();a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("group_membership_approval_requests")),{hd:d.threadKey,tl:0})},[e,JSON.stringify(d.threadKey)]));a=a.length;var f=j.useCallback(function(a){if(c!==void 0)return b("bs_curry")._1(c,function(a){return j.jsx(b("MWInboxInfoMemberRequestsPushPage.bs").make,{onReturn:a.onReturn,threadKey:d.threadKey})})},[c,JSON.stringify(d.threadKey)]),i={addOnStart:j.jsx(b("MWIcon.react"),{icon:b("cr:3238")==null?b("fbicon")._(h("538346"),20):function(a){return j.jsx(b("cr:3238").make,{color:"black",size:"20"})}}),label:g._("__JHASH__4FAWQwvEk9h__JHASH__"),onPress:function(a){return b("bs_curry")._1(f)}};a=a>0?g._("__JHASH__8y8AMiPf1gZ__JHASH__",[g._plural(a,"number")]):void 0;a!==void 0&&(i.subLabel=a);return j.jsx(b("MAWInboxInfoButton.bs").make,babelHelpers["extends"]({},i))}a.displayName=a.name+" [from "+e.id+"]";c=b("cr:3238");d=a;f.$MDSFriendConfirmSvgIcon$requireCond=b("cr:3238");f.mdsFriendConfirmSvgIcon=c;f.make=d}),null);