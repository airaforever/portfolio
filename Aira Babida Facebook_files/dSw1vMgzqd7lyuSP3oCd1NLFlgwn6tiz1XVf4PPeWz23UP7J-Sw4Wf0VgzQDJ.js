if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",[0,73],d[1],f,f,[0,0],[0,0],f,f,[0,0]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",[0,72],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",c.i64.to_string(a[1])),d[1].set("muted_user_id",c.i64.to_string(a[0])),d[1].set("owner_id",c.i64.to_string(d[0])),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",[0,13],d[2])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(d){return c.sp(b("LSVerifyThreadRowExists"),a[0],a[2],[0,1])},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=[0,1]:(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,19],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):(g=e.item,d[1]=g.timestampMs,c.ftr(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(g){var e=g.done;g.value;return e?c.seq([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=[0,1]:(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,19],d[6],f,f,[0,0],[0,0],f,f,[0,0])}]):0}))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateBotSubscription",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",c.i64.to_string(a[0])),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",[0,12],d[1])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateDraftMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({draftMessage:a[1]===""||a[1]===d?d:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[5]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[4],d[5],f)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",[0,279],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",[0,235],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7763133933696648"}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters.facebook",["FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"),metadata:{},name:"FBPayHubTransactionDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1932967")}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048846461842440"}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5764908406904584"}),null);
__d("MWPublicChatsNUXQuickPromotionQuery$Parameters",["MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWPublicChatsNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometPhotoGrid.react",["CometAspectRatioContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){return a<2&&b%3===2}function a(a){var b=a.spacing,d=b===void 0?"narrow":b;b=a.uniformGrid;var e=b===void 0?!1:b;b=babelHelpers.objectWithoutPropertiesLoose(a,["spacing","uniformGrid"]);a=h.Children.toArray(b.children);var f=a.length;return h.jsx("div",{className:c("stylex")({"display-1":"x78zum5","flex-direction-1":"x1q0g3np","flex-wrap-1":"x1a02dak"},d==="narrow"?{"margin-top-1":"x1kgmq87","margin-end-1":"xwrv7xz","margin-bottom-1":"xmgb6t1","margin-start-1":"x8182xy"}:null,d==="wide"?{"margin-top-1":"x1198e8h","margin-end-1":"xj3m2qm","margin-bottom-1":"x1huwwth","margin-start-1":"x1uirj4r"}:null),children:h.Children.map(a,function(a,b){return h.jsx("div",{className:c("stylex")({"box-sizing-1":"x9f619","flex-basis-1":"x1yu6fn4"},d==="wide"?{"padding-top-1":"xyqdw3p","padding-end-1":"x10ogl3i","padding-bottom-1":"xg8j3zb","padding-start-1":"x1k2j06m"}:null,d==="narrow"?{"padding-top-1":"x1nn3v0j","padding-end-1":"xg83lxy","padding-bottom-1":"x1120s5i","padding-start-1":"x1h0ha7o"}:null,!e&&i(b,f)?{"flex-basis-1":"x4pfjvb"}:null),children:h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:1,children:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.transactionID;return{queries:{fBPayHubTransactionDetailDialogQueryReference:{parameters:b("FBPayHubTransactionDetailDialogQuery$Parameters"),variables:{transaction_id:a}}}}},root:c("JSResourceForInteraction")("FBPayHubTransactionDetailDialog.react").__setRef("FBPayHubTransactionDetailDialog.entrypoint")};g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);(this.__prefix==="@"||this.__prefix==="#")&&(a.className="xt0e3qv xv78j7m");a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a){return new i(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","UserAgent","gkx","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(c("gkx")("6934")?c("UserAgent").isPlatform("Mac OS X")?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey:!e.ctrlKey&&!e.metaKey)){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQueryReference:{parameters:c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters"),variables:{id:a.threadId,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.react").__setRef("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint")};g["default"]=a}),98);
__d("MWPublicChatsNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWPublicChatsNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWPublicChatsNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWPublicChatsNUXQuickPromotion.react").__setRef("MWPublicChatsNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MAWEphemeralConsts.bs",["WATimeUtils"],(function(a,b,c,d,e,f){"use strict";a=300;c=600;d=900;e=1800;var g=(b=b("WATimeUtils")).HOUR_SECONDS,h=Math.imul(b.HOUR_SECONDS,6),i=Math.imul(b.HOUR_SECONDS,12),j=b.DAY_SECONDS;b=Math.imul(b.DAY_SECONDS,14);var k=60,l=1e3,m=5,n=10,o=30,p=60,q=h;f.minuteSeconds=k;f.msPerSec=l;f.fiveSeconds=m;f.tenSeconds=n;f.thirtySeconds=o;f.oneMinuteInSeconds=p;f.fiveMinutesInSeconds=a;f.tenMinutesInSeconds=c;f.fifteenMinutesInSeconds=d;f.thirtyMinutesInSeconds=e;f.oneHourInSeconds=g;f.sixHoursInSeconds=h;f.twelveHoursInSeconds=i;f.oneDayInSeconds=j;f.ephemeralMaxDelectionWindowForUnseenMessage=b;f.ephemeralReportingWindowInSeconds=q}),null);
__d("useSecureMessageSendTime",["MAWGating","MAWStateContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useDebugValue;function a(a){if(!d("MAWGating").isDebugUIEnabled())return void 0;a=d("MAWStateContext.react").useStaleMAWStateWithoutRerendering().messageLatencies[a]||{};var b=a.acked;a=a.sent;b=b!==void 0?b-a:void 0;h(b);return b}g["default"]=a}),98);
__d("MWLSAdContextCtaParser.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=new Set(["ads_context"]);function a(a){var c=h.useRef(null);a=b("useCometLazyDialog")(b("JSResource")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs"));var d=a[0];return function(a,b){var e=b.ctaType;if(e==="ads_context")return{_0:function(c){return d({adId:b.ctaId,onClose:function(a){},threadKey:a.banner.threadKey},function(a){})},_1:c,TAG:1};else return{_0:void 0,TAG:3}}}f.adContextCta=c;f.useHook=a}),null);
__d("MWLSEnsureAdContextExists.bs",["LS.bs","LSRequestAdContextFromThreadKey","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn();h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSRequestAdContextFromThreadKey")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a)},[d,c])}f.useHook=a}),null);
__d("MWChatHeaderDetailsSubtitleIcons.bs",["cr:1737008"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1737008").Muted;f.$MDSMWChatHeaderDetailsSubtitleIcons$OR$TetraMWChatHeaderDetailsSubtitleIcons$requireCond=b("cr:1737008");f.Muted=a}),null);
__d("MWChatHeaderDetailsSubtitle.bs",["fbt","ix","CometMiddot.react","CometTintedIcon.react","MWCMInboxHeaderCommunityGroupName.bs","MWCMThreadTypes.bs","MWChatHeaderDetailsSubtitleIcons.bs","MWLSThread.bs","MWThread_DEPRECATED.bs","MWTooltip.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.actorAttribution,d=a.isActiveNow,e=a.isMuted;a=a.isOngoingCall;var f=b("MWThread_DEPRECATED.bs").useIdExn();f=b("MWThread_DEPRECATED.bs").toThreadKey(f);f=b("MWLSThread.bs").useThread(f);var i,k=0;f!==void 0&&b("MWCMThreadTypes.bs").isJoinedCMThread(f.threadType)?i=j.jsx(b("MWCMInboxHeaderCommunityGroupName.bs").make,{thread:f}):k=1;k===1&&(i=a?g._("__JHASH__440_c1t5rby__JHASH__"):d?g._("__JHASH__u26x21RxFUk__JHASH__"):c!==void 0?c:null);f=e&&i!==null?j.jsx(b("CometMiddot.react"),{}):null;k=e?j.jsx(b("MWTooltip.react"),{tooltip:g._("__JHASH__XpvJmcPfz_-__JHASH__"),align:"start",position:"above",children:j.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(h("636130"),12),testid:void 0})}):null;return j.jsxs(j.Fragment,{children:[i,f,k]})}function c(a){return g._("__JHASH__u26x21RxFUk__JHASH__")}function d(a){a=a.forceInlineDisplay;var c={align:"start",children:b("bs_curry")._1(b("MWChatHeaderDetailsSubtitleIcons.bs").Muted.icon),position:"above",tooltip:g._("__JHASH__XpvJmcPfz_-__JHASH__")};a!==void 0&&(c.forceInlineDisplay=a);return j.jsx(b("MWTooltip.react"),babelHelpers["extends"]({},c))}d.displayName=d.name+" [from "+e.id+"]";function k(a){return g._("__JHASH__440_c1t5rby__JHASH__")}e=a;a=c;c=d;d=k;f.make=e;f.activeNow=a;f.mutedIcon=c;f.ongoingCall=d}),null);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755417")).$$Audio;d=a.Video;e=a.Info;f.$MDSMWChatRTCButtonIcons$OR$TetraMWChatRTCButtonIcons$requireCond=a;f.$$Audio=c;f.Video=d;f.Info=e}),null);
__d("TetraMWChatHeaderDetailsSubtitleIcons.bs",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(g("636130"),12),testid:void 0})}a.displayName=a.name+" [from "+e.id+"]";c={icon:a};f.Muted=c}),null);
__d("TetraMWChatRTCButtonIcons.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={isActive:{fill:"x1xgahvj"}};function a(a,b){return i.jsxs("svg",{height:b,role:"presentation",viewBox:"-5 -5 30 30",width:b,children:[i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:"none",stroke:a})]})}a.displayName=a.name+" [from "+e.id+"]";a={icon:a};function c(a,c,d){d=d!==void 0?d:!1;var e=d?"-3":"-5";return i.jsxs("svg",{height:c,role:"presentation",viewBox:e+" -5 30 30",width:c,children:[i.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),d?i.jsx("circle",{className:(h||(h=b("stylex")))(j.isActive),cx:"24",cy:"10",r:"2"}):null]})}c.displayName=c.name+" [from "+e.id+"]";c={icon:c};function d(a,b){return i.jsx("svg",{height:"24px",name:"icon",role:"presentation",viewBox:"0 0 36 36",width:"24px",children:i.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:i.jsx("path",{d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a,stroke:a},"lens")})})}d.displayName=d.name+" [from "+e.id+"]";e={icon:d};f.styles=j;f.$$Audio=a;f.Video=c;f.Info=e}),null);
__d("MWUseAriaDescribedByForComposer.bs",["fbt","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","intlList","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:a.contactId,tl:0}))})},[c,JSON.stringify(a.threadKey)]));return i.useMemo(function(){var c=a.threadName;if(c!==void 0)return g._("__JHASH__AZYBx6Ry0lI__JHASH__",[g._param("name of conversation",c)]).toString();var f=[];e.forEach(function(a){if(a!==void 0&&b("bs_caml").i64_neq(a.id,d)){f.push(a.name);return}});c=b("intlList")(f,b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._("__JHASH__a-kg7czmDb1__JHASH__",[g._param("participant list",c)]).toString()},[JSON.stringify(a.threadKey),JSON.stringify(d)])}f.useHook=a}),null);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerMentionsViewItem.react",["CometIcon.react","CometImageIcon_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.icon,i=f.photoURI;f=f.subtitle;return h.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,children:h.jsxs("div",{className:"x1jzhcrs x78zum5 x6s0dn4","data-testid":void 0,children:[g!=null&&h.jsx(c("CometIcon.react"),{color:"primary",disabled:!1,icon:g}),i!=null&&h.jsx("div",{className:"xgd8bvy x1fgtraw",children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:28,src:i,style:"circle"})}),h.jsx("div",{className:"x16n37ib",children:h.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["fbt","CurrentUser","MWChatComposerMentionsUtils","Promise","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=6;a=function(){function a(a,b,d){this.$1=[];this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()});this.$2=b;this.$3=(a=d)!=null?a:null}var e=a.prototype;e.bootstrap=function(){return};e.fetchCache=function(a){var b=a.query,e=[];this.$1.forEach(function(a){var c=a.actualName,f=a.contactId,g=a.nickname,h=a.profilePictureUrl;a=a.secondaryName;var i=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,b)?i="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(c,b)?i="name":g!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,b)&&(i="nickname");if(i!=null&&h!=null){var j;e.push({decorType:"regular",handle:(j=a)!=null?j:i==="nickname"?(j=g)!=null?j:c:c,key:f+" "+i,label:c,rawData:{photoURI:h,source:i,subtitle:(j=a)!=null?j:g},type:"entry"})}});if(c("gkx")("1608686")){var f=h._("__JHASH__ovEnf-Gks1s__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(f,b)){var g=h._("__JHASH__oEf5vzwfdeB__JHASH__").toString();e.push({decorType:"regular",handle:f,key:""+this.$2,label:f,rawData:{source:"all",subtitle:g},type:"entry"})}f=h._("__JHASH__pCjH3XwrsJ-__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(f,b)){g=h._("__JHASH__l7GTPV1uQCP__JHASH__").toString();e.push({decorType:"regular",handle:f,key:this.$2+"-active",label:f,rawData:{source:"all",subtitle:g},type:"entry"})}}e.length>i&&(e=e.slice(0,i));e.length<i&&this.$3&&this.$3(b,i-e.length);return{entries:e,params:a}};e.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.participants,d=a.threadFBID,e=a.triggerParticipantsSearch;a=h(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(b,d,e),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[b,d,e]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("MWChatConnectionStatus.bs",["fbt","MWText.react","MqttState.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{backgroundColor:"x17zy6dr",borderBottom:"x1r4l5d8",display:"x1lliihq",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",textAlign:"x2b8uid"}};function l(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MWText.react"),{type:"meta4",children:a})})}l.displayName=l.name+" [from "+e.id+"]";function a(a){a=a.connectionStatus;if(a===b("MqttState.bs").connected)return null;else if(a===b("MqttState.bs").disconnected)return l(g._("__JHASH__c91Lbfy37OX__JHASH__"));else if(a===b("MqttState.bs").connecting)return l(g._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}c=a;f.styles=k;f.renderStatus=l;f.make=c}),null);
__d("MWChatConnectionStatusCard.bs",["LSPlatformConnectionStatusContext.bs","MWChatConnectionStatus.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("LSPlatformConnectionStatusContext.bs").context);return h.jsx(b("MWChatConnectionStatus.bs").make,{connectionStatus:a.status})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWInboxInfoPanelContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({isExpanded:void 0,isOnMemberRequestsPageRef:{current:!1},pushMemberRequestsPage:function(a){},setIsExpanded:function(a){},setPushMemberRequestsPage:function(a){},setShouldNavToMemberRequests:function(a){},shouldNavToMemberRequests:!1});function a(a){var b=a.children,c=a.isExpanded,d=a.setIsExpanded,e=h.useRef(!1),f=e.current,g=h.useRef(function(a){}),j=g.current,k=h.useRef(!1);a=h.useMemo(function(){return{isExpanded:c,isOnMemberRequestsPageRef:k,pushMemberRequestsPage:j,setIsExpanded:d,setPushMemberRequestsPage:function(a){g.current=a},setShouldNavToMemberRequests:function(a){e.current=a},shouldNavToMemberRequests:f}},[c,d,f,j,k]);return h.createElement(i.Provider,{children:b,value:a})}c=a;f.context=i;f.make=c}),null);
__d("MWInboxInfoPanelContext.re",["MWInboxInfoPanelContext.bs"],(function(a,b,c,d,e,f){a=b("MWInboxInfoPanelContext.bs").context;f.context=a}),null);
__d("UsePublicChatShortlinkCallback.bs",["usePublicChatShortlinkCallback"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("usePublicChatShortlinkCallback")(a)}f.useHook=a}),null);
__d("MWCMOnboardingNuxFactory.react",["declareNUXRequireable","useNUX"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){return c("useNUX")(a)}}b=c("declareNUXRequireable")(a);g["default"]=b}),98);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","MAWGating","MWChatContactPresenceHook.bs","MWPActor.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","cr:4452","cr:4453","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("__JHASH__KJ9BpmLEozf__JHASH__");function k(a){var c=a.threadKey;a=b("bs_int64").to_string(c);var d=b("useReStore")(),e=b("MWPActor.bs").useActor();return b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){return a.contactId})},[d,e,a]))}function l(a){var c=a.contactId,d=a.renderNullState;a=a.renderWrapper;var e=b("MWChatContactPresenceHook.bs").useIsActive(c);c=b("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(c);if(e)return b("bs_curry")._1(a,j);else if(c!==void 0)return b("bs_curry")._1(a,g._("__JHASH___H_8HkZmS8j__JHASH__",[g._param("time",i.jsx(b("CometRelativeTimestamp.react"),{date:new Date(c),format:"minimized"}))]));else return b("bs_curry")._1(d)}c={make:l};function m(a){var c=a.renderNullState,d=a.renderWrapper;a=a.thread;a=k(a);if(a.length!==1)return b("bs_curry")._1(c);a=a[0];return i.jsx(l,{contactId:a,renderNullState:c,renderWrapper:d})}m.displayName=m.name+" [from "+e.id+"]";d={PresenceText:c,make:m};function n(a){var c=a.renderNullState,d=a.renderWrapper;a=a.thread;a=k(a);a=b("MWChatContactPresenceHook.bs").useHasActiveContact(a);if(a)return b("bs_curry")._1(d,j);else return b("bs_curry")._1(c)}e={make:n};function o(a){return a}function p(a){return null}function a(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;d=d!==void 0?d:o;a=a!==void 0?a:p;var e=c.threadType;if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)&&b("MAWGating").isArmadillo()&&b("MAWGating").isE2EEAttributionAndPresenceEnabled())if(b("cr:4453")==null)return i.jsx(m,{renderNullState:a,renderWrapper:d,thread:c});else return i.jsx(b("cr:4453").make,{renderNullState:a,renderWrapper:d,thread:c});else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").secureMessageOverWaGroup)&&b("MAWGating").isArmadillo()&&b("MAWGating").isE2EEAttributionAndPresenceEnabled())if(b("cr:4452")==null)return i.jsx(n,{renderNullState:a,renderWrapper:d,thread:c});else return i.jsx(b("cr:4452").make,{renderNullState:a,renderWrapper:d,thread:c});else return null}c=a;f.OneOnOnePresence=d;f.GroupPresence=e;f.defaultRenderWrapper=o;f.defaultRenderNullState=p;f.$GroupPresenceText$requireCond=b("cr:4452");f.$OneOnOnePresenceText$requireCond=b("cr:4453");f.make=c}),null);
__d("LSRtcCallState.re",["LSRtcCallState.bs"],(function(a,b,c,d,e,f){c=(a=b("LSRtcCallState.bs")).noOngoingCall;f.noOngoingCall=c;d=a.audioGroupCall;f.audioGroupCall=d;e=a.videoGroupCall;f.videoGroupCall=e;b=a.video1to1Call;f.video1to1Call=b;c=a.audio1to1Call;f.audio1to1Call=c}),null);
__d("LSContactVerificationBadge.bs",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={badge:{paddingStart:"xurb0ha"}};function a(a){var c=a.contact,d=a.icon;a=a.size;c=b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,c);if(c!==void 0&&c)return i.jsx("span",{className:(h||(h=b("stylex")))(j.badge),children:d!==void 0?b("bs_caml_option").valFromOption(d):a!==void 0?i.jsx(b("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"}):null});else return null}c=a;f.styles=j;f.make=c}),null);
__d("LSVerificationBadge.bs",["LSContactVerificationBadge.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","bs_caml_option","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.icon,d=a.size,e=a.thread,f=b("useReStore")(),g=b("MWPActor.bs").useActor();a=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).take(a.map(a.filter(a.getKeyRange(a.fromTableAscending(f.table("participants")),{hd:e.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,g)}),function(a){var c=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:a.contactId,tl:0}));return[a,c]}),2)},[f,JSON.stringify(e.threadKey),g]));var i=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:g,tl:0})},[f,g])),j=a.length;if(j!==1){if(j!==0)return null;if(i===void 0)return null;j=i}else{i=a[0];a=i[1];if(a===void 0)return null;j=a}i={contact:j};d!==void 0&&(i.size=b("bs_caml_option").valFromOption(d));c!==void 0&&(i.icon=b("bs_caml_option").valFromOption(c));return h.jsx(b("LSContactVerificationBadge.bs").make,babelHelpers["extends"]({},i))}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWInboxHeaderDetails",["CometMiddot.react","CometPlaceholder.react","I64","LSPresenceStatusText.bs","LSRtcCallState.re","LSThreadTitle.bs","LSVerificationBadge.bs","MWCMInboxHeaderCommunityGroupName.bs","MWCMThreadTypes.bs","MWChatCalculateIsMutedFromExpireTime.bs","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MWSeparatorContainer.react","MWText.react","MWVerticalRhythm.bs","MessagingThreadType.re","MessengerMuteUtils.bs","ReQL","ReQLSuspense","cr:4188","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=((e=b("cr:4188"))!=null?e:{}).make,j={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"xj9xw9b"},item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w"},middot:{paddingEnd:"x10ogl3i",paddingStart:"x1k2j06m"}};function a(a){var b=a.color,e=a.thread;a=a.threadNameSize;var f=c("useReStore")(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(f.table("contacts")).getKeyRange(e.threadKey).filter(c("MWLSContactTypeExactUtils.bs").isIgContact)},[f,e.threadKey]),k=(g==null?void 0:g.secondaryName)!=null&&(g==null?void 0:g.secondaryName)!==""!==""?g.secondaryName:null;g=c("MWCMThreadTypes.bs").isJoinedCMThread(e.threadType);var l=d("I64").equal(e.threadType,c("MessagingThreadType.re").discoverablePublicChat),m=c("MessengerMuteUtils.bs").calcMuteUntilMs(e),n=c("MWChatCalculateIsMutedFromExpireTime.bs").useHook(m);m=!d("I64").equal(e.ongoingCallState,c("LSRtcCallState.re").noOngoingCall);var o=h.jsx("div",{className:c("stylex")(j.middot),children:h.jsx(c("MWText.react"),{align:"center",color:b,numberOfLines:1,type:"meta3",children:h.jsx(c("CometMiddot.react"),{})})}),p=h.jsx(d("LSThreadTitle.bs").make,{thread:e});return h.jsxs("div",{className:c("stylex")(j.container),children:[h.jsx("div",{className:c("stylex")(j.item),children:h.jsxs(c("MWText.react"),{align:"center",color:b,isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:a,children:[p,h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("LSVerificationBadge.bs").make,{size:"small",thread:e})})]})}),l?i!=null&&e.memberCount!=null?h.jsxs(h.Fragment,{children:[h.jsx(d("MWVerticalRhythm.bs").make,{height:8}),h.jsx(c("MWText.react"),{align:"center",numberOfLines:1,type:"meta3",children:h.jsx(i,{count:d("I64").to_int32(e.memberCount)})})]}):null:g?h.jsx(d("MWCMInboxHeaderCommunityGroupName.bs").make,{renderWrapper:function(a){return h.jsxs(h.Fragment,{children:[h.jsx(d("MWVerticalRhythm.bs").make,{height:6}),h.jsx("div",{className:c("stylex")(j.item),"data-testid":void 0,children:h.jsx(c("MWText.react"),{align:"center",color:b,numberOfLines:1,type:"meta3",children:a})})]})},thread:e}):m?h.jsxs(h.Fragment,{children:[h.jsx(d("MWVerticalRhythm.bs").make,{height:6}),h.jsxs(c("MWSeparatorContainer.react"),{separator:o,xstyle:j.item,children:[k!=null?h.jsx(c("MWText.react"),{align:"center",color:b,numberOfLines:1,type:"meta3",children:k}):null,h.jsx(c("MWText.react"),{align:"center",color:b,numberOfLines:1,type:"meta3",children:h.jsx(c("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{})}),n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})]}):h.jsx(d("LSPresenceStatusText.bs").make,{renderNullState:function(){return h.jsxs(c("MWSeparatorContainer.react"),{beforeContent:h.jsx(d("MWVerticalRhythm.bs").make,{height:6}),separator:o,xstyle:j.item,children:[k!=null?h.jsxs(c("MWText.react"),{align:"center",color:b,numberOfLines:1,type:"meta3",children:[" ",k," "]}):null,n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})},renderWrapper:function(a){return h.jsxs(h.Fragment,{children:[h.jsx(d("MWVerticalRhythm.bs").make,{height:6}),h.jsxs(c("MWSeparatorContainer.react"),{separator:o,xstyle:j.item,children:[k!==null?h.jsx(c("MWText.react"),{align:"center",color:b,numberOfLines:1,type:"meta3",children:k}):null,h.jsx(c("MWText.react"),{align:"center",color:b,numberOfLines:1,type:"meta3",children:a}),n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})]})},thread:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactLink.bs",["CometLink.react","CometPressable.react","CurrentEnvironment","FBID.bs","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.secondaryName,d=b("MWLSContactTypeExactUtils.bs").isIgContact(a);return c!==void 0&&d?"https://www.instagram.com/"+c:(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id))})}var i={expanding:{display:"x78zum5"}};function c(a){var c=a.isText,d=a.children,e=a.contact,f=a.label;a=a.testid;c=c!==void 0?c:!0;var g=f!==void 0?b("bs_caml_option").some(f):void 0,j=e.secondaryName,k=b("MWLSContactTypeExactUtils.bs").isIgContact(e);if(j!==void 0&&k){k="https://www.instagram.com/"+j;if(c){j={children:d,href:k,target:"_blank"};f!==void 0&&(j.label=f);a!==void 0&&(j.testid=a);return h.jsx(b("CometLink.react"),babelHelpers["extends"]({},j))}j={children:d,expanding:!0,linkProps:{target:"_blank",url:k},overlayRadius:6,xstyle:function(a){return[i.expanding]}};g!==void 0&&(j.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(j.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),babelHelpers["extends"]({},j))}k=(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e.id))});j=b("CurrentEnvironment").facebookdotcom?void 0:"_blank";if(c){e={children:d,href:k};j!==void 0&&(e.target=b("bs_caml_option").valFromOption(j));f!==void 0&&(e.label=f);a!==void 0&&(e.testid=a);return h.jsx(b("CometLink.react"),babelHelpers["extends"]({},e))}c={url:k};j!==void 0&&(c.target=b("bs_caml_option").valFromOption(j));f={children:d,expanding:!0,linkProps:c,overlayRadius:6,xstyle:function(a){return[i.expanding]}};g!==void 0&&(f.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(f.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),babelHelpers["extends"]({},f))}c.displayName=c.name+" [from "+e.id+"]";d=c;f.getHref=a;f.styles=i;f.make=d}),null);
__d("MWInboxHeaderDetailsContainer.bs",["CometLazyDialogTrigger.react","CometPlaceholder.react","CometPressable.react","JSResourceForInteraction","LSContactLink.bs","LSMessagingThreadTypeUtil.bs","MDSRow.react","MDSRowItem.react","MWCMUseFolder.bs","MWInboxHeaderDetails","MWThreadPicture.bs","MWUseAriaLabelForThread.bs","MWV2GetOtherUser.bs","ReQL.bs","ReQLSuspense","bs_caml_option","bs_curry","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={title:{maxWidth:"x193iq5w"}};function j(a){var c=a.children,d=a.thread,e=h.useRef(null),f=b("useReStore")();a=b("ReQLSuspense").useArray(function(){var a;return(a=b("ReQL.bs")).take(a.leftJoin(a.getKeyRange(a.fromTableAscending(f.table("participants")),{hd:d.threadKey,tl:0}),a.fromTableAscending(f.table("contacts"))),8)},[d.threadKey]);a=b("MWV2GetOtherUser.bs").useOtherUser(d,a);var g=b("MWCMUseFolder.bs").useHook(d),j=b("MWUseAriaLabelForThread.bs").useHook(d);if(a!==void 0){a=a[1];return h.jsx(b("LSContactLink.bs").make,{contact:a,isText:!1,label:a.name,children:c})}if(!b("LSMessagingThreadTypeUtil.bs").isGroup(d.threadType))return c;a={onClose:function(a){}};g!==void 0&&(a.folder=b("bs_caml_option").valFromOption(g));return h.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:a,dialogResource:b("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{"class":"fluid",name:"MWLSGroupMembershipDialog"}).__setRef("MWInboxHeaderDetailsContainer.bs"),children:function(a){return h.jsx(b("CometPressable.react"),{"aria-label":j,onPress:function(c){return b("bs_curry")._1(a)},overlayDisabled:!0,ref:e,xstyle:function(a){return[i.title]},children:c})}})}j.displayName=j.name+" [from "+e.id+"]";c={make:j,styles:i};var k={detailsContainer:{paddingStart:"x1h0ha7o"}};function a(a){var c=a.photoSize,d=a.badgeSize,e=a.threadNameSize,f=a.color,g=a.thread;a=a.isContainerPressable;c=c!==void 0?c:"s_40";d=d!==void 0?d:10;e=e!==void 0?e:"headlineEmphasized3";a=a!==void 0?a:!0;d=h.jsx(b("MDSRowItem.react"),{children:h.jsx(b("MWThreadPicture.bs").make,{badgeSize:d,photoSize:c,thread:g,withAltText:!1})});c={thread:g,threadNameSize:e};f!==void 0&&(c.color=b("bs_caml_option").valFromOption(f));e=h.jsx(b("MDSRowItem.react"),{expanding:!0,xstyle:[k.detailsContainer],children:h.jsx(b("MWInboxHeaderDetails"),babelHelpers["extends"]({},c))});return h.jsx(b("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:h.jsx(b("CometPlaceholder.react"),{fallback:null,children:a?h.jsxs(j,{thread:g,children:[d,e]}):h.jsxs(h.Fragment,{children:[h.jsx(j,{thread:g,children:d}),e]})})})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.ThreadPressable=c;f.styles=k;f.make=d}),null);
__d("MWInboxHeaderPublicChatSubText.react",["fbt","CometMiddot.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.count;return i.jsxs(i.Fragment,{children:[h._("__JHASH__u3LpXcI2cyj__JHASH__"),i.jsx(c("CometMiddot.react"),{}),h._("__JHASH__auWIPhKvwTb__JHASH__",[h._plural(a,"number")])]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderPublicChatSubText.bs",["MWInboxHeaderPublicChatSubText.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWInboxHeaderPublicChatSubText.react");f.make=a}),null);
__d("MWChatInThreadBanner.bs",["CometImageIcon_DEPRECATED.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSTextPairing.react","MWText.react","TetraButton.react","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{backgroundColor:"xcrg951",position:"x1n2onr6"},grow:{flexGrow:"x1iyjqo2"},image:{marginEnd:"x11i5rnm"},infoLabel:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x4p5aij",paddingEnd:"x150jy0e",paddingBottom:"x1j85h84",paddingStart:"x1e558r4",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft"},linkBanner:{width:"xh8yej3"},sheet:{borderBottom:"xdppsyt"},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3"}};function k(a){var c=a.action;a=a.button;var d=a.ctaTitle;switch(c.TAG){case 0:return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:i.jsx(b("TetraButton.react"),{label:d,linkProps:{target:"_blank",url:c._0},type:"secondary"})});case 1:var e=c._0,f={label:d,onPress:function(a){return b("bs_curry")._1(e)},type:"secondary"};c._1!==void 0&&(f.ref=b("bs_caml_option").valFromOption(c._1));return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:i.jsx(b("TetraButton.react"),babelHelpers["extends"]({},f))});case 2:return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:b("bs_curry")._1(c._0,function(a,c,e,f,g,h,j){return i.jsx(b("TetraButton.react"),{label:d,onPress:function(a){return b("bs_curry")._1(c)},ref:a,type:"secondary"})})});case 3:b("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_product");return null}}c={make:k};function a(a){var c=a.banner;a=a.ctaParser;var d=c.banner.iconUrl;d=d!==void 0?i.jsx(b("MDSRowItem.react"),{expanding:!1,children:i.jsx("div",{className:(h||(h=b("stylex")))(j.image),children:i.jsx(b("CometImageIcon_DEPRECATED.react"),{size:24,src:d,style:"circle"})})}):null;var e=i.jsx(b("MDSRowItem.react"),{expanding:!0,children:i.jsx(b("MDSTextPairing.react"),{body:b("bs_belt_Option").getWithDefault(c.banner.titleSectionOne,"")+b("bs_belt_Option").getWithDefault(c.banner.titleSectionTwo,""),bodyLineLimit:1,level:4,meta:b("bs_belt_Option").mapWithDefault(c.banner.heading,null,function(a){return a}),metaLineLimit:1,metaLocation:"above"})}),f=c.banner.infoLabel;f=f!==void 0?i.jsx(b("MDSRowItem.react"),{children:i.jsx(b("MWText.react"),{type:"meta1",children:i.jsx("span",{className:(h||(h=b("stylex")))(j.infoLabel),children:f})})}):null;var g=c.leftButton,l=c.rightButton,m,n=0,o;g!==void 0?l!==void 0?m=i.jsxs(b("MDSRow.react"),{paddingTop:8,spacing:4,children:[i.jsx(k,{action:b("bs_curry")._2(a,c,g),button:g}),i.jsx(k,{action:b("bs_curry")._2(a,c,l),button:l})]}):(o=g,n=1):l!==void 0?(o=l,n=1):m=null;n===1&&(m=i.jsx(b("MDSRow.react"),{paddingTop:8,children:i.jsx(k,{action:b("bs_curry")._2(a,c,o),button:o})}));var p=i.jsxs("div",{className:(h||(h=b("stylex")))(j.sheetInner),children:[i.jsxs(b("MDSRow.react"),{children:[d,e,f]}),m]});g=b("bs_belt_Option").map(c.bannerAction,b("bs_curry")._1(a,c));var q;if(g!==void 0)switch(g.TAG){case 0:q=i.jsx(b("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:g._0},xstyle:function(a){return[j.linkBanner]},children:p});break;case 1:var r=g._0;l={children:p,expanding:!0,onPress:function(a){return b("bs_curry")._1(r)}};g._1!==void 0&&(l.ref=b("bs_caml_option").valFromOption(g._1));q=i.jsx(b("CometPressable.react"),babelHelpers["extends"]({},l));break;case 2:q=b("bs_curry")._1(g._0,function(a,c,d,e,f,g,h){return i.jsx(b("CometPressable.react"),{expanding:!0,onPress:function(a){return b("bs_curry")._1(c)},ref:a,children:p})});break;case 3:b("recoverableViolation")("In thread banner cta not implemented: "+b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(c.bannerAction,function(a){return a.ctaType}),""),"messenger_web_product");q=p;break}else q=p;return i.jsx("div",{className:h(j.container),children:i.jsx("div",{className:h(j.sheet),children:q})})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.styles=j;f.BannerButton=c;f.make=d}),null);
__d("MWLSEnsureInThreadBannerExists.bs",["LS.bs","LSFetchBanners","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn();h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSFetchBanners")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a)},[d,c])}f.useHook=a}),null);
__d("MWLSExecuteInThreadBannerCta.bs",["LS.bs","LSExecuteCTA","LSTransaction.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){var d=b("LSTransaction.bs").run(c,function(c){return b("LSExecuteCTA")(a,b("LS.bs").make(c))},"readWrite");b("promiseDone")(d)},[c])}f.useHook=a}),null);
__d("MWLSMarketplaceServerMutationCta.bs",["LS.bs","LSServerMutationCta","LSTransaction.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){return function(d){var e=b("LSTransaction.bs").run(c,function(c){return b("LSServerMutationCta")(a,d,b("LS.bs").make(c))},"readWrite");b("promiseDone")(e)}},[c])}f.useHook=a}),null);
__d("MWLSMarketplaceCtaParser.bs",["CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint","JSResource","MWLSExecuteInThreadBannerCta.bs","MWLSMarketplaceServerMutationCta.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_curry","bs_int64","bs_js_dict","bs_js_json","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var i=new Set(c);d=new Set(c.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function j(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=b("MWThreadKey.bs").useIdMemoizedExn();a=h.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.getKeyRange(a.fromTableAscending(c.table("participants")),{hd:e,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,d)}),function(a){return a.contactId})},[JSON.stringify(d),e,c]);a=b("ReQLSubscription.bs").useFirst(a);if(a!==void 0)return b("bs_int64").to_string(a)}function a(a){var c,d=b("MWLSExecuteInThreadBannerCta.bs").useHook(),e=b("MWLSMarketplaceServerMutationCta.bs").useHook(),f=j(),g=h.useRef(null);a=b("useCometLazyDialog")(b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs"));var k=a[0],l=b("MWThreadKey.bs").useIdMemoizedExn();a=b("bs_int64").to_string(l);var m=(c=b("useCometEntryPointDialog"))(b("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:a}),n=m[0];m=c(b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint"),{threadId:a});var o=c(b("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:a}),p=o[0];o=c(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:a});var q=o[0];return h.useMemo(function(){var a=function a(c,j){var m=j.ctaType;if(m==="marketplace_see_details"||m==="marketplace_banner_open_native"){var o=j.webviewUrl;if(o!==void 0)return{_0:o,TAG:0};o=j.deeplinkUrl;if(o!==void 0)return{_0:o,TAG:0};else{b("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(m==="marketplace_view_profile"){o=j.webviewUrl;if(o!==void 0)return{_0:o,TAG:0};o=j.deeplinkUrl;if(o!==void 0)return{_0:o,TAG:0};else{b("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(m==="marketplace_more_options"&&c.overflowMenuActions.length>0)return{_0:function(d){return h.jsx(b("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(c,b)},menu:c.overflowMenuActions},popoverResource:b("JSResource")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),children:d})},TAG:2};if(m==="marketplace_report_buyer"||m==="marketplace_report_seller")if(f!==void 0)return{_0:function(a){return k({entryPoint:"REPORT_BUTTON",id:f,location:m==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(a){})},_1:g,TAG:1};else{b("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return{_0:void 0,TAG:3}}if(m==="marketplace_mark_as_sold_with_txn_survey"||m==="marketplace_mark_as_sold_with_txn_survey_scaled")return{_0:function(a){return b("bs_curry")._1(d,j.ctaId)},_1:void 0,TAG:1};if(i.has(m))return{_0:function(a){return b("bs_curry")._1(d,j.ctaId)},_1:void 0,TAG:1};if(m!=="marketplace_server_mutation")if(m==="marketplace_label_chat")return{_0:function(a){return n({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0,TAG:1};else if(m==="marketplace_mark_as_paid")return{_0:function(a){return p({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0,TAG:1};else if(m==="marketplace_create_discount")return{_0:function(a){b("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return q({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0,TAG:1};else return{_0:void 0,TAG:3};o=j.actionContentBlob;var r=o!==void 0?b("bs_belt_Option").getExn(b("bs_js_json").decodeString(b("bs_belt_Option").getExn(b("bs_js_dict").get(b("bs_belt_Option").getExn(b("bs_js_json").decodeObject(JSON.parse(o))),"marketplace_cta_type")))):"";return{_0:function(a){return b("bs_curry")._2(e,l,r)},_1:void 0,TAG:1}};return a},[d,e,f,k,g,n,m[0],l])}f.marketplaceCta=d;f.useOtherParticipantId=j;f.useHook=a}),null);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("MWLSMarketplaceCtaParser.bs").useHook(),d=b("MWLSAdContextCtaParser.bs").useHook();return function(a,e){var f=e.ctaType;if(b("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(f))return b("bs_curry")._2(c,a,e);else if(b("MWLSAdContextCtaParser.bs").adContextCta.has(f))return b("bs_curry")._2(d,a,e);else return{_0:void 0,TAG:3}}}f.useHook=a}),null);
__d("MWProactiveWarningNoticeInThreadBanner.react",["ix","CometIcon.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MWText.react","fbicon","react","stylex","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={chevron:{paddingTop:"x1nn3v0j"},container:{backgroundColor:"xcrg951",position:"x1n2onr6"},grow:{flexGrow:"x1iyjqo2",paddingTop:"x1yrsyyn"},image:{paddingTop:"x4p5aij"},linkBanner:{width:"xh8yej3"},sheet:{borderBottom:"xdppsyt"},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3"}};function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),e=b[0],f=function(){};return i.jsx("div",{className:c("stylex")(j.container),children:i.jsx("div",{className:c("stylex")(j.sheet),children:i.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(){e({flowCallbacks:{onClose:f}})},xstyle:j.linkBanner,children:i.jsx("div",{className:c("stylex")(j.sheetInner),children:i.jsxs(c("MDSRow.react"),{children:[i.jsx(c("MDSRowItem.react"),{xstyle:j.image,children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("492713"),16),size:16})})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.grow,children:i.jsx(c("MWText.react"),{type:"body3",children:a.label})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.chevron,children:i.jsx(c("MWText.react"),{type:"body3",children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{disabled:!0,icon:d("fbicon")._(h("492547"),10),size:10})})})})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.bs","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBanner.bs","MWLSInThreadBannerCtaParser.bs","MWLSThread.bs","MWProactiveWarningNoticeInThreadBanner.react","MWThreadKey.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1066","qex","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=b("cr:1066")==null?void 0:b("bs_caml_option").some(b("cr:1066"));var i=b("cr:1066")==null?function(a,b){}:b("cr:1066").useHook;function a(a){b("MWLSEnsureInThreadBannerExists.bs").useHook();b("MWLSEnsureAdContextExists.bs").useHook();var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn();a=h.useMemo(function(){return b("MWLSInThreadBanner.bs").getInThread(c,d)},[c,d]);a=b("ReQLSubscription.bs").useFirst(a);var e=b("MWLSInThreadBannerCtaParser.bs").useHook(),f=b("MWLSThread.bs").useThread(d),g=b("bs_curry")._2(i,!0,f);if(a===void 0)return null;var j=a.banner.bannerCtaType;if(j!==void 0){if(j==="ads_context")if(b("qex")._("1509")===!0)return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e});else return null;j=1}else j=1;if(j===1){j=a.banner.cta1Type;var k=a.banner.cta2Type;if(j!==void 0&&k!==void 0){if(j==="proactive_warning_affirmative"||j==="proactive_warning_negative"||k==="proactive_warning_affirmative"||k==="proactive_warning_negative")if(!(b("cr:1066")==null)&&g!==void 0&&f!==void 0&&b("bs_caml").i64_gt(b("bs_belt_Option").getWithDefault(f.proactiveWarningDismissTime,b("bs_caml_int64").zero),b("bs_int64").zero))return h.jsx(b("MWProactiveWarningNoticeInThreadBanner.react"),{context:g.context,label:"See things you can do to stay safe"});else return null;j=2}else j=2;if(j===2)return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e})}}d=a;f.$MWProactiveWarningPayload$OR$null$requireCond=b("cr:1066");f.canfetchProactiveWarningForTopBanner=c;f.useFetchProactiveWarningPaylod=i;f.make=d}),null);
__d("MWLSLogSend.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f,g,h){var i=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId),null);b("MWChatInteraction.bs").set(c,i);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));a.addMetadata("is_dual_send",f?"true":"false");a.addMetadata("is_message_request",g?"true":"false");a.addMetadata("thread_type",b("bs_int64").to_string(h));return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}function a(a,b,c,d,e,f){return function(d){return function(h){return g(a,b,c,e,d,h,f)}}}f.logSentHeroInteraction=g;f.logSentWithHeroInteraction=a}),null);
__d("MWVersion.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.v1=a;f.v2=c}),null);
__d("MWMarkThreadAsReadWhenNewMessagesArrive.bs",["MWInboxPassiveContext.bs","MWLSThreadDisplayContext.bs","MWV2IsTabFocusedContext.bs","UserActivity","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10880","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("MWV2IsTabFocusedContext.bs").useContext(),e=b("MWInboxPassiveContext.bs").useContext(),f=b("MWLSThreadDisplayContext.bs").useHook(),g=f!==void 0?f==="ChatTab"?d:f==="Inbox"&&b("gkx")("6531")?!e.isPassive:!0:!0,i;if(c!==void 0){d=b("bs_caml").i64_gt(c.timestampMs,a.lastActivityTimestampMs)?c.timestampMs:a.lastActivityTimestampMs;i=b("bs_caml").i64_gt(d,a.lastReadWatermarkTimestampMs)}else i=!1;return h.useCallback(function(a){if(b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&g)return i;else return!1},[g,i])}function j(a,c,d){var e=i(a,c);return h.useCallback(function(a){if(b("bs_curry")._1(e))return b("bs_curry")._1(d)},[e,d])}function k(a,c,d){h.useEffect(function(){var e=function(e){if(b("bs_curry")._1(a)&&!b("bs_curry")._1(c))return b("bs_curry")._1(d)},f=b("bs_belt_Option").getExn(b("bs_caml_option").undefined_to_opt(typeof window==="undefined"?void 0:window));f.addEventListener("focus",e);document.hasFocus()&&b("bs_curry")._1(a)&&!b("bs_curry")._1(c)&&b("bs_curry")._1(d);return function(a){f.removeEventListener("focus",e)}},[d,a,c])}var l=b("cr:10880")==null?function(a){}:b("cr:10880").useHook;function a(a,c,d,e,f){c=j(a,c,d);b("bs_curry")._1(l,a);k(e,f,c);return c}f.$MAWThreadEvent$OR$null$requireCond=b("cr:10880");f.useHook=a}),null);
__d("MWMarkThreadAsReadWhenNewMessagesArrive.re",["MWMarkThreadAsReadWhenNewMessagesArrive.bs"],(function(a,b,c,d,e,f){a=b("MWMarkThreadAsReadWhenNewMessagesArrive.bs").useHook;f.useHook=a}),null);
__d("MWPMessageIsReply.bs",["LSMessageReplySourceTypeV2.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}f.make=a}),null);
__d("MWPTransparentMessageBubble.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c=36;d=c+6|0;var j=d+14|0,k={bubble:{maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"xm7lytj",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",":after":{borderTopColor:"xzackxk",borderEndColor:"x1vvs6jl",borderBottomColor:"x1p8yz0e",borderStartColor:"x1e72984",borderTopStartRadius:"x1qxsuse",borderTopEndRadius:"x1pwr4jm",borderBottomEndRadius:"xgt0i0e",borderBottomStartRadius:"xhiudvi",borderTopStyle:"x1ikrcl6",borderEndStyle:"xrlr1mf",borderBottomStyle:"x13m8g0b",borderStartStyle:"x1wea3ti",borderTopWidth:"x1pdxsal",borderEndWidth:"xgyc039",borderBottomWidth:"xza5l1d",borderStartWidth:"xcavrb8",bottom:"x1p4c0ny",content:"x5l10my",display:"xieozyd",end:"x14rr3af",pointerEvents:"x1kx6eu5",position:"x1x824oc",start:"x1fefmpr",top:"x1a3valx"}},incoming_connect_bot:{":after":{borderBottomStartRadius:"x1fyu3th"}},incoming_connect_top:{":after":{borderTopStartRadius:"xe80118"}},outgoing_connect_bot:{":after":{borderBottomEndRadius:"x7yvbyb"}},outgoing_connect_top:{":after":{borderTopEndRadius:"x1chp5k1"}},precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",":after":{borderBottomEndRadius:"x1bxxhgu",borderBottomStartRadius:"x1yn7maq"}}};function a(a){var c=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return i.jsx("div",{className:(h||(h=b("stylex")))(k.bubble,e?f?k.outgoing_connect_top:k.incoming_connect_top:!1,!a&&d?f?k.outgoing_connect_bot:k.incoming_connect_bot:!1,a?k.precedes_xma:!1),role:"none",children:c})}a.displayName=a.name+" [from "+e.id+"]";e=18;a=a;f.baseSize=e;f.borderWidth=c;f.smallRadius=d;f.largeRadius=j;f.styles=k;f.make=a}),null);
__d("MWV2ChatBubble.bs",["MAWGating","MWLSThreadDisplayContext.bs","MWPColorUtils.bs","MWPMessageIsReply.bs","MWPSolidMessageBubble.bs","MWPThreadTheme.bs","MWPTransparentMessageBubble.bs","bs_caml_obj","bs_caml_splice_call","react","stylex","useMatchMedia"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emphasis_ring:{backgroundColor:"xjbqb8w",borderTop:"xkaxx8j",borderEnd:"xif9i9b",borderBottom:"x1ueo1nx",borderStart:"x1jawzb3",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6",":after":{borderTopColor:"x18gol9d",borderEndColor:"x1fy2a9x",borderBottomColor:"xx8rwve",borderStartColor:"xcgf5qo",borderTopStartRadius:"x1re2sdf",borderTopEndRadius:"x153aelg",borderBottomEndRadius:"xmcu26r",borderBottomStartRadius:"x1egkzb1",borderTopStyle:"x1ikrcl6",borderEndStyle:"xrlr1mf",borderBottomStyle:"x13m8g0b",borderStartStyle:"x1wea3ti",borderTopWidth:"xmm20zi",borderEndWidth:"x1e2mm14",borderBottomWidth:"xozjuat",borderStartWidth:"x19hdz91",bottom:"x1zht7t",content:"x5l10my",display:"xieozyd",end:"x8tsall",pointerEvents:"x1kx6eu5",position:"x1x824oc",start:"xdkcqcq",top:"xaic3fe",zIndex:"x1ai82m1"},":before":{borderTopColor:"x1qr7w4a",borderEndColor:"x1ncy427",borderBottomColor:"x1rhx1n7",borderStartColor:"xmqa6l6",borderTopStartRadius:"xn7tiao",borderTopEndRadius:"x14kh6e",borderBottomEndRadius:"xlhwqg6",borderBottomStartRadius:"x1ue140e",borderTopStyle:"x183k7y4",borderEndStyle:"x1uj30e5",borderBottomStyle:"x1ud4nwh",borderStartStyle:"x1i2jaea",borderTopWidth:"x1rcj5n0",borderEndWidth:"x1repur9",borderBottomWidth:"x16kf9eg",borderStartWidth:"x13qqqgl",bottom:"x1k7te01",content:"x1gftdam",display:"x1m8qh1o",end:"x1tqfvzf",opacity:"x2e9uc7",pointerEvents:"xob360l",position:"x1te0kx0",start:"xx38qm5",top:"x1nfgzt4",zIndex:"x1wl4osp"}},emphasis_ring_before_xma:{borderBottom:"x112ta8",":after":{borderBottom:"xc1oo7v",borderBottomEndRadius:"x1bxxhgu",borderBottomStartRadius:"x1yn7maq"},":before":{borderBottom:"x31l8rw",borderBottomEndRadius:"xe8dl21",borderBottomStartRadius:"xv9yadz"}},emphasis_ring_connect_bottom_incoming:{":after":{borderBottomStartRadius:"xdjm15t"},":before":{borderBottomStartRadius:"xgdbwlz"}},emphasis_ring_connect_bottom_outgoing:{":after":{borderBottomEndRadius:"x1dmanbz"},":before":{borderBottomEndRadius:"ximmp30"}},emphasis_ring_connect_top_incoming:{":after":{borderTopStartRadius:"xh4u4d4"},":before":{borderTopStartRadius:"x66tqvc"}},emphasis_ring_connect_top_outgoing:{":after":{borderTopEndRadius:"xlhwsbn"},":before":{borderTopEndRadius:"xvpvy2v"}},emphasis_ring_xma:{borderTop:"x76ihet",width:"x1o2z316",":after":{borderTop:"xmeydad",borderTopEndRadius:"x9k7ksk",borderTopStartRadius:"x15jwe59"},":before":{borderTop:"xw0djt0",borderTopEndRadius:"x1quqxg3",borderTopStartRadius:"xgdrrmm"}}};function k(a,c){if(c)return{backgroundColor:b("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function l(a){var c=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing,g=a.precedesXMA;a=a.threadTheme;a=k(a,f);return i.jsx(b("MWPSolidMessageBubble.bs").make,{connectBottom:d,connectTop:e,outgoing:f,precedesXMA:g,style:a,children:c})}l.displayName=l.name+" [from "+e.id+"]";c={make:l,useInlineStyles:k};function m(a,c,d){var e=b("MWLSThreadDisplayContext.bs").useHook(),f=b("bs_caml_obj").caml_notequal(e,"Inbox"),g=b("useMatchMedia")("(min-height: "+String(1280)+"px)");return i.useMemo(function(){if(d&&c.length>1)return{backgroundAttachment:"fixed",backgroundColor:b("MWPColorUtils.bs").int64ToHex(a.fallbackColor),backgroundImage:b("MWPColorUtils.bs").gradient(c,f?{footerHeight:56,headerHeight:b("MAWGating").isArmadillo()?32:48,totalHeight:g?570:455}:void 0)};else if(d)return{backgroundColor:b("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}},[a,c,d,e,g])}function n(a){var c=a.children,d=a.connectBottom,e=a.connectTop,f=a.gradientColors,g=a.outgoing,h=a.precedesXMA;a=a.threadTheme;a=m(a,f,g);return i.jsx(b("MWPSolidMessageBubble.bs").make,{connectBottom:d,connectTop:e,outgoing:g,precedesXMA:h,style:a,children:c})}n.displayName=n.name+" [from "+e.id+"]";d={make:n,useInlineStyles:m};function o(a){var c=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return i.jsx(b("MWPTransparentMessageBubble.bs").make,{connectBottom:d,connectTop:e,outgoing:f,precedesXMA:a,children:c})}o.displayName=o.name+" [from "+e.id+"]";var p={make:o};function q(a){var c=a.children,d=a.hasXMA,e=a.isBeforeXMA,f=a.isOutgoing,g=a.shouldConnectBottom;a=a.shouldConnectTop;e=[j.emphasis_ring,e?j.emphasis_ring_before_xma:g?f?j.emphasis_ring_connect_bottom_outgoing:j.emphasis_ring_connect_bottom_incoming:!1,d?a?j.emphasis_ring_xma:!1:a?f?j.emphasis_ring_connect_top_outgoing:j.emphasis_ring_connect_top_incoming:!1];return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[e]),"data-testid":void 0,children:c})}q.displayName=q.name+" [from "+e.id+"]";e={make:q};function a(a){var c=a.children,d=a.connectBottom,e=a.connectTop,f=a.message,g=a.outgoing,h=a.precedesXMA;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var j=b("MWPThreadTheme.bs").useHook(),k=j.gradientColors;j=j.threadTheme;f=b("MWPMessageIsReply.bs").make(f);f=f?i.jsx(n,{connectBottom:d,connectTop:e,gradientColors:k,outgoing:g,precedesXMA:h,threadTheme:j,children:c}):g&&k.length>1?i.jsx(o,{connectBottom:d,connectTop:e,outgoing:g,precedesXMA:h,children:c}):i.jsx(l,{connectBottom:d,connectTop:e,outgoing:g,precedesXMA:h,threadTheme:j,children:c});if(a)return i.jsx(q,{hasXMA:!1,isBeforeXMA:h,isOutgoing:g,shouldConnectBottom:d,shouldConnectTop:e,children:f});else return f}a=a;f.styles=j;f.Solid=c;f.Reply=d;f.Transparent=p;f.EmphasisRing=e;f.make=a}),null);
__d("MWV2ChatSeenHeadsRow.bs",["fbt","BaseGlimmer.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWLSThreadDisplayContext.bs","MWPThreadTheme.bs","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","bs_array","bs_caml_obj","bs_curry","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={heads:{display:"x78zum5",flexShrink:"x2lah0s",marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"xjpr12u",marginStart:"x1mh8g0r"},img:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",paddingEnd:"x19um543",paddingStart:"x1m6msm",verticalAlign:"xxymvpz",width:"x6jxa94"},mask:{backgroundColor:"xcrg951"},overflow:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"x1e558r4",textAlign:"x2b8uid"},root:{display:"x78zum5",paddingBottom:"x1120s5i"},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2"}};function l(a,c){var d=a.length,e=d>5;d=Math.max(d-(e?4:5)|0,0);var f=a.slice(d);if(e){e=Math.max(d-9|0,0);a=a.slice(e,d);var h="\n"+g._("__JHASH__8_D_WS90lqj__JHASH__",[g._param("Number of additional views",e,[0])]);a=j.jsxs("ul",{children:[a.reverse().map(function(a,b){return j.jsx("li",{children:a.name},String(b))}),e>0?j.jsx("li",{children:h},"overflow"):null]});e=j.jsx(b("MWTooltip.react"),{align:function(){switch(b("bs_caml_obj").caml_equal(c,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),forceInlineDisplay:!0,position:"above",tooltip:a,children:j.jsx("span",{className:(i||(i=b("stylex")))(k.overflow),children:g._("__JHASH__hpZlVXKj1CE__JHASH__",[g._param("the number of additional viewers",d,[0])])})},"overflow")}else e=null;return b("bs_array").append([e],f.map(function(a,d){var e=a.timestamp>0?g._("__JHASH__i65FoHjBJBT__JHASH__",[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender)),g._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):g._("__JHASH__o0y2JESDXU1__JHASH__",[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender))]);return j.jsx(b("MWTooltip.react"),{align:function(){switch(b("bs_caml_obj").caml_equal(c,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),forceInlineDisplay:!0,position:"above",tooltip:e,children:a.imageSrc===""?j.jsx(b("BaseGlimmer.react"),{className:(i||(i=b("stylex")))(k.img),index:d}):j.jsx("img",{alt:e,className:(i||(i=b("stylex")))(k.img),src:a.imageSrc})},a.id)}))}function a(a){var c=a.messageSeenBy;a=b("MWPThreadTheme.bs").useHook();var d=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),e=d.setIsDialogOpened,f=d.setFocused,h=c.length,m=b("MWLSThreadDisplayContext.bs").useHook(),n=j.useRef(null);return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root,b("MWPThreadTheme.bs").isGradient(a)?k.mask:!1),role:"none",children:[j.jsx("div",{className:i(k.spacer)}),j.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{messageSeenBy:c,onClose:function(a){}},dialogResource:b("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog",{"class":"fluid",name:"MWV2ChatSeenHeadsDialog"}).__setRef("MWV2ChatSeenHeadsRow.bs"),onHide:function(a){b("bs_curry")._1(e,function(a){return!1});return b("bs_curry")._1(f,function(a){return!0})},children:function(a){return j.jsx(b("CometPressable.react"),{"aria-label":g._("__JHASH__JhvMDLpCFuF__JHASH__",[g._param("number of participants who have seen this message",String(h))]).toString(),onPress:function(c){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(a)},overlayDisabled:!0,ref:n,xstyle:function(a){return[k.heads]},children:j.jsx(b("MWTooltipGroup.react"),{children:l(c,m)})})}})]})}a.displayName=a.name+" [from "+e.id+"]";c=5;d=a;f.styles=k;f.maxNumberOfHeads=c;f.getImageRow=l;f.make=d}),null);
__d("MWPMessageListColumn.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={centered:{alignItems:"x6s0dn4"},grow:{flexGrow:"x1iyjqo2"},makeSpaceForActions:{maxWidth:"x1r145dm"},paint:{backgroundColor:"xcrg951"},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r"},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w"},selfCentered:{alignSelf:"xamitd3"},shrinkwrap:{flexGrow:"x1c4vz4f"},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87"}};function k(a){var c=a.children,d=a.grow,e=a.shrinkwrap,f=a.paint,g=a.profile,k=a.withGutters,l=a.makeSpaceForActions,m=a.centered;a=a.selfCentered;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;k=k!==void 0?k:!1;l=l!==void 0?l:!1;m=m!==void 0?m:!1;a=a!==void 0?a:!1;return i.jsx("div",{className:(h||(h=b("stylex")))(j.root,d?j.grow:!1,e?j.shrinkwrap:!1,f?j.paint:!1,g?j.profile:!1,k?j.withGutters:!1,l?j.makeSpaceForActions:!1,m?j.centered:!1,a?j.selfCentered:!1),role:"none",children:c})}k.displayName=k.name+" [from "+e.id+"]";var l={make:k,styles:j};function a(a){var b=a.children,c=a.shrinkwrap;a=a.grow;c=c!==void 0?c:!1;a=a!==void 0?a:!1;return i.jsx(k,{grow:a,paint:!0,shrinkwrap:c,withGutters:!0,children:b})}a.displayName=a.name+" [from "+e.id+"]";a={make:a};function c(a){var b=a.children;a=a.selfCentered;a=a!==void 0?a:!1;return i.jsx(k,{paint:!0,profile:!0,selfCentered:a,shrinkwrap:!0,children:b})}c.displayName=c.name+" [from "+e.id+"]";c={make:c};function d(a){var b=a.children,c=a.paint;a=a.centered;c=c!==void 0?c:!0;a=a!==void 0?a:!1;return i.jsx(k,{centered:a,paint:c,shrinkwrap:!0,children:b})}d.displayName=d.name+" [from "+e.id+"]";d={make:d};function m(a){a=a.children;return i.jsx(k,{grow:!0,paint:!0,children:a})}m.displayName=m.name+" [from "+e.id+"]";m={make:m};function n(a){var b=a.children,c=a.makeSpaceForActions;a=a.paint;return i.jsx(k,{makeSpaceForActions:c,paint:a,children:b})}n.displayName=n.name+" [from "+e.id+"]";n={make:n};var o={spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2"}};function p(a){return i.jsx("div",{className:(h||(h=b("stylex")))(o.spacer),role:"none"})}p.displayName=p.name+" [from "+e.id+"]";p={make:p,styles:o};var q={vr:{backgroundColor:"xcrg951",width:"xh8yej3"}};function r(a){a=a.height;return i.jsx("div",{className:(h||(h=b("stylex")))(q.vr),role:"none",style:{height:""+a+"px"}})}r.displayName=r.name+" [from "+e.id+"]";e={make:r,styles:q};f.BaseColumn=l;f.WithGutters=a;f.Profile=c;f.Shrinkwrap=d;f.Grow=m;f.Bubble=n;f.HorizontalSpacer=p;f.VerticalRhythm=e}),null);
__d("MWV2MessageEndOfGroupContent.bs",["fbt","MWMessageDeliveryStatus.bs","MWPMessageListColumn.bs","MWText.react","MWV2ChatSeenHeadsRow.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={alignLeft:{paddingStart:"xtt4iyq"},alignRight:{paddingEnd:"x1sxyh0"},statusText:{paddingBottom:"xwib8y2"}};function l(a){var c=a.text,d=a.error;a=a.alignLeft;d=d!==void 0?d:!1;var e=a!==void 0?a:!1;return j.jsx("span",{className:(i||(i=b("stylex")))(k.statusText,e?k.alignLeft:k.alignRight),role:"none",children:j.jsx(b("MWText.react"),{align:function(){switch(e?"start":"end_"){case"start":return"start";case"center":return"center";case"end_":return"end";case"default":return"default"}}(),color:d?"negative":"secondary",type:"meta4",children:c})})}l.displayName=l.name+" [from "+e.id+"]";c={make:l};function m(a){var b=a.num;a=a.alignLeft;a=a!==void 0?a:!1;return j.jsx(l,{alignLeft:a,text:g._("__JHASH__BXQui53ccPV__JHASH__",[g._param("seenByNumber",String(b))]).toString()})}m.displayName=m.name+" [from "+e.id+"]";d={make:m};function a(a){var c=a.status,d=a.isTextOnly;a=a.alignLeft;d=d!==void 0?d:!1;a=a!==void 0?a:!1;var e=b("MWMessageDeliveryStatus.bs").getBroadcastStatusTitle(c);if(!d)if(c.TAG===6)return j.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:j.jsx(b("MWV2ChatSeenHeadsRow.bs").make,{messageSeenBy:c._0})});else return null;switch(c.TAG){case 0:return null;case 4:return j.jsx(l,{error:!0,text:e});case 5:return j.jsx(m,{num:1});case 6:case 7:break;case 8:return j.jsx(m,{alignLeft:a,num:c._0});case 9:return j.jsx(l,{alignLeft:a,text:e});case 10:return j.jsx(l,{alignLeft:a,error:!0,text:e});default:return j.jsx(l,{text:e})}return j.jsx(m,{num:c._0.length})}a.displayName=a.name+" [from "+e.id+"]";e=a;f.styles=k;f.MWStatusText=c;f.MWSeenByText=d;f.make=e}),null);
__d("MDSAccountSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color,d=a.size;a=a.viewBox;a=a!==void 0?a:"0 0 36 36";return h.jsx(b("MDSSvgIcon.bs").make,{color:c,size:d,viewBox:a,children:h.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("memoizeByIdentity",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();return function(c){b.has(c)||b.set(c,a.call(this,c));return b.get(c)}}f["default"]=a}),66);
__d("MWPMessageAuthor.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSTransaction.bs","LSVerifyContactRowExists","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_obj","bs_caml_option","bs_int64","memoizeByIdentity","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({contact:void 0,nickname:void 0});function j(a){var c=a.children,d=a.contactId,e=b("useReStore")(),f=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:d,tl:0})},[e,JSON.stringify(d)]));a=h.useMemo(function(){var a=f!==void 0?f.name:void 0;return{contact:f,nickname:a}},[f]);h.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSVerifyContactRowExists")(d,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(a))},"readWrite"))},[e,JSON.stringify(d)]);return h.createElement(i.Provider,{children:c,value:a})}e={make:j};function k(a){var b=a.children,c=a.contact,d=a.nickname;a=h.useMemo(function(){return{contact:c,nickname:d}},[c,d]);return h.createElement(i.Provider,{children:b,value:a})}var l={make:k};function a(a){var c=a.children,d=a.contactId,e=a.threadKey,f=b("useReStore")();a=b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:d,tl:0})},[d]);var g=b("bs_belt_Option").flatMap(b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("participants")),{hd:e,tl:{hd:d,tl:0}}),b("memoizeByIdentity")(function(a){return a.nickname}))},[d,e]),function(a){return a}),i=b("ReQLSuspense").useFirst(function(){var a;return(a=b("ReQL.bs")).take(a.map(a.getKeyRange(a.fromTableAscending(f.table("threads")),{hd:e,tl:0}),function(c){var a;return b("ReQLSuspense").first((a=b("ReQL.bs")).take(a.map(a.getKeyRange(a.fromTableAscending(f.table("community_folders")),{hd:c.parentThreadKey,tl:0}),function(c){var a;return b("ReQLSuspense").first((a=b("ReQL.bs")).take(a.map(a.getKeyRange(a.fromTableAscending(f.table("contextual_profile_v1")),{hd:d,tl:{hd:c.folderId,tl:0}}),b("memoizeByIdentity")(function(a){return a.profileName})),1))}),1))}),1)},[b("bs_int64").to_string(e),b("bs_int64").to_string(d)]);if(i!==void 0){i=b("bs_caml_option").valFromOption(i);if(i!==void 0){i=b("bs_caml_option").valFromOption(i);if(i!==void 0){i=b("bs_caml_option").valFromOption(i);i=i!==void 0?i:void 0}else i=void 0}else i=void 0}else i=g!==void 0?g:void 0;if(a!==void 0)if(b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritativePendingReplacement))return h.jsx(k,{contact:a,nickname:i,children:c});else return h.jsx(j,{contactId:d,children:c});else return h.jsx(j,{contactId:d,children:c})}a=h.memo(a,function(a,c){if(!(a==null)&&!(c==null)&&b("bs_caml_obj").caml_equal(a.contactId,c.contactId)&&b("bs_caml_obj").caml_equal(a.threadKey,c.threadKey))return a.children===c.children;else return!1});function c(a){a=h.useContext(i);var b=a.nickname;a=a.contact;if(b!==void 0)b=b;else if(a!==void 0){var c=a.firstName;b=c!==void 0?c:a.name}else b=void 0;return[b,a]}function d(a){a=h.useContext(i);a=a.contact;var b=a!==void 0?a.name:void 0;return[b,a]}f.ctx=i;f.MissingContactProvider=e;f.Provider=l;f.make=a;f.useAuthorName=c;f.useAuthorFullName=d}),null);
__d("MWV2MessageProfilePhoto.bs",["fbt","BaseGlimmer.react","CometImageCover.react","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMediaUrl.bs","MDSAccountSvgIcon.bs","MWIcon.react","MWPMessageAuthor.bs","MWTooltip.react","bs_belt_Option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{width:"xgd8bvy"}};function l(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root)})}l.displayName=l.name+" [from "+e.id+"]";c={make:l,styles:k};var m={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy"},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy"}};function a(a){var c=a.isGroupThread,d=a.isLastMessageInGroup,e=a.message,f=a.ariaHidden;a=a.isCMAdmin;f=f!==void 0?f:!1;var h=a!==void 0?a:!1;a=j.useContext(b("MWPMessageAuthor.bs").ctx);var k=a.nickname,n=a.contact,o={borderRadius:"50%"};a=b("gkx")("4365");if(!d)return j.jsx(l,{});d=e.takedownState;var p,q=0,r=0;if(d!==void 0&&a){d=g._("__JHASH__RNW_2o_rk9o__JHASH__");a=function(a){return j.jsx(b("MDSAccountSvgIcon.bs").make,{color:"disabled",size:"28",viewBox:"6 6 24 24"})};p=j.jsx(b("MWTooltip.react"),{align:"middle",position:"start",tooltip:d,children:j.jsx(b("MWIcon.react"),{alt:d,icon:a})})}else r=2;if(r===2)if(n!==void 0&&b("LSMediaUrl.bs").Contact.profilePictureUrl(n)!==""){d=k!==void 0?k+" ("+n.name+")":n.name;var s=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isCommunityBotPage,n),!1);p=j.jsx(b("MWTooltip.react"),{align:"middle",position:"start",tooltip:d,children:b("gkx")("4185")?j.jsx(b("CometLazyPopoverTrigger.react"),{popoverProps:{message:e,position:"above"},popoverResource:b("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu").__setRef("MWV2MessageProfilePhoto.bs"),children:function(a,d,e,f,g,i,k){if(c&&(!s||h))return j.jsx(b("CometPressable.react"),{onPress:function(a){return b("bs_curry")._1(d)},overlayRadius:"50%",ref:a,xstyle:function(a){return[m.profile]},children:j.jsx(b("CometImageCover.react"),{alt:n.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(n),style:o})});else return j.jsx(b("CometImageCover.react"),{alt:n.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(n),style:o})}}):j.jsx(b("CometImageCover.react"),{alt:n.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(n),style:o})})}else q=1;q===1&&(p=j.jsx(b("BaseGlimmer.react"),{index:1,xstyle:m.glimmer}));return j.jsx("div",{"aria-hidden":f,className:(i||(i=b("stylex")))(m.profile),children:p})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.NoProfilePhoto=c;f.styles=m;f.make=d}),null);
__d("MWLSThread.re",["MWLSThread.bs"],(function(a,b,c,d,e,f){a=b("MWLSThread.bs").useThread;f.useThread=a;c=b("MWLSThread.bs").useThreadExn;f.useThreadExn=c}),null);
__d("MWPVisibleMessageContext.re",["MWPVisibleMessageContext.bs"],(function(a,b,c,d,e,f){a=b("MWPVisibleMessageContext.bs").Provider.make;f.Provider_make=a;c=b("MWPVisibleMessageContext.bs").useHook;f.useHook=c;d=b("MWPVisibleMessageContext.bs").Provider;f.Provider=d}),null);
__d("MWPQuickReplies.bs",["FBID.bs","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingSource.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWChatBusinessQuickReplyList.bs","MWPActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml_option","bs_int64","bs_js_null_undefined","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.lastMessageId,d=a.quickReplyType,e=a.threadKey,f=b("LSMessagingSource.bs").useHook(),g=b("useReStore")(),i=b("MWPActor.bs").useActor();a=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).filter(a.map(a.getKeyRange(a.fromTableAscending(g.table("quick_reply_ctas")),{hd:e,tl:{hd:c,tl:0}}),function(a){var c=a.type_;c=c==="quick_reply_text"?"text":c==="quick_reply_phone"?"user_phone_number":c==="quick_reply_email"?"user_email":(b("recoverableViolation")("Unexpected quick-reply type","messenger_web_produce"),"");return{content_type:c,data:void 0,image_url:b("bs_caml_option").some(b("bs_js_null_undefined").fromOption(a.imageUrl)),payload:b("bs_caml_option").some(a.platformToken),title:a.title}}),function(a){return a.content_type!==""})},[g,c,e]));if(a.length>0)return h.jsx(b("MWChatBusinessQuickReplyList.bs").make,{arrayQR:a,id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(i)),onSend:function(a){var c=b("LSThreadAttributionTypeUtil.bs").getSource(e,f),d=b("LSTransaction.bs").run(g,function(d){var f=a.payload;if(f!==void 0){f=b("bs_caml_option").valFromOption(f);var g=f==null?void 0:b("bs_caml_option").some(f);f=f==null?void 0:g}else f=void 0;return b("LSOptimisticSendMessage")(i,e,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,a.title,void 0,!1,void 0,void 0,void 0,void 0,c,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,void 0,b("LS.bs").make(d)).then(function(a){return b("Promise").resolve(a)})},"readWrite");b("promiseDone")(d)},quickReplyType:d});else return null}c={make:i};function a(a){var c=a.threadKey,d=b("useReStore")();a=b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(d.table("messages")),{hd:c,tl:0})},[d,c]);if(a!==void 0)return h.jsx(i,{lastMessageId:a.messageId,quickReplyType:a.quickReplyType,threadKey:c});else return null}d=a;f.Impl=c;f.make=d}),null);
__d("MWLSUseLatch.bs",["CometThrottle","Run","bs_curry","debounce","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("CometThrottle");function a(a,c,d){var e=c!==void 0?c:!1;h.useEffect(function(){if(!e)return;var c=b("Run").onUnload(function(c){return b("bs_curry")._1(a,!1)});return function(a){return c.remove()}},[e,a]);return h.useMemo(function(){var c={contents:!1},e=b("debounce")(function(d){if(!c.contents)return b("bs_curry")._1(a,!1)},d|0),f=i(function(c){return b("bs_curry")._1(a,!0)},3e3,{leading:!0,trailing:!1}),g=function(d){b("bs_curry")._1(a,!1),c.contents=!0},h=function(a){b("bs_curry")._1(f);return e()};return[h,g]},[a,d])}f.throttle=i;f.useLatch=a}),null);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometLazyDialogTrigger.react","CometSkittleIcon.react","JSResource","MDSRow.react","MDSRowItem.react","MWText.react","TetraButton.react","bs_curry","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2"},card:{backgroundColor:"xcrg951",boxShadow:"x7m3og9",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm"},imageRow:{paddingTop:"x1nn3v0j"}};function a(a){var c=a.onDismiss,d=a.onView;a=g._("__JHASH__6a2Fgvho2wx__JHASH__");var e=g._("__JHASH__ZJi8hPzvWwM__JHASH__");return k.jsxs("div",{className:(j||(j=b("stylex")))(l.card),children:[k.jsxs(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[k.jsx(b("MDSRowItem.react"),{xstyle:[l.imageRow],children:k.jsx(b("CometSkittleIcon.react"),{color:"gray",icon:b("fbicon")._(h("685851"),16),size:36})}),k.jsxs(b("MDSRowItem.react"),{expanding:!0,children:[k.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MWText.react"),{color:"primary",type:"headline4",children:a})})}),k.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:e})})})]})]}),k.jsxs(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[k.jsx(b("MDSRowItem.react"),{xstyle:[l.button],children:k.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(a){}},dialogResource:b("JSResource")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),children:function(a){return k.jsx(b("TetraButton.react"),{label:g._("__JHASH__LPDl6ep1oBy__JHASH__"),onPress:function(c){b("bs_curry")._1(a);return b("bs_curry")._1(d)},type:"secondary"})}})}),k.jsx(b("MDSRowItem.react"),{xstyle:[l.button],children:k.jsx(b("TetraButton.react"),{label:g._("__JHASH__IRN53cEfYnc__JHASH__"),onPress:c,type:"secondary"})})]})]})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=l;f.make=c}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.bs",["MWChatUnsendNUXReceiverBanner.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return Date.now()-b("bs_caml_int64").to_float(b("bs_belt_Option").getWithDefault(a.unsentTimestampMs,b("bs_caml_int64").zero))<=1e4}function a(a){var c=b("MWPActor.bs").useActor(),d=b("MWThreadKey.bs").useIdMemoizedExn(),e=b("useReStore")();a=h.useState(function(){return!1});var f=a[1],g=a[0],j=h.useRef(!1),k=h.useRef(!1),l=h.useRef();a=b("useMessengerUnsendNUX")(8568);var m=a[2],n=a[1],o=a[0],p=h.useCallback(function(a){a=l.current;if(a!==void 0){b("bs_curry")._1(a);l.current=void 0;return}},[]);a=h.useCallback(function(a){k.current=!0;b("bs_curry")._1(n);b("bs_curry")._1(p);return b("bs_curry")._1(f,function(a){return!1})},[]);var q=h.useCallback(function(a){var c=!g&&!j.current;if(c&&i(a)){j.current=!0;return b("bs_curry")._1(o,function(a){j.current=!1;if(a)return b("bs_curry")._1(f,function(a){return!0});else{b("bs_curry")._1(p);k.current=!0;return}})}},[c,g]);h.useEffect(function(){if(k.current)return;else{l.current=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("messages")),{hd:d,tl:0}),function(a){if(a.isUnsent)return b("bs_caml").i64_neq(a.senderId,c);else return!1}),function(a,c){switch(c.TAG){case 0:case 1:return b("bs_curry")._1(q,c._0);case 2:return}});return function(a){b("bs_curry")._1(p);if(g&&!k.current)return b("bs_curry")._1(m)}}},[g,q,d,p]);if(g)return h.jsx(b("MWChatUnsendNUXReceiverBanner.bs").make,{onDismiss:a,onView:a});else return null}c=8568;d=1e4;e=a;f.cNUX_ID=c;f.cTEN_SECONDS=d;f.isMessageUnsentInLastTenSeconds=i;f.make=e}),null);
__d("MWChatUnsendNUXSender.bs",["JSResource","MWChatUnsendNUXReceiver.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","react","useCometLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWPActor.bs").useActor(),d=b("MWThreadKey.bs").useIdMemoizedExn(),e=b("useReStore")(),f=h.useRef(!1),g=h.useRef(!1),i=h.useRef(!1),j=h.useRef();a=b("useMessengerUnsendNUX")(8598);var k=a[1],l=a[0],m=h.useCallback(function(a){a=j.current;if(a!==void 0){b("bs_curry")._1(a);j.current=void 0;return}},[]),n=h.useCallback(function(a){if(!i.current){i.current=!0;b("bs_curry")._1(m);return b("bs_curry")._1(k)}},[]);a=b("useCometLazyDialog")(b("JSResource")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var o=a[0],p=h.useCallback(function(a){var c=!f.current&&!g.current;if(c&&b("MWChatUnsendNUXReceiver.bs").isMessageUnsentInLastTenSeconds(a)){f.current=!0;return b("bs_curry")._1(l,function(a){f.current=!1,a?(o({onView:n},function(a){}),g.current=!0):(b("bs_curry")._1(m),i.current=!0)})}},[c,m]);h.useEffect(function(){j.current=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("messages")),{hd:d,tl:0}),function(a){if(a.isUnsent)return b("bs_caml").i64_eq(a.senderId,c);else return!1}),function(a,c){switch(c.TAG){case 0:case 1:return b("bs_curry")._1(p,c._0);case 2:return}});return m},[d,p,m]);return null}c=8598;d=a;f.cNUX_ID=c;f.make=d}),null);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","FBID.bs","JSResource","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactType.bs","LSMessagingThreadTypeUtil.bs","LSRtcCallState.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating","MWChatContactPresenceHook.bs","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSFeatureLimitedStatus.bs","MWPActor.bs","MWTooltip.react","MessagingThreadType.bs","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","RTCCallState.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_null_undefined","emptyFunction","gkx","promiseDone","qex","react","useCometLazyDialog","useRTWebCometStartCallCallback","useReStore","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j="startVideoCall",k="startVoiceCall",l="joinVideoChat";function m(a,c,d,e){var f=b("useReStore")(),g=b("useRTWebCometStartCallCallback")(),h=b("MWPActor.bs").useActor();return i.useCallback(function(i){i=b("Promise").all([(i=b("ReQL.bs")).first(i.map(i.getKeyRange(i.fromTableAscending(f.table("rtc_ongoing_calls_on_threads_v2")),{hd:a.threadKey,tl:0}),function(a){return a.ongoingCallServerInfoData})),i.first(i.map(i.filter(i.getKeyRange(i.fromTableAscending(f.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,h)}),function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.contactId))})),i.first(i.map(i.getKeyRange(i.fromTableAscending(f.table("mi_act_mapping_table")),{hd:a.threadKey,tl:0}),function(a){return a.jid}))]);i=i.then(function(f){var h=f[1],i=f[0];b("bs_curry")._1(c);g({existingCall:i!==void 0?{call_state:b("RTCCallState.bs").ofLsRtcCallState(a.ongoingCallState,a.threadType),initiator_fbid:null,server_info_data:b("bs_js_null_undefined").fromOption(b("bs_caml_option").valFromOption(i))}:null,isE2eeMandated:b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),mediaType:d,thread:{e2eeThreadID:b("bs_belt_Option").map(f[2],function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))}),id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),secureOneToOneThreadPeerId:h!==void 0&&b("bs_caml").i64_eq(a.threadType,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)?b("bs_caml_option").some(b("bs_caml_option").valFromOption(h)):void 0,type:b("bs_caml_int64").to_int32(a.threadType)},trigger:e});return b("Promise").resolve()});b("promiseDone")(i)},[f,g,JSON.stringify(a.threadKey),a.ongoingCallState,e,c])}function n(a,c,d,e,f){var g=i.useRef(b("uuid")()).current;return i.useCallback(function(c){var e=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),h=d==="video"?1:0;e="/call?threadid="+e+"&isvideocall="+h+"&funnel_id="+g;b("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");b("promiseDone")(b("Promise").all([new(b("MessengerDesktopLocalServerRequest"))(e,b("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){b("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(c)}).setTimeoutHandler(function(){b("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(c)}).send()]))},[d,g,a.threadKey,f])}function o(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=i.useMemo(function(){var e;return(e=b("ReQL.bs")).take(e.filter(e.getKeyRange(e.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,d)}),1)},[c,a.threadKey,JSON.stringify(d)]);e=b("ReQLSubscription.bs").useArray(e);return b("MWChatContactPresenceHook.bs").useHasActiveContact(e.map(function(a){return a.contactId}))}function p(a){var c=a.threadKey,d=b("useReStore")(),e=b("MWPActor.bs").useActor();a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.take(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c,tl:0}),2),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0}))})},[d,JSON.stringify(c),JSON.stringify(e)]));var f;if(a.length!==1)f=!1;else{var g=a[0];f=g!==void 0?b("bs_caml").i64_eq(g.contactType,b("LSContactType.bs").page):!1}if(!f)return[!0,!0];g=!0;f=!0;for(var h=0,j=a.length;h<j;++h){var k=b("bs_caml_array").get(a,h);if(k!==void 0){var l=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVoiceCall,k),!0);k=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVideoCall,k),!0);g=g&&l;f=f&&k}}if(b("gkx")("1710932"))return[g,f];else return[!1,!1]}function q(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(c.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]))),f=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:{hd:d,tl:0}})},[c,JSON.stringify(a.threadKey),JSON.stringify(d)]))),g=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,a),h=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVideoCall,a),j=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),k=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!j||b("MAWGating").isFeatureLimitEnabled()),l=p(a),m=a.threadType;f=(b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").secureMessageOverWaGroup))&&f||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)?[g,h]:[!1,!1];m=b("MWChatIsMessageRequest.bs").fn(a.folderName);g=!m&&e&&!k&&(!j||b("gkx")("5709"));if(g)return[l[0]&&f[0],l[1]&&f[1]];else return[!1,!1]}function r(a){var c=a.icon,d=a.label,e=a.onPress,f=a.overlayDisabled,g=a.renderContainer;a=a.testid;c={"aria-label":d,children:c,onPress:e,overlayDisabled:f,overlayRadius:"50%"};a!==void 0&&(c.testid=b("bs_caml_option").valFromOption(a));e=i.jsx(b("MWTooltip.react"),{align:"middle",position:function(){switch(b("gkx")("571")?"below":"above"){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),tooltip:d,children:i.jsx(b("CometPressable.react"),babelHelpers["extends"]({},c))});if(g!==void 0)return b("bs_curry")._1(g,e);else return e}c={make:r};function s(a){var c=a.startAudioCall,d=a.fill,e=a.overlayDisabled,f=a.renderContainer;a=a.size;d={icon:b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,d,a),label:g._("__JHASH__7OlJstElKZQ__JHASH__"),onPress:c,overlayDisabled:e,testid:k};f!==void 0&&(d.renderContainer=b("bs_caml_option").valFromOption(f));return i.jsx(r,babelHelpers["extends"]({},d))}s.displayName=s.name+" [from "+e.id+"]";d={make:s};function t(a){var c=a.fill,d=a.isActive,e=a.overlayDisabled,f=a.renderContainer,h=a.size,k=a.startVideoCall;a=b("useCometLazyDialog")(b("JSResource")("RTWebStartCallUpsellDialog.react").__setRef("MWV2ChatRTCButtons.bs"));var l=a[0];a={icon:b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,c,h,d),label:g._("__JHASH__BhmiwbAyMN2__JHASH__"),onPress:function(a){var c=b("qex")._("421")===!0;if(c)return l({onAcceptCall:function(c){return b("bs_curry")._1(k,a)}},function(a){});else return b("bs_curry")._1(k,a)},overlayDisabled:e,testid:j};f!==void 0&&(a.renderContainer=b("bs_caml_option").valFromOption(f));return i.jsx(r,babelHelpers["extends"]({},a))}t.displayName=t.name+" [from "+e.id+"]";var u={make:t};function v(a){var c=a.fill,d=a.ongoingCallState,e=a.overlayDisabled,f=a.renderContainer,h=a.size,j=a.startAudioCall;a=a.startVideoCall;if(b("bs_caml").i64_eq(d,b("LSRtcCallState.bs").noOngoingCall))return null;c={icon:b("bs_caml").i64_eq(d,b("LSRtcCallState.bs").audioGroupCall)?b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,c,h):b("bs_caml").i64_eq(d,b("LSRtcCallState.bs").videoGroupCall)?b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,c,h):null,label:b("bs_caml").i64_eq(d,b("LSRtcCallState.bs").audioGroupCall)?g._("__JHASH__aBPvjIRdL5z__JHASH__"):b("bs_caml").i64_eq(d,b("LSRtcCallState.bs").videoGroupCall)?g._("__JHASH__hP5Qdzy9Ls0__JHASH__"):"",onPress:b("bs_caml").i64_eq(d,b("LSRtcCallState.bs").audioGroupCall)?j:b("bs_caml").i64_eq(d,b("LSRtcCallState.bs").videoGroupCall)?a:function(a){},overlayDisabled:e,testid:l};f!==void 0&&(c.renderContainer=b("bs_caml_option").valFromOption(f));return i.jsx(r,babelHelpers["extends"]({},c))}v.displayName=v.name+" [from "+e.id+"]";e={make:v};function a(a){var c=i.useState(!1),d=c[0],e=c[1],f=i.useRef(!1);i.useEffect(function(){if(f.current)return;f.current=!0;if(b("gkx")("1987549")||!b("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible())return;if(b("qex")._("45")!==!0)return;b("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running");b("promiseDone")(b("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(b("MessengerDesktopDeepLinkUtils").PORT).then(function(a){if(!a||a!==200){a||b("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond");a===500&&b("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}e(!0)}))});c=a.audioCallingSurface;var g=a.fill,h=a.logAudio;h=h===void 0?b("emptyFunction"):h;var j=a.logVideo;j=j===void 0?b("emptyFunction"):j;var k=a.overlayDisabled;k=k===void 0?!1:k;var l=a.renderContainer,p=a.size;p=p===void 0?"26px":p;var r=a.thread;a=a.videoCallingSurface;var u=o(r),w=q(r),x=w[1];w=w[0];var y=m(r,j,"video",a),z=m(r,h,"audio",c);j=n(r,j,"video",a,y);a=n(r,h,"audio",c,z);h=d?j:y;c=d?a:z;if(!(w||x))return null;j=r.ongoingCallState;if(b("bs_caml").i64_neq(j,b("LSRtcCallState.bs").noOngoingCall)){y={fill:g,ongoingCallState:j,overlayDisabled:k,size:p,startAudioCall:c,startVideoCall:h};l!==void 0&&(y.renderContainer=b("bs_caml_option").valFromOption(l));return i.jsx(v,babelHelpers["extends"]({},y))}if(w){d={fill:g,overlayDisabled:k,size:p,startAudioCall:c};l!==void 0&&(d.renderContainer=b("bs_caml_option").valFromOption(l));a=i.jsx(s,babelHelpers["extends"]({},d))}else a=null;if(x){z={fill:g,isActive:u,overlayDisabled:k,size:p,startVideoCall:h};l!==void 0&&(z.renderContainer=b("bs_caml_option").valFromOption(l));r=i.jsx(t,babelHelpers["extends"]({},z))}else r=null;return i.jsxs(i.Fragment,{children:[a,r]})}a=a;f.startVideoCallTestid=j;f.startVoiceCallTestid=k;f.joinVideoChatTestid=l;f.BaseButton=c;f.$$Audio=d;f.Video=u;f.JoinExistingChat=e;f.make=a}),null);
__d("MWV2HeaderMinimizeButton.bs",["fbt","CometPressable.react","MWTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.color;a=a.onPress;var d=b("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=g._("__JHASH__Sy-7_lHYMqE__JHASH__");return i.jsx(b("MWTooltip.react"),{align:"middle",position:"above",tooltip:e,children:i.jsx(b("CometPressable.react"),{"aria-label":e,onPress:a,overlayRadius:"50%",ref:d,children:i.jsx("svg",{height:"26px",viewBox:"-4 -4 24 24",width:"26px",children:i.jsx("line",{stroke:c,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"8",y2:"8"})})})})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWV2HeaderSettingsButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MDSRow.react","MWTooltip.react","ODS","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{marginStart:"x1i64zmx"}};function l(a){var c=a.size;a=a.color;c=c!==void 0?c:"10px";return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon),height:c,viewBox:"0 0 18 10",width:c,children:j.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:a,fillRule:"evenodd"})})}l.displayName=l.name+" [from "+e.id+"]";c={make:l,styles:k};var m={settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",minWidth:"xeuugli"}};function a(a){var c=a.children,d=a.iconColor,e=a.tab;a=a.thread;var f=g._("__JHASH__FjEOIpwxx5G__JHASH__");return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverProps:{onClose:function(a){},tab:e,thread:a},popoverResource:b("JSResourceForInteraction")("MWV2HeaderSettingsMenuForJSResource.react").__setRef("MWV2HeaderSettingsButton.bs"),position:"start",preloadTrigger:"button",children:function(a,e,g,h,i,k,n){return j.jsx(b("MWTooltip.react"),{align:"middle",position:"above",tooltip:f,children:j.jsx(b("CometPressable.react"),{"aria-label":f,onHoverIn:b("bs_curry").__1(h),onHoverOut:function(a){return b("bs_curry")._1(i)},onPress:function(a){b("bs_curry")._1(e),b("ODS").bumpEntityKey(3185,"mwchat_header","settings")},onPressIn:b("bs_curry").__1(k),overlayRadius:5,ref:a,testid:void 0,xstyle:function(a){return[m.settingsButton]},children:j.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:[c,j.jsx(l,{color:d})]})})})}})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.Chevron=c;f.styles=m;f.make=d}),null);
__d("MWV2ChatTabHeader.bs",["FBID.bs","LSMessagingThreadTypeUtil.bs","MAWThreadCutover.bs","MWCMUseFolder.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.bs","MWPThreadTheme.bs","MWTooltipGroup.react","MWV2ChatRTCButtons.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2HeaderMinimizeButton.bs","MWV2HeaderSettingsButton.bs","MWV2IsTabFocusedContext.bs","ODS","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","UseCurrentDisplayMode.bs","UseMWV2CloseTab.bs","XCometGroupChatsThreadViewControllerRouteBuilder","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:2587","cr:2754","react","requireDeferred","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs"),j=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs"),k=g||(g=b("react"));function l(a){var c=a.color;a=a.thread;var d=k.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio"),j.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"audio_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]),e=k.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video"),i.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"video_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]);return k.jsx(b("MWV2ChatRTCButtons.bs").make,{audioCallingSurface:"comet_chattab_audio_button",fill:c,logAudio:d,logVideo:e,thread:a,videoCallingSurface:"comet_chattab_video_button"})}l.displayName=l.name+" [from "+e.id+"]";c={make:l};function m(a){var c=b("useCurrentDisplayMode")(),d=b("MWV2IsTabFocusedContext.bs").useContext(),e=b("MWPThreadTheme.bs").useTop(),f=b("bs_caml").i64_gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs);f=f&&!d;a=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)&&c===b("UseCurrentDisplayMode.bs").darkTheme&&d;c=f||a?"var(--always-white)":d?e:"var(--disabled-icon)";d=f?e:void 0;e=f||a?"white":void 0;return[c,e,d]}var n={endContentContainer:{alignItems:"x6s0dn4",display:"x78zum5",marginEnd:"xcud41i"}};function a(a){var c=a.tab,d=a.thread,e=b("MWCMUseFolder.bs").useHook(d),f=b("MWChatStateV2.bs").useDispatch(),g=b("UseMWV2CloseTab.bs").useHook(d,c);a=m(d);var i=a[1],j=a[0],o;if(b("cr:2754")==null||e===void 0)o=null;else{var p=b("cr:2587")==null?function(a){}:function(a){return b("bs_curry")._1((a=b("cr:2587")).log,{action:a.tap,category_id:void 0,community_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e.folderId)),event:a.threadExpanded,group_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e.fbGroupId)),parent_surface:"entity_menu",source:a.expandButton,surface:a.chatsTab,thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.threadKey))})},q={url:b("XCometGroupChatsThreadViewControllerRouteBuilder").buildURL({idorvanity:b("bs_int64").to_string(e.fbGroupId),thread_id:b("bs_int64").to_string(d.threadKey)})};o=k.jsx(b("cr:2754").make,{color:j,link:q,onPress:p})}q=b("MAWThreadCutover.bs").useIsCutoverOpenThread(d.threadKey);if(q){p={isContainerPressable:!1,photoSize:"s_32",thread:d,threadNameSize:"headlineEmphasized4"};i!==void 0&&(p.color=b("bs_caml_option").valFromOption(i));q=k.jsx(b("MWInboxHeaderDetailsContainer.bs").make,babelHelpers["extends"]({},p))}else{p={isContainerPressable:!1,photoSize:"s_32",thread:d,threadNameSize:"headlineEmphasized4"};i!==void 0&&(p.color=b("bs_caml_option").valFromOption(i));q=k.jsx(b("MWV2HeaderSettingsButton.bs").make,{iconColor:j,tab:c,thread:d,children:k.jsx(b("MWInboxHeaderDetailsContainer.bs").make,babelHelpers["extends"]({},p))})}i={endContent:k.jsx(b("MWTooltipGroup.react"),{children:k.jsxs("div",{className:(h||(h=b("stylex")))(n.endContentContainer),children:[k.jsx(l,{color:j,thread:d}),k.jsx(b("MWV2HeaderMinimizeButton.bs").make,{color:j,onPress:function(a){return b("bs_curry")._1(f,b("MWChatStateActions.bs").minimizeTab(Date.now(),c.tabId))}}),o,k.jsx(b("MWV2HeaderCloseButton.bs").make,{color:j,onPress:function(a){return b("bs_curry")._1(g)},testid:void 0})]})}),startContent:q};p=a[2];p!==void 0&&(i.backgroundColor=b("bs_caml_option").valFromOption(p));return k.jsx(b("MWV2HeaderContainer.bs").make,babelHelpers["extends"]({},i))}a.displayName=a.name+" [from "+e.id+"]";d=b("cr:2754");e=b("cr:2587");a=a;f.$MWV2ChatExpandButton$requireCond=b("cr:2754");f.mExpandButton=d;f.$GroupsCometChatsEngagementLogger$requireCond=b("cr:2587");f.mGroupsCometChatsEngagementLogger=e;f.$ZenonUserActionLoggerCommon$Deferred=i;f.$ZenonUserActionLoggerCommon$Deferred$1=j;f.RTCButtons=c;f.styles=n;f.make=a}),null);
__d("MAWInThreadBannerNuxesWrapper.react",["nux:201","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=b("nux:201")==null?void 0:b("nux:201")("www_armadillo_disappearing_messages_banner");function a(a){return!a.isGroup&&h?h(a):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["MAWInThreadBannerNuxesWrapper.react","cr:4360","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(e=b("cr:4360"))!=null?e:h.Fragment;function a(a){return h.jsx(i,{children:h.jsx(c("MAWInThreadBannerNuxesWrapper.react"),babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.bs",["LSMessagingThreadTypeUtil.bs","MAWInThreadBannerNuxReqCondWrapper.react","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","cr:4042","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:4042")==null?void 0:b("bs_caml_option").some(b("cr:4042"));function a(a){var c=a.thread;a=b("cr:4042")==null?function(){}:b("bs_curry")._1(i.useThreadJidCallback,c.threadKey);var d=b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType),e=b("useReStore")(),f=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:c.threadKey,tl:0}),2)},[e,JSON.stringify(c.threadKey)])),g=b("MWPActor.bs").useActor(),j=h.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType))return b("bs_caml_option").undefined_to_opt(f.find(function(a){return b("bs_caml").i64_neq(a.id,g)}))},[JSON.stringify(g),f]);j=j!==void 0?j.name:void 0;return b("bs_curry")._1(b("MAWInThreadBannerNuxReqCondWrapper.react"),{getThreadJid:a,isGroup:d,otherUserFullName:j})}c=a;f.$MAWChatJid$requireCondXplat=b("cr:4042");f.make=c}),null);
__d("MWPMessageHasAttachment.bs",["LSMessageContentType.bs","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){if(!b("bs_int64").equal(a.displayedContentTypes,b("LSMessageContentType.bs").text)&&!b("bs_int64").equal(a.displayedContentTypes,b("bs_caml_int64").add(b("LSMessageContentType.bs").text,b("LSMessageContentType.bs").forwardIndicator))&&!b("bs_int64").equal(a.displayedContentTypes,b("LSMessageContentType.bs").glyph)&&!b("bs_int64").equal(a.displayedContentTypes,b("bs_caml_int64").add(b("LSMessageContentType.bs").glyph,b("LSMessageContentType.bs").forwardIndicator)))return!b("bs_int64").equal(a.displayedContentTypes,b("bs_caml_int64").add(b("LSMessageContentType.bs").text,b("LSMessageContentType.bs").storyReply));else return!1}f.make=a}),null);
__d("MWPThreadCapabilitiesContext.bs",["LSThreadBitOffset.bs","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(function(a){return!1});function a(a){var c=a.children,d=a.thread;a=b("bs_int64").to_string(d.capabilities);var e=b("bs_int64").to_string(d.capabilities2);a=h.useCallback(function(a){return b("LSThreadBitOffset.bs").has(a,d)},[a,e]);return h.createElement(i.Provider,{children:c,value:a})}d={make:a};function c(a){return h.useContext(i)}f.Provider=d;f.useHook=c}),null);
__d("MWPMessageHasXMA.bs",["LSMessageContentType.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){return[b("bs_caml_int64").and_(b("LSMessageContentType.bs").singleXma,a.displayedContentTypes),b("bs_caml_int64").and_(b("LSMessageContentType.bs").hscrollXma,a.displayedContentTypes)].some(function(a){return b("bs_caml_int64").to_int32(a)!==0})}f.make=a}),null);
__d("XP2PVerificationDialogBaseControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/p2p/verify/dialog/",Object.freeze({is_sender_flow:!1}),void 0);b=a;g["default"]=b}),98);
__d("MDSReplySvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{color:c,size:a,children:h.jsx("path",{clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z",fillRule:"evenodd"})})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWPMessageParsingUtils.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","MercuryThreadlistConstants","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={text:{color:"x12scifz",fontSize:"x1pg5gke",paddingStart:"x1h0ha7o"},titleContainer:{alignItems:"x6s0dn4",display:"x78zum5",marginBottom:"xahult9"}};function k(a){a=a.text;if(a!==void 0)return a!=="";else return!1}function l(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function m(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function n(a){return b("bs_belt_Option").mapWithDefault(a.text,!1,function(a){return a.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function o(a){if(a.isAdminMessage||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").glyph,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").tombstone,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").sticker,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").audioClip,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").storyReply,a.displayedContentTypes))return!0;else return n(a)}function p(a,c){if(c===void 0)return!0;var d=Math.abs(b("bs_caml_int64").to_float(a.timestampMs)-b("bs_caml_int64").to_float(c.timestampMs))>b("MercuryThreadlistConstants").GROUPING_THRESHOLD,e=m(a),f=b("bs_int64").compare(a.senderId,c.senderId)===0;if(c.isUnsent||a.isUnsent||l(a)||!f||d||e||o(a))return!0;else return o(c)}function q(a,b){if(b!==void 0&&!p(a,b))return!1;else return!0}function r(a,b){if(b!==void 0&&!p(b,a))return!1;else return!0}function a(a,b,c){if(c==="below")if(k(a))return!0;else return!q(a,b);else return!1}function c(a,b,c){if(c==="below")return!r(a,b);else if(r(a,b))return!1;else return k(a)}e={shouldConnectBottom:c,shouldConnectTop:a};function d(a){var c=a.replySourceTypeV2,d=c!==void 0?b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").story)?i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"}):b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").fbStoryShare)?i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}):null:null;return b("bs_belt_Option").map(a.replySnippet,function(a){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.titleContainer),children:[d,i.jsx("div",{className:h(j.text),children:a})]})})}f.styles=j;f.hasText=k;f.isReplyToSomething=l;f.isForwarded=m;f.isLongText=n;f.shouldBeStandalone=o;f.isInDifferentGroup=p;f.isStartOfGroup=q;f.isEndOfGroup=r;f.MessageWithAttachments=e;f.getGroupTitleForReply=d}),null);
__d("MWV2MessageIsEmojiOnly.bs",["EmojiRenderer","EmoticonRenderer","bs_curry","cr:2382","gkx"],(function(a,b,c,d,e,f){"use strict";var g=/^[ \r\n\s]*$/;function a(a,c){if(a===void 0)return!1;var d=b("cr:2382")==null?a:b("bs_curry")._1(b("cr:2382").unvault,a);a=b("EmojiRenderer").parse(d).map(function(a){return{length:a.length,offset:a.offset}});var e=b("gkx")("1839834");e=e?c?b("EmoticonRenderer").parse(d).map(function(a){return{length:a.chars.length,offset:a.offset}}):[]:[];c=a.concat(e);if(c.length===0)return!1;a=c.sort(function(a,b){return a.offset-b.offset|0});var f={contents:0},h={contents:0};e=a.some(function(a){f.contents===a.offset?(f.contents=f.contents+a.length|0,h.contents=f.contents):h.contents=a.offset;var b=d.substring(f.contents,h.contents);f.contents=a.offset+a.length|0;return g.test(b)===!1});c=f.contents!==d.length&&!g.test(d.substring(h.contents));if(e)return!1;else return!c}f.utf16RegexSpaces=g;f.$MAWVault$requireCond=b("cr:2382");f.make=a}),null);
__d("MWPBaseMessage.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSThreadCapabilityBitOffset.bs","MWPMessageHasAttachment.bs","MWPMessageHasXMA.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","MWPThreadCapabilitiesContext.bs","MWV2MessageIsEmojiOnly.bs","bs_caml_option","bs_curry","cr:3890","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6"},elevate:{position:"x1n2onr6",zIndex:"x1vjfegm"},outgoing:{alignItems:"xuk3077"},row_container:{display:"x78zum5",width:"xh8yej3"},vr:{backgroundColor:"xcrg951",height:"x36qwtl",width:"xh8yej3"}};function k(a,c){if(b("LSBitFlag.bs").has(b("LSMessageContentType.bs").glyph,a.displayedContentTypes))return!0;else return b("MWV2MessageIsEmojiOnly.bs").make(a.text,c)}var l=b("cr:3890")==null?void 0:b("bs_caml_option").some(b("cr:3890"));function m(a){return i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})}m.displayName=m.name+" [from "+e.id+"]";c={make:m};function n(a){var c=a.attachmentRenderPosition,d=a.isEmojiOnly,e=a.isFirstMessageInGroup,f=a.isLastMessageInGroup,g=a.isMessagePinned,k=a.isNextMessagePinned,l=a.message,n=a.nextMessage,o=a.outgoing,p=a.prevMessage,q=a.renderAttachment,r=a.renderEmoji,s=a.renderMessageBubble;a=a.shouldRenderMessageContent;var t=b("MWPThreadCapabilitiesContext.bs").useHook();t=b("gkx")("1886144")&&b("bs_curry")._1(t,b("LSThreadCapabilityBitOffset.bs").disableLinks);var u=b("MWPMessageIsReply.bs").make(l),v=b("MWPMessageParsingUtils.bs").hasText(l),w=b("MWPMessageHasXMA.bs").make(l),x=w&&c==="below";e=c==="below"?!u&&!e&&!g:!1;g=!f&&!k;if(a){f=l.text;k=f!==void 0?d?u?i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:b("bs_curry")._1(r,l)}):u?null:i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[e?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:b("bs_curry")._1(r,l)})]}):f!==""?i.jsxs(i.Fragment,{children:[e||c==="above"?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsxs("div",{className:(h||(h=b("stylex")))(j.row_container),role:"none",children:[o?i.jsx(m,{}):null,b("bs_curry")._5(s,l,e,g,x,o),o?null:i.jsx(m,{})]})]}):null:null}else k=null;if(b("MWPMessageHasAttachment.bs").make(l)&&!(t&&w)){a=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(l,p,c);d=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(l,n,c);u=b("bs_curry")._7(q,l,p,n,a,d,o,v)}else u=null;return i.jsxs(i.Fragment,{children:[c==="above"?u:null,k,c==="below"?u:null]})}d={make:n};function a(a){var c=a.reactionsV2,d=a.attachmentRenderPosition,e=a.shouldRenderMessageContent,f=a.checkEmoticon,g=a.isFirstMessageInGroup,o=a.isLastMessageInGroup,p=a.message,q=a.nextMessage,r=a.outgoing,s=a.prevMessage,t=a.reactions,u=a.renderAttachment,v=a.renderEmoji,w=a.renderMessageBubble,x=a.renderMessageContainer,y=a.renderMessageFooter;a=a.renderUnsentMessage;c=c!==void 0?b("bs_caml_option").valFromOption(c):void 0;d=d!==void 0?d:"below";e=e!==void 0?e:!0;if(p.isUnsent)if(a!==void 0)return i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:b("bs_curry")._2(a,p,r)});else return null;a=k(p,f);f=b("cr:3890")==null?i.jsx(n,{attachmentRenderPosition:d,isEmojiOnly:a,isFirstMessageInGroup:g,isLastMessageInGroup:o,isMessagePinned:!1,isNextMessagePinned:!1,message:p,nextMessage:q,outgoing:r,prevMessage:s,renderAttachment:u,renderEmoji:v,renderMessageBubble:w,shouldRenderMessageContent:e}):i.jsx(l.make,{attachmentRenderPosition:d,isEmojiOnly:a,isFirstMessageInGroup:g,isLastMessageInGroup:o,message:p,nextMessage:q,outgoing:r,prevMessage:s,renderAttachment:u,renderEmoji:v,renderMessageBubble:w,shouldRenderMessageContent:e});return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:(h||(h=b("stylex")))(j.row_container),role:"none",children:[r?i.jsx(m,{}):null,x!==void 0?b("bs_curry")._2(x,f,[j.container,r?j.outgoing:!1]):i.jsx("div",{className:(h||(h=b("stylex")))(j.container,r?j.outgoing:!1),children:f}),r?null:i.jsx(m,{})]}),i.jsxs(i.Fragment,{children:[a&&t.length>0?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:5}):null,i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:b("bs_curry")._4(y,p,t,c,r)})]})]})}e=a;f.styles=j;f.$MWPBaseMessageContentWithPinnedMessageSupport$requireCond=b("cr:3890");f.HorizontalFill=c;f.Content=d;f.make=e}),null);
__d("MWPMessageAuthor.re",["MWPMessageAuthor.bs"],(function(a,b,c,d,e,f){a=b("MWPMessageAuthor.bs").make;f.make=a;c=b("MWPMessageAuthor.bs").useAuthorName;f.useAuthorName=c}),null);
__d("StylexHelpers.re",["StylexHelpers.bs"],(function(a,b,c,d,e,f){a=b("StylexHelpers.bs").styles;f.styles=a}),null);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.re","StylexHelpers.re","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("react");function a(a){var b=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.re").useAuthorName(b);e=e[0];var f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&i.jsx("span",{className:c("stylex")(d("StylexHelpers.re").styles.visuallyHidden),children:e!=null&&!a?e:f})}g["default"]=a}),98);
__d("MWV2ChatEmoji.bs",["CometTextWithEntities.react","MWChatEmojiUtil.bs","MWChatTextTransform.bs","MWV2ChatBubble.bs","bs_curry","cr:2382","qex","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var d=h.useMemo(function(){var a=b("qex")._("1546");a=a==null||a!=="dynamic"?32:b("MWChatEmojiUtil.bs").transformHotEmojiSizeForWeb(c.hotEmojiSize);return b("MWChatTextTransform.bs").epdTextTransformsWithOptions({size:a})},[c.hotEmojiSize]),e=c.text;if(e===void 0)return null;e=b("cr:2382")==null?e:b("bs_curry")._1(b("cr:2382").unvault,e);e=h.jsx(b("CometTextWithEntities.react"),{text:e,transforms:d,withParagraphs:!0});if(a)return h.jsx(b("MWV2ChatBubble.bs").EmphasisRing.make,{hasXMA:!1,isBeforeXMA:!1,isOutgoing:!1,shouldConnectBottom:!1,shouldConnectTop:!1,children:e});else return e}c=a;f.$MAWVault$requireCond=b("cr:2382");f.make=c}),null);
__d("MWV2ChatText.bs",["MWPMessageListText.bs","MWPVisibleMessageContext.bs","MWUseTextRenderers.bs","MWV2ChatTextParserUtils.bs","bs_caml_option","bs_curry","cr:2382","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=c.mentionIds,e=c.mentionLengths,f=c.mentionOffsets;c=c.mentionTypes;if(d!==void 0)if(e!==void 0)if(f!==void 0)if(c!==void 0)return b("MWV2ChatTextParserUtils.bs").findRangesForMentions(a,d,e,f,c);else return[];else return[];else return[];else return[]}function j(a,b,c){if(a===void 0)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d|0}});else return[]}function k(a){var c=b("useReStore")(),d=b("MWPVisibleMessageContext.bs").useHook(),e=d.visibleMessage;return h.useMemo(function(){var d=a.text;d=d!==void 0&&d!==""?d:void 0;if(d===void 0)return[];if(b("MWV2ChatTextParserUtils.bs").isEmojiOnlyMessage(d))return[];d=b("cr:2382")==null?d:b("bs_curry")._1(b("cr:2382").unvault,d);var f=i(c,a);f=f.concat(b("MWV2ChatTextParserUtils.bs").findRanges(d));return f.concat(j(e==null?void 0:b("bs_caml_option").some(e),d,a.messageId))},[a,c,e])}function a(a){var c=a.message,d=a.outgoing;a=a.isSecureMessage;a=a!==void 0?a:!1;var e=k(c),f=b("MWUseTextRenderers.bs").useHook(a),g=c.text;a=b("cr:2382")==null?c.text:a?g!==void 0?b("bs_curry")._1(b("cr:2382").unvaultOrThrow,g):c.text:g!==void 0?b("bs_curry")._1(b("cr:2382").unvault,g):c.text;return h.jsx(b("MWPMessageListText.bs").make,{message:c,outgoing:d,ranges:e,renderers:f,text:a})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.useRanges=k;f.$MAWVault$requireCond=b("cr:2382");f.make=c}),null);
__d("MWV2ChatUnsentMessage.bs",["fbt","CometPressable.react","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWLSThread.bs","MWText.react","MWV2TombstonedMessage.bs","ReQL.bs","ReQLSubscription.bs","XCometGroupAdminActivitiesControllerRouteBuilder","bs_curry","bs_int64","cr:4898","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={linkText:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2"}};function k(a){var c=a.attachment,d=a.isSecureMessage;a=a.message;var e=g._("__JHASH__I-2GRtvMpnJ__JHASH__");a=b("cr:4898")==null?e:b("bs_curry")._1(b("cr:4898").useUnsendContentInSecureThread,a);if(d)d=a;else if(c!==void 0){a=c.descriptionText;d=a!==void 0?a:e}else d=e;return i.jsx(b("MWV2TombstonedMessage.bs").make,{ariaLabel:d,children:d})}k.displayName=k.name+" [from "+e.id+"]";c={make:k};function l(a){a=a.attachment;if(a!==void 0){a=a.descriptionText;a=a!==void 0?a:g._("__JHASH__HdJ22izQlT7__JHASH__")}else a=g._("__JHASH__HdJ22izQlT7__JHASH__");return i.jsx(b("MWV2TombstonedMessage.bs").make,{ariaLabel:a,children:a})}l.displayName=l.name+" [from "+e.id+"]";d={make:l};function m(a){var c=a.attachment;a=a.thread;a=b("MWCMUseFolder.bs").useHook(a);if(c!==void 0){c=c.cta1Title;c=c!==void 0?c:g._("__JHASH__8jyfQXNgswL__JHASH__")}else c=g._("__JHASH__8jyfQXNgswL__JHASH__");if(a!==void 0)return i.jsx(b("CometPressable.react"),{linkProps:{url:"https://www.facebook.com"+b("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:b("bs_int64").to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(a){return[j.linkText]},children:i.jsx(b("MWText.react"),{color:"blueLink",type:"meta2",children:c})});else return null}e={make:m};function a(a){var c=a.isSecureMessage,d=a.message;a=a.outgoing;var e=b("useReStore")(),f=d.messageId,g=d.threadKey,h=b("MWLSThread.bs").useThread(g),j=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:g,tl:{hd:f,tl:0}})},[e,f,JSON.stringify(g)]));if(j!==void 0){var n=j.cta1Type;n=n!==void 0?n==="xma_view_activity_log":!1}else n=!1;return i.jsxs(i.Fragment,{children:[a?i.jsx(l,{attachment:j}):i.jsx(k,{attachment:j,isSecureMessage:c,message:d}),h!==void 0&&n&&b("MWCMThreadTypes.bs").isAnyCMThread(h.threadType)?i.jsx(m,{attachment:j,thread:h}):null]})}a=a;f.styles=j;f.$MAWUnsendContentInSecureThread$requireCond=b("cr:4898");f.IncomingUnsentMessage=c;f.OutgoingUnsentMessage=d;f.ActivityLogDetails=e;f.make=a}),null);
__d("MWV2MessageTimestampTooltip.bs",["fbt","MWTooltip.react","MercuryTimestamp","bs_caml_int64","gkx","react","useSecureMessageSendTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.children,d=a.message,e=b("useSecureMessageSendTime")(d.messageId);a=i.useMemo(function(){var a=d.unsentTimestampMs,c=d.isUnsent;return a!==void 0&&c?i.jsxs("div",{children:[i.jsx("div",{children:g._("__JHASH__L93MxMH-RPL__JHASH__",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(d.timestampMs)))])}),i.jsx("div",{children:b("gkx")("1531920")?g._("__JHASH__6L85PWgp0uQ__JHASH__",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))]):g._("__JHASH__exEcskNfDMO__JHASH__",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))])})]}):i.jsxs("div",{children:[i.jsx("div",{children:!(e==null)&&e>0?"Send Latency: "+e.toString()+"ms":null}),i.jsx("div",{children:g._("__JHASH__GNnexJRNZQN__JHASH__",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(d.timestampMs)))])})]})},[d]);return i.jsx(b("MWTooltip.react"),{align:"middle",position:"start",tooltip:a,children:c})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWPAriaLabelForMessageListGrid.bs",["fbt","MWPActor.bs","MWPGetThreadTitle.bs","ReQL.bs","ReQLSuspense","bs_belt_Option","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("MWPActor.bs").useActor(),d=b("useReStore")(),e=b("ReQLSuspense").useArray(function(){var c;return(c=b("ReQL.bs")).take(c.leftJoin(c.getKeyRange(c.fromTableAscending(d.table("participants")),{hd:a.threadKey,tl:0}),c.fromTableAscending(d.table("contacts"))),8)},[a.threadKey]);return i.useMemo(function(){var d=a.threadName;if(d!==void 0)return g._("__JHASH__NOo4A_R8oVU__JHASH__",[g._param("name of conversation",d)]).toString();d=b("bs_belt_Option").getWithDefault(b("MWPGetThreadTitle.bs").computeThreadTitle(void 0,a,e,c),"");return g._("__JHASH__KCW8qihKWub__JHASH__",[g._param("participant list",d)]).toString()},[c,e,a.threadName])}f.useHook=a}),null);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(a,b,c,d,e,f){a=Object.freeze({BEFORE:0,AFTER:1});f["default"]=a}),66);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33"},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f"},animationWrapper:{bottom:"x1ey2m1c",position:"x10l6tqk",start:"x14yxtea",zIndex:"x1vjfegm"},root:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3"}};function a(a){var b=a.children,d=a.visible;a=k(d);var e=a[0],f=a[1];i(function(){d&&f(!0)},[d,f]);return j(function(){return e?h.jsx("div",{className:c("stylex")(l.root),children:h.jsx("div",{className:c("stylex")([l.animationWrapper,d?l.animateIn:l.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","FBLogger","I64","IntersectionObserver","LS.re","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagePointQuery","LSMessagingThreadTypeUtil.re","LSOptimisticMarkThreadReadV2","MWMarkThreadAsReadWhenNewMessagesArrive.re","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.re","MWPVisibleMessageContext.re","ReQL","ReQLPaginatedList.react","ReQLSuspense","ServerTime","cr:4031","intersectionObserverEntryIsIntersecting","promiseDone","react","regeneratorRuntime","stylex","useReStore","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useImperativeHandle,l=e.useMemo,m=e.useRef,n=e.useState,o={container:{isolation:"xc8icb0",zIndex:"x1ja2u2z"},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62"},observed:{height:"xjm9jq1",marginTop:"x1y332i5",pointerEvents:"x47corl",position:"x10l6tqk"},spacer:{backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2"}},p=d("I64").of_string("9999999999999"),q=5;function r(a){var b=a.messageId,c=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(c,a,b)}function s(a,b){if(a==null||b==null)return;return d("I64").compare(b,a.maxTimestampMs)<=0?a:null}function t(a,b,e,f){c("promiseDone")(a.runInTransaction(function(a){return c("LSMessagePointQuery")(b,e,f,d("LS.re").make(a))},"readwrite"))}function aa(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function a(a,e){var f=a.children,g=a.onInitialLoadingCompleted,ba=a.onScroll,ca=a.renderFooter,da=a.renderHeader,u=a.renderJumpToMostRecentMessageButton,v=a.renderLoadingAnimation,ea=a.renderRow,w=a.thread;a=a.checkIsThreadManuallySetAsUnread;var x=a===void 0?function(){return!1}:a;function y(a,e,f){c("promiseDone")(a.runInTransaction(function(a){var g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(a.table("messages_ranges_v2__generated").get(e));case 2:g=h.sent;if(!(g==null||(f==="before"?g.isLoadingBefore:g.isLoadingAfter))){h.next=5;break}return h.abrupt("return");case 5:if(!fa){h.next=12;break}if(!(f!=="before")){h.next=8;break}throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");case 8:if(!(F!=null)){h.next=11;break}h.next=11;return b("regeneratorRuntime").awrap(F(a,f));case 11:return h.abrupt("return");case 12:return h.abrupt("return",c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(f==="before"?c("LSMailboxMessagesRangeQueryDirection").BEFORE:c("LSMailboxMessagesRangeQueryDirection").AFTER),d("LS.re").make(a)));case 13:case"end":return h.stop()}},null,this)},"readwrite"))}var z=w.threadKey,A=w.threadType,B=c("useReStore")(),C=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(B.table("messages_ranges_v2__generated")).getKeyRange(z)},[B,z]),D=c("useUnsafeRef_DEPRECATED")(new Map()),E=m(null),fa=c("LSMessagingThreadTypeUtil.re").isSecure(A);a=b("cr:4031");var F=a==null?void 0:a.useFetchSecureMessages(z);a=n([C,void 0]);var G=a[0],H=a[1];a=d("MWPVisibleMessageContext.re").useHook();var ga=a.setVisibleMessage,I=a.visibleMessage;a=(a=I)!=null?a:{};var J=a.messageId,K=a.timestamp,L=d("ReQLSuspense").useFirst(function(){return J!=null&&K!=null?d("ReQL").fromTableAscending(B.table("messages")).getKeyRange(z,K,J):d("ReQL").empty()},[B,z,J,K]),M=s(d("ReQLSuspense").useFirst(function(){return K!=null?d("ReQL").fromTableDescending(B.table("messages_ranges_v2__generated")).getKeyRange(z).bounds({lte:{hd:K,tl:0}}):d("ReQL").empty()},[B,K,z]),K);j(function(){J==null||K==null?H([C,void 0]):M==null?t(B,z,J,A):M.minMessageId===J&&M.hasMoreBefore?y(B,d("ReQL").key(M.threadKey,M.minTimestampMs,M.minMessageId),"before"):M.maxMessageId===J&&M.hasMoreAfter?y(B,d("ReQL").key(M.threadKey,M.minTimestampMs,M.minMessageId),"after"):L!=null&&H([M,L])},[B,L,J,M,C,JSON.stringify(z),JSON.stringify(A),JSON.stringify(K)]);j(function(){var a;a=(a=D.current.get(I==null?void 0:I.messageId))==null?void 0:a.current;a!=null&&a.scrollIntoView()},[I]);var N=G[0];a=G[1];G=d("ReQLSuspense").useFirst(function(){return N!=null?d("ReQL").fromTableAscending(B.table("messages")).getKeyRange(N.threadKey).bounds({gte:d("ReQL").key(N.minTimestampMs,N.minMessageId)}):d("ReQL").empty()},[B,N]);var O=d("ReQLSuspense").useFirst(function(){return N!=null?d("ReQL").fromTableDescending(B.table("messages")).getKeyRange(N.threadKey).bounds({lte:d("ReQL").key(N.maxTimestampMs,N.maxMessageId)}):d("ReQL").empty()},[B,N]),P=n(!0),ha=P[0],ia=P[1],Q=m(),R=E.current,S=Q.current,T=m(!1);j(function(){if(g==null||T.current)return;if(N!=null&&!N.hasMoreBefore){g();T.current=!0;return}var a=E.current;if(a==null)return;if(a.scrollHeight-a.clientHeight>q){g();T.current=!0;return}},[g,N]);j(function(){if(S!=null&&R!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];return ia(c("intersectionObserverEntryIsIntersecting")(a))},{root:R,rootMargin:"360px"});a.observe(S);return function(){return a.disconnect()}}},[R,S]);var U=N!=null?!N.hasMoreAfter:!1;P=i(function(){var a=E.current;return a==null?!1:a.scrollHeight-a.scrollTop-a.clientHeight<q&&U},[U]);var V=i(function(){c("promiseDone")(B.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(w.threadKey,d("I64").of_float(d("ServerTime").getMillis()),d("LS.re").make(a))},"readwrite"))},[JSON.stringify(w.threadKey)]),W=d("MWMarkThreadAsReadWhenNewMessagesArrive.re").useHook(w,O,V,P,x);j(function(){if(S!=null&&R!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];c("intersectionObserverEntryIsIntersecting")(a)&&!x()&&W()},{root:R,rootMargin:"0px"});a.observe(S);return function(){return a.disconnect()}}},[R,S,W,x]);V=l(function(){var a=B.table("messages").index("messageDisplayOrder"),b=d("ReQL").fromTableAscending(a).getKeyRange(w.threadKey),c=d("ReQL").fromTableDescending(a).getKeyRange(w.threadKey);return{entries:function(a,d,e){return(d==="asc"?b:c).iterator(a,e)},keyLength:b.keyLength,subscribe:function(a,d){var e=b.subscribe(function(b,c,d){return a(b,c,d)},d),f=c.subscribe(function(b,c,d){return a(b,c,d)},d);return function(){e(),f()}}}},[B,JSON.stringify(w.threadKey)]);var X=c("useUnsafeRef_DEPRECATED")();P=N!=null&&d("I64").equal(N.maxTimestampMs,p);var Y=N!=null&&d("I64").equal(N.minTimestampMs,d("I64").zero);function Z(){N===C&&(R!=null&&(X.current!=null&&X.current.scrollToBottom())),ga(function(){return void 0})}k(e,function(){return{jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){Z()})}});if(N==null||G==null&&!Y||O==null&&!P)return v!=null?v():null;var $=d("ReQL").key(N.threadKey,N.minTimestampMs,N.minMessageId);e=a==null?"bottom":r(a);return h.jsxs("div",{className:c("stylex")(o.list),children:[h.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:G==null||Y?null:r(G),lte:O==null||P?null:r(O)},hasReachedBottom:!N.hasMoreAfter,hasReachedTop:!N.hasMoreBefore,imperativeRef:X,initialAnchor:e,onReachingBottom:function(){y(B,$,"after"),W()},onReachingTop:function(){return y(B,$,"before")},onScroll:ba,renderContent:function(a){return h.jsx(c("BaseHeadingContextWrapper.react"),{children:h.jsxs("div",{className:c("stylex")(o.container),children:[f(a),h.jsx("div",{className:c("stylex")(o.observed),ref:Q})]})})},renderFooter:ca,renderHeader:da,renderHeaderContentSpacer:function(){return h.jsx("div",{className:c("stylex")(o.spacer)})},renderItem:function(a,b){var c=b.nextItem;b=b.previousItem;return h.jsx(d("MWPMessageAuthor.re").make,{contactId:a.senderId,threadKey:a.threadKey,children:ea({domElementRef:aa(D.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.messageId)},renderLoadingAnimation:v,scrollAreaElementRef:E,table:V,xstyle:o.list}),u&&h.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!ha||N.hasMoreAfter,children:u(Z)})]})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("MWPMessageListFocusTable.bs",["FocusRegion.react","MWMessageTableFocusTable.bs","MWV2MessageListIsRowModalContext.bs","bs_caml_option","focusScopeQueries","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={grid:{borderEnd:"x63ui4o",borderStart:"x18i3tt1",overflowX:"x6ikm8r",overflowY:"x10wlt62"}};function k(a,b,c){return b["data-scope"]==="date_break"}function a(a){var c=a.ariaLabel,d=a.children,e=a.modal,f=a.setModal,g=a.wrapX;a=a.wrapY;g=g!==void 0?g:!1;a=a!==void 0?a:!1;var l=i.useCallback(function(a){var c=a.type;switch(c){case"PAGE_DOWN":case"PAGE_UP":break;default:return}c=a.type==="PAGE_DOWN";a.preventDefault();var d=a.currentRowIndex+(c?1:-1)|0,e=!1;while(!e){var f=a.getCell(d,a.currentCellIndex);if(f==null){var g=a.getCell(c?d-1|0:0,a.currentCellIndex);g==null||a.focusCell(g);e=!0}else{g=f.scopeRef.current;g=g!==void 0?b("bs_caml_option").valFromOption(g).DO_NOT_USE_queryFirstNode(k):null;g==null?d=c?d+1|0:d-1|0:(a.focusCell(f),e=!0)}}},[]);return i.jsx(b("MWV2MessageListIsRowModalContext.bs").Provider.make,{value:f,children:i.jsx(b("FocusRegion.react").FocusRegion,{recoverFocusQuery:b("MWMessageTableFocusTable.bs").scopeQuery,children:i.jsx(b("MWMessageTableFocusTable.bs").Table_.Table.make,{allowModifiers:!0,disabled:e!=="",onNavigate:l,tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:a,children:i.jsx("div",{"aria-label":c,className:(h||(h=b("stylex")))(j.grid),role:"grid",children:d})})})})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=j;f.dateBreakQuery=k;f.make=c}),null);
__d("MWPThreadGradientBackground.bs",["MWPColorUtils.bs","MWPThreadTheme.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"x78zum5",flexBasis:"x1r8uery",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"xmz0i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6"}};function a(a){a=a.children;var c=b("MWPThreadTheme.bs").useHook(),d=c.gradientColors;c=i.useMemo(function(){if(d.length>1)return{backgroundImage:b("MWPColorUtils.bs").gradient(d)};else return{}},[d]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),style:c,children:a})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=j;f.make=c}),null);
__d("MWPNewMessageDraftContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext();function a(a){a=a.children;var b=h.useRef("");return h.createElement(i.Provider,{children:a,value:b})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c}),null);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalEntityTextNode","cr:3101"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:"p"})}(b("cr:3101")==null?void 0:b("cr:3101").isMessengerCommandNode(a))&&c.push({id:"0",length:a.getTextContent().length,offset:e,type:a.getRangeType()});e+=a.getTextContent().length})});return c}};c=a;g["default"]=c}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,(e=b("cr:3101"))==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(b){return c("mlcErrorHandler__INTERNAL")(b,a,function(a){c("FBLogger")("messenger_web_product").catching(b).mustfix("Lexical Error MWP \u2013 "+a)})},theme:babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xdj266r xat24cr"})});return a}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){h(function(){var c=b.current;if(c==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),e=a.getFirstChild();d("Lexical").$isParagraphNode(e)||(e=d("Lexical").$createParagraphNode(),a.append(e));a=d("Lexical").$createTextNode(c);e.append(a);a.select()}})},[a,b])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a){h(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),b=d("Lexical").$getSelection(),c=d("Lexical").$createParagraphNode();a.clear();a.append(c);b!==null&&c.select()});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[a])}g["default"]=a}),98);
__d("useMWPLexicalIsTextContentEmpty",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useState;function a(a,b,c){c=i((c=c)!=null?c:a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing(),b)));var e=c[0],f=c[1];h(function(){return a.registerUpdateListener(function(c){c=c.editorState;var e=a.isComposing();c=c.read(d("LexicalText").$isRootTextContentEmptyCurry(e,b));f(c)})},[a,b]);return e}g["default"]=a}),98);
__d("MWPComposerEditor.bs",["DEPRECATED_useLexicalPlainText","LS.bs","LSTransaction.bs","LSUpdateDraftMessage","Lexical","LexicalText","MWChatFocusComposerContext.bs","MWLSUseLatch.bs","MWPActor.bs","MWPNewMessageDraftContext.bs","MWPReplyContext.bs","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.bs","MWV2IsTabFocusedContext.bs","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:11463","mwpLexicalCreateEditor","promiseDone","react","useDebounced","useLexicalInitializeEditor__DEPRECATED","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPLexicalIsTextContentEmpty","usePrevious","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){h.useEffect(function(){b("bs_curry")._1(c,a.getEditorState())},[a,c]),h.useEffect(function(){return a.registerUpdateListener(function(a){return b("bs_curry")._1(c,a.editorState)})},[c,a])}function j(a,c){c=b("MWLSUseLatch.bs").useLatch(c,!0,5e3);var d=c[1],e=c[0],f=h.useRef("");h.useEffect(function(){var c=function(a){a=a.editorState.read(function(a){return b("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return b("bs_curry")._1(d);else return b("bs_curry")._1(e)}};return a.registerUpdateListener(c)},[e,d,a])}function k(a,c,d,e){var f=b("useReStore")(),g=b("MWPActor.bs").useActor();return h.useCallback(function(c){e!==void 0&&b("bs_curry")._4(e,JSON.stringify(d.getEditorState()),b("bs_int64").to_string(a.threadKey),String(c),g),b("promiseDone")(b("LSTransaction.bs").run(f,function(d){return b("LSUpdateDraftMessage")(a.threadKey,c,b("LS.bs").make(d))},"readWrite"))},[f,JSON.stringify(a.threadKey)])}function l(a){var c=b("MWPReplyContext.bs").useContext(),d=c.reply,e=b("usePrevious")(d);h.useEffect(function(){var c=e==null?d!==void 0:b("bs_caml_obj").caml_notequal(e,d)?!0:!1;c&&a.focus(function(a){})},[a,d,e==null?void 0:b("bs_caml_option").some(e)])}var m=b("cr:11463")==null?function(a){}:b("cr:11463").useHook;function a(a){var c=a.isSendDisabled,d=a.children,e=a.customizedRanges,f=a.deleteComposerStateForUserIdByThreadKey,g=a.getDraftThreadIds,n=a.getEditorState,o=a.isPreviewThread,p=a.mediaStaging,q=a.onSendEmptyMessage,r=a.onSendMessage,s=a.onTypingStateChanged,t=a.persistEditorState,u=a.policyProduct,v=a.surface,w=a.thread,x=a.useMWPComposerPrepopulateEditorState;a=a.getTextFromEditorState;var y=c!==void 0?c:!1,z=a!==void 0?a:function(a){return a.read(function(a){return b("LexicalText").$rootTextContent()})},A=b("MWPNewMessageDraftContext.bs").useContext();c=A!==void 0?A.current:w.draftMessage;a=h.useRef(c);var B=h.useRef(null);b("bs_curry")._1(m,B.current);var C=h.useMemo(function(){return b("mwpLexicalCreateEditor")()},[]);n=n!==void 0?b("bs_curry")._1(n,b("bs_int64").to_string(w.threadKey)):JSON.stringify(C.getEditorState());n=n!==void 0?JSON.parse(n):JSON.parse("{}");var D={contents:function(a){return C.dispatchCommand(b("Lexical").CLEAR_EDITOR_COMMAND)}},E=k(w,g,C,t),F=b("useDebounced")(E,2e3),G=h.useRef();g=b("MWV2ComposerHasContentContext.bs").useContext();var H=g.shouldClearDraftMessageRef,I=g.hasContentRef;h.useEffect(function(){return function(a){if(H!==void 0&&H.current)return b("bs_curry")._1(E,"");a=G.current;if(a!==void 0)return b("bs_curry")._1(E,a)}},[]);t=h.useCallback(function(a){a=a.read(function(a){return b("LexicalText").$rootTextContent()});G.current=a;I!==void 0&&(I.current=a!=="");F(a);if(o&&A!==void 0){A.current=a;return}},[C,E,o]);i(C,t);j(C,s);g=c!==void 0?c.trim()==="":!0;t=b("useMWPLexicalIsTextContentEmpty")(C,!0,g);s=p.length>0;var J=!t||s,K=p.filter(function(a){return!a.isSent}).length;c=h.useContext(b("MWChatFocusComposerContext.bs").context);var L=c.setFocusComposer;h.useEffect(function(){b("bs_curry")._1(L,function(a){return C.focus(function(a){})})},[C]);h.useEffect(function(){K>0&&C.focus(function(a){})},[C,K]);var M=b("MWV2IsTabFocusedContext.bs").useContext();h.useEffect(function(){M&&!o&&C.focus(function(a){})},[C,M,o]);l(C);b("useMWPCometComposerPrepopulateDraftMessage")(C,a);x!==void 0&&b("bs_curry")._2(x,C,n);var N=b("MWPActor.bs").useActor(),O=function(a,c,d,e,g,h,i,j,k,l){f!==void 0&&b("bs_curry")._2(f,b("bs_int64").to_string(w.threadKey),b("bs_int64").to_string(N));b("bs_curry").app(r,[a,c,d,e,g,h,i,j,k,void 0,void 0]);return C.focus(function(a){})};g=h.useCallback(function(a){if(y)return;if(J){a=e!==void 0?b("bs_curry")._2(e,C,b("bs_int64").to_string(w.threadKey)):b("MWV2ChatComposerGetViewContent").getRanges(C);var c=C.getEditorState();c=b("bs_curry")._1(z,c);O(c,a)}else b("bs_curry")._1(q);G.current="";return b("bs_curry")._1(D.contents)},[C,O,J,y]);b("useMWPLexicalCommitMessageOnEnter")(C,g);b("DEPRECATED_useLexicalPlainText").useLexicalPlainText(C);b("useLexicalInitializeEditor__DEPRECATED")(C);b("useMWPLexicalClearEditor")(C);return b("bs_curry")._6(d,C,v,u,J,B,g)}c=a;f.$MWUseKeyCommandsForComposer$OR$null$requireCond=b("cr:11463");f.make=c}),null);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){var b=a.id;a=a.text;return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:b,text:a})});b=a;g["default"]=b}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","MWCMThreadTypes.re","MWCMUseFolder.re","MWChatComposerMentionsViewItem.react","MWLSThread.re","cr:2600","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadViewListStrategy","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=(e=b("cr:4183"))!=null?e:function(a){return function(a,b){}};function a(a){var e=a.editor,f=a.participants,g=a.threadFBID,k=j(d("I64").of_string(g));a=i(function(){return{participants:f,threadFBID:g,triggerParticipantsSearch:k}},[f,g,k]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var l=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react")}),m=d("MWLSThread.re").useThreadExn(d("I64").of_string(g)),n=d("MWCMUseFolder.re").useFolder(m);if(d("MWCMThreadTypes.re").isJoinedCMThread(m.threadType)&&n&&b("cr:2600"))return h.jsx(b("cr:2600"),{editor:e,fbGroupId:n.fbGroupId,folderId:n.folderId,threadFBID:g});else return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:e,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","DEPRECATED_useLexicalCanShowPlaceholder","MLCInstrumentationPluginDeferred__INTERNAL.react","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","cr:1948","react","requireDeferred","stylex","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),l={container:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",boxSizing:"x9f619",flexGrow:"x1iyjqo2",minWidth:"xeuugli"},editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f"},editorWrapper:{display:"x78zum5",flexGrow:"x1iyjqo2",marginEnd:"x1gja9t",marginStart:"x16n37ib",marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",minWidth:"xeuugli",position:"x1n2onr6"},inputRow:{display:"x78zum5",flexWrap:"x1a02dak",justifyContent:"x13a6bvl"}},m=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var e=a.ariaDescribedBy,f=a.contentEditableRef,g=a.editor,h=a.endContent,n=a.handlePastedFiles,o=a.participants,p=a.policyProduct,q=a.startContent,r=a.surface,s=a.testId,t=a.threadID,u=a.topContent;a=a.useMentionsPlugin;var v=j(function(a){var b=f.current;if(a==null||b===a)return;f.current=a;g.setRootElement(a)},[f,g]),w=d("DEPRECATED_useLexicalCanShowPlaceholder").useLexicalCanShowPlaceholder(g),x=c("useDeferredModuleOnReady")(k);return i.jsxs("div",{className:c("stylex")(l.container),children:[i.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{editor__DEPRECATED:g,policyProduct:p,surface:r}),u,i.jsxs("div",{className:c("stylex")(l.inputRow),children:[q,i.jsxs("div",{className:c("stylex")(l.editorWrapper),children:[i.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:e,ariaLabel:m,contentEditableRef:v,editor:g,spellCheck:!0,tabIndex:0,webDriverTestID:s,xstyle:l.editor}),w&&i.jsx(c("CometLexicalPlaceholder.react"),{children:"Aa"})]}),h]}),a&&i.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:g,participants:o,threadFBID:t}),b("cr:1948")&&i.jsx(b("cr:1948"),{editor:g}),x==null?null:i.jsx(x,{editor:g,handlePastedFiles:n})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerEmojiButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","JSResourceForInteraction","MWChatComposerIcons.bs","MWTooltip.react","Promise","bs_curry","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("__JHASH__HXazdxq92Fj__JHASH__"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4"},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha"}},l=b("JSResource")("CometAddEmojiToComposerForLexical.bs").__setRef("MWV2ComposerEmojiButton.bs");function a(a){var c=a.color,d=a.editor;a=function(a){b("promiseDone")(l.load().then(function(c){b("bs_curry")._3(c.make,a,d,16);return b("Promise").resolve()}))};return i.jsx(b("CometLazyPopoverTrigger.react"),{align:"end",fallback:i.jsx(b("CometPopoverLoadingState.react"),{withArrow:!0}),popoverProps:{onSelect:a,withArrow:!0},popoverResource:b("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.bs"),children:function(a,d,e,f,g,h,m){return i.jsx(b("MWTooltip.react"),{align:"middle",position:"above",tooltip:j,children:i.jsx(b("CometPressable.react"),{"aria-label":j,onHoverIn:b("bs_curry").__1(f),onHoverOut:function(a){return b("bs_curry")._1(g)},onPress:function(a){b("bs_curry")._1(d),l.preload()},onPressIn:b("bs_curry").__1(h),overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(a){return[b("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").Emoji.make,{fill:c,size:20})})})}})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.label=j;f.styles=k;f.cometAddEmojiToComposerForLexical=l;f.make=c}),null);
__d("MWV2ComposerSendButton.bs",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","MWTooltip.react","UserAgent","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c=b("gkx")("6934");d=b("UserAgent").isPlatform("Mac OS X");var k=c?d?g._("__JHASH__rZOmP6eifIV__JHASH__"):g._("__JHASH__ylwhpFdWk4l__JHASH__"):g._("__JHASH__7975gRkNyLl__JHASH__"),l={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginEnd:"xw3qccf",marginStart:"xsgj6o6",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha"},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginEnd:"x1emribx",marginStart:"x1i64zmx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha"}};function a(a){var c=a.color,d=a.onPress;a=a.disabled;a=a!==void 0?a:!1;return j.jsx(b("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:j.jsx(b("CometPressable.react"),{disabled:a,label:k,onPress:d,overlayDisabled:a,overlayRadius:"50%",testid:void 0,xstyle:function(a){return[b("gkx")("571")?l.buttonMDS:l.buttonFDS]},children:j.jsx("svg",{className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"20px",viewBox:"0 0 24 24",width:"20px",children:j.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:c})})})})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWLSDefaultThreadSource.bs",["LSMessagingSource.bs","LSThreadAttributionTypeUtil.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("LSMessagingSource.bs").useHook();return h.useCallback(function(a){return b("LSThreadAttributionTypeUtil.bs").getSource(a,c)},[c])}f.useHook=a}),null);
__d("MWV2ChatTabComposer.bs",["LS.bs","LSAddMessengerContact","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerGating.react","MWPActor.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.isPreviewThread,d=a.tab,e=a.thread,f=a.secureThreadToggle;a=a.afterSendMessage;var g=f!==void 0?f:!1,j=a!==void 0?a:i,k=b("useReStore")(),l=b("MWChatStateV2.bs").useDispatch();f=d.tabType;var m;m=f.TAG===0?e.clientThreadKey:f._0.clientThreadKey;var n=b("MWPActor.bs").useActor(),o=h.useCallback(function(a){a=d.tabType;if(a.TAG===0)return b("bs_curry")._1(l,b("MWChatStateActions.bs").lockInTab(Date.now(),d.tabId,{clientThreadKey:e.clientThreadKey,threadKey:e.threadKey,threadType:e.threadType}))},[d,e]);a=h.useCallback(function(a){if(!b("LSMessagingThreadTypeUtil.bs").isGroup(e.threadType))return b("bs_curry")._1(o)},[o,e]);f=h.useCallback(function(a){b("bs_curry")._1(j);b("bs_curry")._1(o);if(m!==void 0&&b("bs_caml").i64_neq(e.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){var c={contents:function(a){}};c.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(k.table("threads").index("clientThreadKey")),{hd:m,tl:0}),function(a,e){switch(e.TAG){case 0:case 1:break;case 2:return}a=e._0;if(b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(c.contents);return b("bs_curry")._1(l,b("MWChatStateActions.bs").updateThreadKeyDescriptor(d.tabId,a.threadKey,a.clientThreadKey))}})}if((b("LSMessagingThreadTypeUtil.bs").isSecure(e.threadType)||g)&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(e.threadType)){b("promiseDone")(b("LSTransaction.bs").run(k,function(a){var c;return(c=b("ReQL.bs")).first(c.filter(c.map(c.getKeyRange(c.fromTableAscending(k.table("participants")),{hd:e.threadKey,tl:0}),function(a){return a.contactId}),function(a){return b("bs_caml").i64_neq(a,n)})).then(function(c){if(c!==void 0)return b("LSAddMessengerContact")(c,b("LS.bs").make(a))})},"readWrite"));return}},[e,d,l,JSON.stringify(m),j,k,n]);return h.jsx(b("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:f,isPreviewThread:c,onSendEmptyMessage:a,thread:e})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.noop=i;f.make=c}),null);
__d("MWV2InThreadBanner.bs",["CometErrorBoundary.re","LSMessagingThreadTypeUtil.bs","LsThreadType.bs","MWLSInThreadBannerComponent.bs","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;if(b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)||b("bs_caml").i64_eq(a.threadType,b("LsThreadType.bs").discoverablePublicChat))return null;else return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("MWLSInThreadBannerComponent.bs").make,{})})}c=a;f.make=c}),null);
__d("MWV2ChatTab.bs",["CometErrorBoundary.re","CometTransientDialogProvider.react","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWInThreadBannerNuxReqCondWrapper.bs","MWChatConnectionStatusCard.bs","MWOpenAndSecureThreadView.bs","MWPThreadIsPage.bs","MWPThreadTheme.bs","MWPVisibleMessageContext.bs","MWSelectedThreadOptionsIdContext.bs","MWThreadKey.bs","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2EnsureThatChatTabExists.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.bs","MWV2InThreadBanner.bs","MWV2TabContainer.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_curry","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.tab;a=a.thread;var d=!b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").filePicker,a),e=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),f=h.useRef({jumpToMostRecentMessage:function(a){}});return h.jsx(b("MWPThreadTheme.bs").make,{themeFbid:a.themeFbid,children:h.jsx(b("MWPThreadIsPage.bs").make,{threadKey:a.threadKey,children:h.jsx(b("MWThreadKey.bs").make,{id:a.threadKey,children:h.jsx(b("MWSelectedThreadOptionsIdContext.bs").make,{threadId:a.threadKey,children:h.jsx(b("MWPVisibleMessageContext.bs").Provider.make,{children:h.jsx(b("CometTransientDialogProvider.react"),{children:h.jsx(b("MWV2ComposerHasContentContext.bs").make,{children:h.jsxs(b("MWV2TabContainer.bs").make,{tab:c,thread:a,children:[h.jsx(b("MWV2ChatTabHeader.bs").make,{tab:c,thread:a}),e?h.jsx(b("MAWInThreadBannerNuxReqCondWrapper.bs").make,{thread:a}):null,h.jsx(b("MWChatConnectionStatusCard.bs").make,{}),h.jsx(b("MWV2InThreadBanner.bs").make,{thread:a}),h.jsxs(b("MWV2FileDropzone.bs").make,{isMediaOnly:d,thread:a,children:[h.jsx(b("MWOpenAndSecureThreadView.bs").make,{messageListRef:f,thread:a}),h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return h.jsx(b("MWV2ErrorComposer.bs").make,{})},children:h.jsx(b("MWV2ChatTabComposer.bs").make,{afterSendMessage:function(a){return b("bs_curry")._1(f.current.jumpToMostRecentMessage)},isPreviewThread:!1,tab:c,thread:a})})]})]})})})})})})})})}i.displayName=i.name+" [from "+e.id+"]";c={make:i};function a(a){var c=a.tab;a=a.threadKeyDescriptor;var d=b("useReStore")(),e=a.clientThreadKey,f=a.threadKey;b("MWV2EnsureThatChatTabExists.bs").useHook(f,a.threadType);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:f,tl:0})},[d,JSON.stringify(f)]));var g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(e!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(d.table("threads").index("clientThreadKey")),{hd:e,tl:0});else return b("SortedAsyncIterable.bs").empty()},[d,JSON.stringify(e)]));a=a!==void 0?a:g!==void 0?g:void 0;if(a!==void 0)return h.jsx(i,{tab:c,thread:a});else return null}d=a;f.Impl=c;f.make=d}),null);
__d("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LS.re","LSClearCommunityMembersAndRange","LSIssueCommunityMemberListFetch","LSVec","MWChatComposerMentionsViewItem.react","Promise","ReQL","ReQLSuspense","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","messengerMentionsLexicalCreateNodeStrategy","react","regeneratorRuntime","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy","useCommunityMembers","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=e.useRef;function m(a,e,f){var g=c("useReStore")(),h=l(""),j=l([]),k=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("community_members").index("communitySource")).getKeyRange(a,d("I64").of_int32(8)).take(6).map(function(a){var b;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contextual_profile_v1")).getKeyRange(a.contactId,f)))==null?void 0:b.profileName;return{key:d("I64").to_string(a.contactId),label:(b=b)!=null?b:a.name,rawData:{photoURI:a.profilePictureUrl,source:"all",subtitle:a.subtitle},type:"entry"}})},[g,d("I64").to_string(a)]),m=i(function(f){return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(g.runInTransaction(function(a){return c("LSClearCommunityMembersAndRange")(d("I64").of_int32(8),c("LS.re").make(a))},"readwrite"));case 2:h.next=4;return b("regeneratorRuntime").awrap(g.runInTransaction(function(b){return c("LSIssueCommunityMemberListFetch")(a,c("LSVec").make([d("I64").of_int32(0)]),!1,!1,"","",d("I64").of_int32(8),d("I64").of_string(e),f,c("LSVec").make([]),c("LS.re").make(b))},"readwrite"));case 4:case"end":return h.stop()}},null,this)},[g,d("I64").to_string(a),e,k]),n=i(function(a){return new(b("Promise"))(function(b){a.query!==h.current&&(h.current=a.query,m(h.current)),k.length!==0&&(j.current=k),b({entries:k.length===0?j.current:k,params:a})})},[k,m]);return{bootstrap:function(){},fetchCache:void 0,fetchNetwork:n}}function n(a,b,e){var f=m(a,b,e);e=k(function(){return[{dataSource:f,matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[d("I64").to_string(a),b,f]);return c("useCometMentionsDataSourceResolverConfig")(e,!1)}function a(a){var b=a.editor,e=a.fbGroupId,f=a.folderId;a=a.threadFBID;e=n(e,a,f);a=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react")});var g=d("useCommunityMembers").useClearMemberList(8);j(function(){return function(){g()}},[g]);return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:b,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],(function(a,b,c,d,e,f,g,h,i){"use strict";b=h._("__JHASH__fM-I8ly761K__JHASH__");e=h._("__JHASH__bcTzx6eBHE9__JHASH__");f=[{decorType:"regular",handle:b.toString(),key:"silent",label:b.toString(),rawData:{icon:d("fbicon")._(i("549627"),16),subtitle:e.toString()},type:"entry"}];var j=(h={},h[b.toString()]="s",h);function a(a){var b=j[a];if(b==null){c("FBLogger")("messenger_web_product").mustfix("Unregisted messenger composer command "+a+" used. Please add the command to the mapping in MWCommandsComposerPluginCommandList");return"n"}return b}g.commands=f;g.commandMapping=j;g.commandToRangeType=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical","MWCommandsComposerPluginCommandList"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=a.handle;c=b.call(this,"/"+a,c)||this;c.__handle=a;return c}a.getType=function(){return"command"};a.clone=function(b){return new a({handle:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return i({handle:a.handle})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{handle:this.__handle,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xt0e3qv xv78j7m";a.spellcheck=!1;return a};c.getEntity=function(){return{handle:this.__handle}};c.getRangeType=function(){return d("MWCommandsComposerPluginCommandList").commandToRangeType(this.__handle)};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i;g.isMessengerCommandNode=a}),98);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){a=a.text;return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({handle:a})});b=a;g["default"]=b}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=function(){function a(){}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:a.query.length===0?d("MWCommandsComposerPluginCommandList").commands:d("MWCommandsComposerPluginCommandList").commands.filter(function(b){return(b=b.handle)==null?void 0:b.startsWith(a.query)}),params:a}};c.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();function a(a){a=a.editor;var b=c("useCometMentionsDataSourceResolverConfig")(i(function(){return[{dataSource:new j(),matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}]},[]),!0),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react")});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSAuthorityLevel.re",["LSAuthorityLevel.bs"],(function(a,b,c,d,e,f){c=(a=b("LSAuthorityLevel.bs")).optimistic;f.optimistic=c;d=a.clientPartial;f.clientPartial=d;e=a.serverPartial;f.serverPartial=e;b=a.authoritativePendingReplacement;f.authoritativePendingReplacement=b;c=a.authoritative;f.authoritative=c;d=a.clientAuthoritativeDelete;f.clientAuthoritativeDelete=d}),null);
__d("LSContactBlockedByViewerStatus.re",["LSContactBlockedByViewerStatus.bs"],(function(a,b,c,d,e,f){a=b("LSContactBlockedByViewerStatus.bs").unblocked;f.unblocked=a;c=b("LSContactBlockedByViewerStatus.bs").messageBlocked;f.messageBlocked=c;d=b("LSContactBlockedByViewerStatus.bs").fullyBlocked;f.fullyBlocked=d}),null);
__d("LSContactGender.re",["LSContactGender.bs"],(function(a,b,c,d,e,f){c=(a=b("LSContactGender.bs")).unknown;f.unknown=c;d=a.female;f.female=d;e=a.male;f.male=e;b=a.neuter;f.neuter=b}),null);
__d("LSContactIdType.re",["LSContactIdType.bs"],(function(a,b,c,d,e,f){a=b("LSContactIdType.bs").unknown;f.unknown=a;c=b("LSContactIdType.bs").fbid;f.fbid=c;d=b("LSContactIdType.bs").smsLocalId;f.smsLocalId=d}),null);
__d("LSContactType.re",["LSContactType.bs"],(function(a,b,c,d,e,f){c=(a=b("LSContactType.bs")).unknown;f.unknown=c;d=a.user;f.user=d;e=a.page;f.page=e;b=a.pagePersona;f.pagePersona=b}),null);
__d("LSContactViewerRelationship.re",["LSContactViewerRelationship.bs"],(function(a,b,c,d,e,f){c=(a=b("LSContactViewerRelationship.bs")).unknown;f.unknown=c;d=a.notContact;f.notContact=d;e=a.contactOfViewer;f.contactOfViewer=e;b=a.facebookFriend;f.facebookFriend=b;c=a.softContact;f.softContact=c}),null);
__d("LSContactWorkForeignEntityType.re",["LSContactWorkForeignEntityType.bs"],(function(a,b,c,d,e,f){c=(a=b("LSContactWorkForeignEntityType.bs")).unknown;f.unknown=c;d=a.foreign;f.foreign=d;e=a.notForeign;f.notForeign=e;b=a.notForeignLimited;f.notForeignLimited=b}),null);
__d("LsThreadType.re",["LsThreadType.bs"],(function(a,b,c,d,e,f){c=(a=b("LsThreadType.bs")).unknown;f.unknown=c;d=a.oneToOne;f.oneToOne=d;e=a.group;f.group=e;b=a.room;f.room=b;c=a.montage;f.montage=c;d=a.marketplace;f.marketplace=d;e=a.folder;f.folder=e;b=a.tincan;f.tincan=b;c=a.optimisticGroupThread;f.optimisticGroupThread=c;d=a.carrierMessagingOneToOne;f.carrierMessagingOneToOne=d;e=a.carrierMessagingGroup;f.carrierMessagingGroup=e;b=a.selfThread;f.selfThread=b;c=a.tincanDisappearing;f.tincanDisappearing=c;d=a.pageFollowUp;f.pageFollowUp=d;e=a.secureMessageOverWaOneToOne;f.secureMessageOverWaOneToOne=e;b=a.secureMessageOverWaGroup;f.secureMessageOverWaGroup=b;c=a.armadilloOneToOne;f.armadilloOneToOne=c;d=a.armadilloGroup;f.armadilloGroup=d;e=a.communityFolder;f.communityFolder=e;b=a.communityGroup;f.communityGroup=b;c=a.communityGroupUnjoined;f.communityGroupUnjoined=c;d=a.communityChannelCategory;f.communityChannelCategory=d;e=a.communityPrivateHiddenJoinedThread;f.communityPrivateHiddenJoinedThread=e;b=a.communityPrivateHiddenUnjoinedThread;f.communityPrivateHiddenUnjoinedThread=b;c=a.communityBroadcastJoinedThread;f.communityBroadcastJoinedThread=c;d=a.communityBroadcastUnjoinedThread;f.communityBroadcastUnjoinedThread=d;e=a.communityGroupInvitedUnjoined;f.communityGroupInvitedUnjoined=e;b=a.pinned;f.pinned=b;c=a.lwg;f.lwg=c;d=a.discoverablePublicChat;f.discoverablePublicChat=d;e=a.discoverablePublicChatUnjoined;f.discoverablePublicChatUnjoined=e;b=a.discoverablePublicBroadcastChat;f.discoverablePublicBroadcastChat=b;c=a.discoverablePublicBroadcastChatUnjoined;f.discoverablePublicBroadcastChatUnjoined=c}),null);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","ix","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","CometSkittleIcon.react","FBLogger","I64","LS.re","LSAuthorityLevel.re","LSContactBlockedByViewerStatus.re","LSContactGender.re","LSContactIdType.re","LSContactType.re","LSContactViewerRelationship.re","LSContactWorkForeignEntityType.re","LSThreadBitOffset.re","LSThreadCapabilityBitOffset.re","LSVerifyContactRowExists","LsThreadType.re","MWInboxInfoPanelContext.re","Promise","ReQL","ReQLSuspense","TetraButtonGroup.react","cr:4923","fbicon","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useEffect,m=e.useState;function n(a){if(a.length===0){c("FBLogger")("messenger_comet").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._("__JHASH__bWQyKZ80V0d__JHASH__",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._("__JHASH__ZU2Oj6CpDJW__JHASH__",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function o(a){var e=a.memberRequests,f=a.setWasClosed;a=k(c("MWInboxInfoPanelContext.re").context);var g=a.isExpanded,l=a.isOnMemberRequestsPageRef,m=a.pushMemberRequestsPage,o=a.setIsExpanded,p=a.setShouldNavToMemberRequests;return j.jsx("div",{className:"x1vjfegm x7m3og9 xcrg951",children:j.jsx(c("CometContextualMessage.react"),{addOnPrimary:j.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__N4aWocdoeuZ__JHASH__",[h._plural(e.length)]),onPress:function(){l.current!==!0&&(g===!0?m():(p(!0),o(!0))),f(!0)},padding:"wide",type:"secondary"}}),body:n(e),headline:h._("__JHASH__wwx2l6C4JXf__JHASH__",[h._plural(e.length,"number")]),icon:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):d("fbicon")._(i("497883"),16),size:36}),level:4,onClose:function(){f(!0)}})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var e=a.thread;a=m(!1);var f=a[0],g=a[1],h=c("useReStore")(),i=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(h.table("group_membership_approval_requests")).getKeyRange(e.threadKey).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(h.table("contacts")).getKeyRange(a.contactId));return[a,b]})},[h,e.threadKey]),n=i.length,p=c("usePrevious")(n);a=k(c("MWInboxInfoPanelContext.re").context);var q=a.isOnMemberRequestsPageRef;l(function(){q.current!==!0&&p!==null&&n>p&&g(!1)},[n,p,g,q]);l(function(){var a=i.map(function(a){return a[0].contactId});h.runInTransaction(function(d){return b("Promise").all(a.map(function(a){return c("LSVerifyContactRowExists")(a,c("LSContactIdType.re").fbid,void 0,void 0,c("LSContactType.re").user,void 0,void 0,void 0,void 0,!1,!1,c("LSContactBlockedByViewerStatus.re").unblocked,void 0,!1,c("LSAuthorityLevel.re").clientPartial,void 0,void 0,c("LSContactWorkForeignEntityType.re").unknown,c("LSContactGender.re").unknown,c("LSContactViewerRelationship.re").unknown,void 0,c("LS.re").make(d))}))},"readwrite")},[h,i]);return!f&&i.length>0?j.jsx(o,{memberRequests:i,setWasClosed:g}):null}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.thread;var b=d("I64").equal(a.threadType,c("LsThreadType.re").discoverablePublicChat),e=c("LSThreadBitOffset.re").has(c("LSThreadCapabilityBitOffset.re").memberRequest,a);return e&&b?j.jsx(p,{thread:a}):null}q.displayName=q.name+" [from "+f.id+"]";function a(a){a=a.thread;return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(q,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatNUXDialog.bs",["CometErrorBoundary.re","CometPlaceholder.react","CometRelay","LsThreadType.bs","MWPublicChatsNUXQuickPromotionContainer.entrypoint","bs_caml","bs_caml_option","bs_curry","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;var c=h.useState(function(){}),d=c[1],e=c[0],f=b("useCometRelayEntrypointContextualEnvironmentProvider")(),g=b("bs_caml").i64_eq(a.threadType,b("LsThreadType.bs").discoverablePublicChat);h.useEffect(function(){e===void 0&&g&&b("bs_curry")._1(d,function(a){return b("bs_caml_option").some(b("CometRelay").loadEntryPoint(f,b("MWPublicChatsNUXQuickPromotionContainer.entrypoint"),{}))});return function(a){if(e!==void 0)return b("bs_curry")._1(b("bs_caml_option").valFromOption(e).dispose)}},[e,f,g]);if(e!==void 0)return h.jsx(b("CometErrorBoundary.re").make,{children:h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(b("CometRelay").EntryPointContainer,{entryPointReference:b("bs_caml_option").valFromOption(e),props:{}})})});else return null}c=a;f.make=c}),null);
__d("MWMessageListProtectedMedia.bs",["fbt","CometPressable.react","MWLSThreadDisplayContext.bs","MWText.react","MWVerticalRhythm.bs","bs_caml_obj","bs_caml_option","bs_caml_splice_call","bs_curry","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6"},containerForInbox:{minWidth:"xlm99nl"},containerUncoverable:{minWidth:"xfb3i0g"},overlay:{maxWidth:"x193iq5w",":before":{content:"x1gftdam",height:"xw22vqi",position:"x1te0kx0",start:"x7r5wyf",top:"x1ehtkf2",width:"xy7dqi3",zIndex:"x1wl4osp"}},overlayBlurred:{filter:"xj2j9hd"},overlayDisabled:{pointerEvents:"x47corl"},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6"},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm"},sneezeguardTransparent:{backgroundColor:"x1cw4mn1"}},l={container:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"xhtitgo"},inner:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"xurgmgr",textAlign:"x2b8uid"}};function m(a){var c=a.state;a=a.uncoverable;a=a!==void 0?a:!0;var d;switch(c.TAG){case 0:d=b("bs_caml_option").some(j.jsxs(j.Fragment,{children:[j.jsx(b("MWText.react"),{color:"white",type:"body3",testid:void 0,children:g._("__JHASH__SmhjEO8LZM7__JHASH__")}),a?j.jsxs(j.Fragment,{children:[j.jsx(b("MWVerticalRhythm.bs").make,{height:25}),j.jsx(b("MWText.react"),{color:"white",type:"bodyLink3",testid:void 0,children:g._("__JHASH__grSMjsZRe9-__JHASH__")})]}):null]}));break;case 1:d=b("bs_caml_option").some(j.jsxs(j.Fragment,{children:[j.jsx(b("MWText.react"),{color:"white",type:"body3",testid:void 0,children:g._("__JHASH__SmhjEO8LZM7__JHASH__")}),j.jsx(b("MWVerticalRhythm.bs").make,{height:25}),j.jsx(b("MWText.react"),{color:"white",type:"bodyLink3",testid:void 0,children:g._("__JHASH__cegqh2566-V__JHASH__")})]}));break;case 2:d=void 0;break}if(d===void 0)return null;var e;switch(c.TAG){case 0:e="0";break;case 1:e="1";break;case 2:e=void 0;break}return j.jsx("div",{className:(i||(i=b("stylex")))(l.container),"aria-live":"polite","aria-relevant":"all",children:j.jsx("div",{className:i(l.inner),children:b("bs_caml_option").valFromOption(d)})},e)}m.displayName=m.name+" [from "+e.id+"]";c={make:m,styles:l};function n(a){}function a(a){var c=a.onPress,d=a.overlayDisabled,e=a.ariaLabel,f=a.children,g=a.linkProps_,h=a.testid,l=a.type_,o=a.url,p=a.xstyle;a=a.uncoverable;var q=c!==void 0?c:n;c=d!==void 0?d:!1;d=a!==void 0?a:!0;a=b("MWLSThreadDisplayContext.bs").useHook();var r=j.useMemo(function(){return p.concat([k.pressable])},[p]),s=j.useState(function(){return{_0:void 0,TAG:0}}),t=s[1],u=s[0],v=j.useRef(null);s=j.useMemo(function(){return{url:"#"}},[]);var w=j.useMemo(function(){var a;a=l.TAG===0?!0:!1;if(a)return{};else if(o!==void 0)return{backgroundImage:"url("+o+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"};else return{}},[o,l]),x;switch(u.TAG){case 0:case 1:x=!0;break;case 2:x=!1;break}var y;switch(u.TAG){case 0:case 1:y=!0;break;case 2:y=!1;break}var z;switch(u.TAG){case 1:z=!0;break;case 0:case 2:z=!1;break}var A,B;switch(u.TAG){case 0:case 1:B=!1;break;case 2:B=!0;break}if(B)A=null;else{var C;switch(u.TAG){case 1:C=!0;break;case 0:case 2:C=!1;break}A=j.jsx("div",{className:(i||(i=b("stylex")))(k.sneezeguard,C?k.sneezeguardTransparent:!1)})}a=j.jsxs("div",{className:(i||(i=b("stylex")))(k.container,b("bs_caml_obj").caml_equal(a,"Inbox")?k.containerForInbox:!1,d?k.containerUncoverable:!1),children:[j.jsx("div",{style:w}),j.jsx("div",{"aria-hidden":x,className:i(k.overlay,y?k.overlayDisabled:!1,z?k.overlayBlurred:!1),children:f}),A,j.jsx(m,{state:u,uncoverable:d})]});if(!d)return j.jsx("div",{"data-testid":void 0,className:b("bs_caml_splice_call").spliceApply(i||(i=b("stylex")),[r]),children:a});var D;switch(u.TAG){case 0:case 1:D=!1;break;case 2:D=!0;break}var E;switch(u.TAG){case 0:case 1:E=!1;break;case 2:E=!0;break}w={children:a,onPress:function(c){var a;switch(u.TAG){case 0:case 1:a=!1;break;case 2:a=!0;break}if(a)return b("bs_curry")._1(q);else return b("bs_curry")._1(t,function(a){switch(a.TAG){case 0:return{_0:void 0,TAG:1};case 1:var c=function(a){b("setTimeout")(function(a){a=v.current;if(!(a==null))return a.focus()},0)};c();return{_0:void 0,TAG:2};case 2:return a}})},overlayDisabled:c,ref:v,xstyle:function(a){return r}};f=D?e:void 0;f!==void 0&&(w["aria-label"]=b("bs_caml_option").valFromOption(f));A=E?g:s;A!==void 0&&(w.linkProps=b("bs_caml_option").valFromOption(A));h!==void 0&&(w.testid=b("bs_caml_option").valFromOption(h));return j.jsx(b("CometPressable.react"),babelHelpers["extends"]({},w))}a.displayName=a.name+" [from "+e.id+"]";d=a;f.styles=k;f.$$Text=c;f.defaultOnPress=n;f.make=d}),null);
__d("UseOpenThreadAfterJoin.bs",["useOpenThreadAfterJoin"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("useOpenThreadAfterJoin")()}f.useHook=a}),null);
__d("MWPublicChatMemberRequestsBanner.bs",["MWPublicChatMemberRequestsBanner.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWPublicChatMemberRequestsBanner.react");f.make=a}),null);/*FB_PKG_DELIM*/
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return a[3]!==f?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),[0,436],d[3],f,f,[0,0],[0,0],f,f,[0,0])):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),[0,436],d[3],f,f,[0,0],[0,0],f,f,[0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MAWThreadEvent",["MAWBackendBridge.re","MAWBridge","MAWJobDefinitions","MAWUIJob","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b="placeholderConvertSubscription";function a(a){d("MAWBridge").getBridge().setHandlers("threadEvent",{placeholderConvertSubscription:function(b){var e=b.chatJid;b=b.msgId;a===e&&c("promiseDone")(c("MAWBackendBridge.re").getProtocolMsgIdByMsgId({msgId:b}).sendAndReceive().then(function(a){if(a==null)return;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(e,a))}))}})}g.PLACEHOLDER_CONVERT_SUBSCRIPTION=b;g.setThreadEventHandler=a}),98);
__d("MAWThreadEvent.bs",["LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","MAWThreadEvent","MAWThreadId.bs","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){b("MAWThreadEvent").setThreadEventHandler(a)}function c(a){var c=b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative),d=b("useReStore")();h.useEffect(function(){b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)&&c&&b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(d,a.threadKey).then(function(a){if(a.TAG!==0)return;b("MAWThreadEvent").setThreadEventHandler(a._0)}))},[JSON.stringify(a.threadKey),JSON.stringify(a.threadType),c,d])}f.setThreadEventHandler=a;f.useHook=c}),null);
__d("MAWCreateGroupThread.bs",["fbt","LS.bs","LSIssueNewError","LSTransaction.bs","MAWBackendBridge.bs","MAWJob.bs","bs_belt_Option","bs_curry","bs_int64","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MAWJob.bs").Internal.newJobWithTimeout4("createGroup",6e4);function a(a,c,d,e,f){var i=e!==void 0?e:!1;return h.waitUntilCompleted(d,f,b("bs_belt_Option").map(c,b("bs_int64").to_string),i,{priority:"UI_ACTION"}).then(function(c){var d=c.error,e=c.value;if(d===void 0&&e!==void 0)return b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadIdByChatJid({chatJid:e.chatJid}).sendAndReceive).then(function(a){if(a==null)return b("unrecoverableViolation")("Group was not found in database","messenger_e2ee_web");else return{chatId:a,created:!0,jid:e.chatJid}});if(!i){var f=g._("__JHASH__Q8EKHlLB3en__JHASH__").toString();c=b("LSTransaction.bs").run(a,function(a){return b("LSIssueNewError")(void 0,void 0,f,f,void 0,b("LS.bs").make(a))},"readWrite");b("promiseDone")(c)}return b("unrecoverableViolation")("Unable to create group","messenger_e2ee_web")})}f.createGroup=a}),null);
__d("MAWCreateOptimisticSecureMessage.bs",["LSAuthorityLevel.bs","LSHotEmojiSize.bs","LSMessageContentType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessageSendStatus.bs","LSMessageSendStatusV2.bs","LSMessageViewFlag.bs","LSQuickReplyType.bs","LSReplyMessageAttachmentType.bs","MAWAdminMsg.bs","MAWBumpThread.bs","MAWDbMsg","MAWGating","MAWLocalizationType.bs","MWPActor.bs","MessagingAttachmentType.bs","OfflineThreadingId.bs","Promise","QPLUserFlow","ReQL.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_curry","cr:2382","qpl","useReStore"],(function(a,b,c,d,e,f){"use strict";c=b("MAWDbMsg").craftMsgId;d=b("MAWDbMsg").getInChatMsgIdFromMsgId;var g=b("MAWDbMsg").getNextOptimisticId;e={craftMsgId:c,getInChatMsgIdFromMsgId:d,getNextOptimisticId:g};function h(a,c,d,e){if(d!==void 0){var f;return b("Promise").all([(f=b("ReQL.bs")).first(f.getKeyRange(f.fromTableAscending(a.table("messages")),{hd:c,tl:{hd:d.timestampMs,tl:{hd:d.messageId,tl:0}}})).then(function(a){b("QPLUserFlow").addPoint(b("qpl")._(1056842293,"854"),"get_reply_msg_end",{instanceKey:e});return a}),f.first(f.getKeyRange(f.fromTableAscending(a.table("attachments")),{hd:c,tl:{hd:d.messageId,tl:0}})).then(function(a){b("QPLUserFlow").addPoint(b("qpl")._(1056842293,"854"),"get_reply_attachment_end",{instanceKey:e});return a})])}else return b("Promise").resolve([void 0,void 0])}function i(a,c,d){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(a.table("messages")),{hd:c,tl:0})).then(function(a){b("QPLUserFlow").addPoint(b("qpl")._(1056842293,"854"),"get_offline_threading_id_end",{instanceKey:d});if(a!==void 0)return g(a.messageId);else return b("OfflineThreadingId.bs").make()})}function a(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor();return function(a,e,f,g,j){var k=Date.now();return c.runInTransaction(function(c){return b("Promise").all([i(c,f,j),h(c,f,a,j)]).then(function(h){var i=h[1],l=i[1];i=i[0];var m=h[0];h=i!==void 0&&b("bs_caml_obj").caml_equal(i.hotEmojiSize,b("LSHotEmojiSize.bs").small)?b("LSReplyMessageAttachmentType.bs").sticker:void 0;if(l!==void 0){var n=l.attachmentType,o=l.previewUrl;n=b("bs_caml").i64_eq(n,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(n,b("MessagingAttachmentType.bs").sticker)?o:void 0}else n=void 0;return c.table("messages").add({adminMsgCtaId:void 0,adminMsgCtaTitle:void 0,adminMsgCtaType:void 0,authorityLevel:b("LSAuthorityLevel.bs").optimistic,cannotUnsendReason:void 0,displayedContentTypes:b("LSMessageContentType.bs").text,ephemeralDurationInSec:void 0,ephemeralExpirationTs:void 0,forwardScore:void 0,hasQuickReplies:!1,hotEmojiSize:g,isAdminMessage:!1,isForwarded:void 0,isUnsent:!1,localDataId:void 0,mentionIds:void 0,mentionLengths:void 0,mentionOffsets:void 0,mentionTypes:void 0,messageId:m,msUntilExpirationTs:void 0,offlineThreadingId:m,primarySortKey:b("bs_caml_int64").of_float(k),quickReplyType:b("LSQuickReplyType.bs").none,replyAttachmentExtra:void 0,replyAttachmentId:void 0,replyAttachmentType:b("MAWGating").isHotLikeEnabled()?h:void 0,replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:void 0,replyMediaPreviewHeight:l!==void 0?l.previewHeight:void 0,replyMediaPreviewWidth:l!==void 0?l.previewWidth:void 0,replyMediaUrl:n,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:l!==void 0?l.playableUrlMimeType:void 0,replyMessageText:i!==void 0?i.text:void 0,replySnippet:void 0,replySourceId:a!==void 0?a.messageId:void 0,replySourceTimestampMs:void 0,replySourceType:a!==void 0?b("LSMessageReplySourceType.bs").message:void 0,replySourceTypeV2:a!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0,replyStatus:void 0,replyToUserId:void 0,replyType:void 0,secondarySortKey:void 0,senderId:d,sendStatus:b("LSMessageSendStatus.bs").sendingToServer,sendStatusV2:b("LSMessageSendStatusV2.bs").sendingToServer,stickerId:void 0,subscriptErrorMessage:void 0,takedownState:void 0,text:e,textHasLinks:!1,threadKey:f,timestampMs:b("bs_caml_int64").of_float(k),unsentTimestampMs:void 0,viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:b("LSMessageViewFlag.bs").uncalculated}).then(function(a){b("QPLUserFlow").addPoint(b("qpl")._(1056842293,"854"),"after_create_optimistic_message",{instanceKey:j});a=b("cr:2382")==null?e:b("bs_curry")._1(b("cr:2382").unvault,e);a=g===b("LSHotEmojiSize.bs").small&&b("MAWGating").isHotLikeEnabled()&&a==="\ud83d\udc4d"?"(Y)":e;return b("MAWBumpThread.bs").threadMutation(c,f,b("bs_caml_int64").of_float(k),b("bs_caml_int64").of_float(k),b("MAWAdminMsg.bs").buildLocalizedString([a],[],b("MAWLocalizationType.bs").currentUserSendText),d)}).then(function(a){return[m,k]})})},"readwrite","ui")}}f.MAWDBMsg=e;f.$MAWVault$requireCond=b("cr:2382");f.useHook=a}),null);
__d("MAWSecureThreadNonAddressableContactBanner.bs",["cssVar","fbt","CometPressable.react","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSWhatsAppConnectStatus.bs","MDSRow.react","MDSRowItem.react","MWPActor.bs","MWText.react","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{borderTop:"xzg4506",position:"x1n2onr6",zIndex:"x1ja2u2z"}},m={button:{end:"x1923su1",position:"x10l6tqk",top:"xfr5jun",zIndex:"x1vjfegm"}},n="#050505";function o(a){a=a.onPress;return k.jsx("div",{className:(j||(j=b("stylex")))(m.button),children:k.jsx(b("CometPressable.react"),{"aria-label":h._("__JHASH__h_m7dC6Kxvx__JHASH__"),onPress:a,overlayRadius:"50%",children:k.jsxs("svg",{height:"18px",viewBox:"0 0 24 24",width:"18px",children:[k.jsx("line",{stroke:n,strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"6",y2:"18"}),k.jsx("line",{stroke:n,strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"18",y2:"6"})]})})})}o.displayName=o.name+" [from "+e.id+"]";c={color:n,make:o,styles:m};function p(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){var e;return(e=b("ReQL.bs")).map(e.filter(e.mergeJoin(e.getKeyRange(e.fromTableAscending(c.table("participants")),{hd:a,tl:0}),e.fromTableAscending(c.table("contacts"))),function(a){a=a[1];if(b("bs_caml").i64_eq(a.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappNotAddressable)&&b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritativePendingReplacement))return b("bs_caml").i64_neq(a.id,d);else return!1}),function(a){return a[1]})},[c,JSON.stringify(a),JSON.stringify(d)]));return e!==void 0}function a(a){var c=a.setHideComposerEditor;a=a.thread;var d=p(a.threadKey),e=k.useState(function(){return!1}),f=e[1],g=b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType),i=g?!e[0]:!0;b("bs_curry")._1(c,function(a){if(d&&i)return!g;else return!1});if(d&&i)return k.jsxs("div",{className:(j||(j=b("stylex")))(l.root),children:[g?k.jsx(o,{onPress:function(a){return b("bs_curry")._1(f,function(a){return!0})}}):null,k.jsx(b("MDSRow.react"),{align:"center",expanding:!0,paddingVertical:12,spacingVertical:0,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MWText.react"),{color:"primary",type:"headlineEmphasized4",children:b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)?h._("__JHASH__afoYhgsgO_b__JHASH__"):h._("__JHASH__JONQiuRa7dL__JHASH__")})})}),k.jsx(b("MDSRow.react"),{align:"center",expanding:!0,paddingVertical:4,spacingVertical:4,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"body4",children:b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)?h._("__JHASH__RFXRyWLgW4r__JHASH__"):h._("__JHASH__XanBN1dqc2Q__JHASH__")})})})]});else return null}d=a;f.styles=l;f.CloseButton=c;f.make=d}),null);
__d("MAWSecureTypingState.bs",["LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","MAWBackendBridge.bs","MAWGating","MAWJids","MAWThreadId.bs","MAWUIThreadCache","MWPActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense","WAChatState","bs_belt_Option","bs_caml","bs_curry","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c,d,e){if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)){return(d=b("ReQL.bs")).first(d.map(d.filter(d.getKeyRange(d.fromTableAscending(a.table("participants")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(c){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:c.contactId,tl:0})),!1,function(a){return b("bs_caml").i64_eq(a.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)})})).then(function(a){return b("bs_belt_Option").getWithDefault(a,!1)})}else return b("Promise").resolve(!0)}var j=[];function a(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=b("bs_int64").to_string(a.threadKey);return h.useCallback(function(f){if(b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)&&b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)){b("MAWGating").isGroupSKDMEnabled()&&b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)&&!j.includes(e)&&b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(c,a.threadKey).then(function(a){if(a.TAG===0)return b("MAWUIThreadCache").getThreadJidByChatId({threadId:a._0}).then(function(a){if(!(a==null)){b("bs_curry")._1(b("MAWBackendBridge.bs").preEstablishSession({groupJid:b("MAWJids").toGroupJid(a)}).fireAndForget);j.push(e);return}});else return b("Promise").resolve()}));b("promiseDone")(i(c,a.threadKey,a.threadType,d).then(function(d){if(d)return b("MAWThreadId.bs").ofThreadKey(c,a.threadKey).then(function(a){if(a.TAG===0)return b("bs_curry")._1(b("MAWBackendBridge.bs").sendChatStateFromComposer({state:f?b("WAChatState").TYPING:b("WAChatState").IDLE,threadId:a._0}).fireAndForget)});else return b("Promise").resolve()}));return}},[c,JSON.stringify(a.authorityLevel),JSON.stringify(a.threadKey),JSON.stringify(a.threadType),d])}f.useOnTypingStateChanged=a}),null);
__d("MAWCreateSecureThreadIfNecessary.bs",["FBID.bs","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","MAWCreateGroupThread.bs","MAWCreateOneToOneThread.bs","MAWThreadId.bs","MAWUIThreadCache","bs_caml","bs_caml_array","bs_caml_format","bs_caml_obj","bs_int64","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return{chatId:a,created:c,jid:b}}function c(a,c,d,e){var f=b("bs_caml").i64_eq(c.authorityLevel,b("LSAuthorityLevel.bs").optimistic),g=b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType),h=b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType),i=d.filter(function(a){return b("bs_caml_obj").caml_notequal(a,b("FBID.bs").ofStringExn(b("bs_int64").to_string(e)))});if(f&&g&&i.length===1)return b("MAWCreateOneToOneThread.bs").call(a,b("bs_caml_format").caml_int64_of_string(b("bs_caml_array").get(i,0)),b("bs_int64").to_string(c.threadKey));else if(f&&h&&i.length>1)return b("MAWCreateGroupThread.bs").createGroup(a,c.threadKey,void 0,!1,d);else return b("MAWThreadId.bs").ofThreadKey(a,c.threadKey).then(function(a){if(a.TAG!==0)return b("unrecoverableViolation")("Cannot convert threadKey to ChatID in createSecureThread","messenger_e2ee_web");var c=a._0;return b("MAWUIThreadCache").getThreadJidByChatId({threadId:c}).then(function(a){if(a==null)return b("unrecoverableViolation")("Cannot find existing thread jid by chatId in createSecureThread","messenger_e2ee_web");else return{chatId:c,created:!1,jid:a}})})}f.castToGetOrCreatedResult=a;f.call=c}),null);
__d("MAWOptimisticUpdateContactRelationship.bs",["LSMessagingThreadTypeUtil.bs","LSTransaction.bs","ReQL.bs","bs_caml","bs_caml_obj","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)){b("promiseDone")(b("LSTransaction.bs").run(c,function(e){var f;return(f=b("ReQL.bs")).first(f.filter(f.mergeJoin(f.getKeyRange(f.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),f.fromTableAscending(c.table("contacts"))),function(a){return b("bs_caml").i64_neq(a[1].id,d)})).then(function(a){if(a===void 0)return;a=a[1];var c=b("bs_caml_obj").caml_obj_dup(a);return e.table("contacts").upsert({hd:a.id,tl:0},(c.contactViewerRelationship=[0,2],c))})},"readWrite"));return}}f.call=a}),null);
__d("MAWSendFileMsgIfNecessary.bs",["MAWSecureComposerUtils.bs","Promise","QPLUserFlow","bs_belt_Option","promiseDone","qpl"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n){var o=e!==void 0?[[{_0:e.file,_1:{durations:e.duration|0,isPtt:!0},TAG:2},""]]:[];e=g!==void 0?window.fetch(g,{cache:"no-cache"}).then(function(a){return a.blob()}).then(function(a){var c=b("bs_belt_Option").isSome(h);return b("MAWSecureComposerUtils.bs").imagePreprocess(new File([a],"stickerFromPicker",{type:a.type}),c)}).then(function(a){return[[a,""]]}):b("Promise").resolve([]);b("promiseDone")(e.then(function(e){e=f.concat(o,e);e.forEach(function(e){return b("MAWSecureComposerUtils.bs").sendAttachment(a,c,i.threadKey,i.threadType,j,e[0],k,e[1],l,m,!1,d)})}),function(a){if(n!==void 0){b("QPLUserFlow").endSuccess(b("qpl")._(1056842293,"854"),{instanceKey:n});return}})}f.call=a}),null);
__d("MAWSendMessageV2.bs",["CometHeroLogging","LSHotEmojiSize.bs","MAWJob.bs","MWChatInteraction.bs","MWLSThreadDisplayContext.bs","MWPActor.bs","MWPReplyContext.bs","MessagingBackend.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","QPLUserFlow","SendEventType.bs","WADualSendMsgUtils","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","requireDeferred","useCometInteractionTracing","useReStore"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("MWLogSend.bs").__setRef("MAWSendMessageV2.bs");function a(a){return b("WADualSendMsgUtils").isDualSendJid(a)}function c(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=b("MWLSThreadDisplayContext.bs").useHook(),f=b("useCometInteractionTracing")(b("qpl")._(30605384,"573"),"fast","INTERACTION");a=b("MWPReplyContext.bs").useContext();var h=a.reply;return function(a,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){return f(function(f){var i=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(f.getTraceId),null);b("MWChatInteraction.bs").set(o,i);e!==void 0&&(e==="Inbox"?f.addMetadata("entrypoint","inbox"):e==="ChatTab"&&f.addMetadata("entrypoint","chat"));i=b("bs_caml_obj").caml_equal(q,b("LSHotEmojiSize.bs").small)?1:b("bs_caml_obj").caml_equal(q,b("LSHotEmojiSize.bs").medium)?2:b("bs_caml_obj").caml_equal(q,b("LSHotEmojiSize.bs").large)?3:void 0;f.addMetadata("isSecure","true");b("promiseDone")(b("MAWJob.bs").sendMsg.waitUntilPersisted(k,{content:l,duration:void 0,ephemeralSetting:v,height:void 0,isFirstMsg:r,isForwarded:!1,isPtt:void 0,jpegThumbnail:void 0,jpegThumbnailHeight:void 0,jpegThumbnailWidth:void 0,openMessageOtid:n,openMessageParticipantCount:s,optimisticMsg:{msgId:o,ts:p},participantCount:t,quote:u,specialTextSize:i,width:void 0},void 0,{priority:"UI_ACTION"}),function(e){w!==void 0&&b("QPLUserFlow").endSuccess(b("qpl")._(1056842293,"854"),{instanceKey:w}),g.onReady(function(e){var f=b("bs_int64").to_string(a),g=q!==void 0?b("MessagingLoggingUtilsAttachmentTypeInt.bs").like:b("MessagingLoggingUtilsAttachmentTypeInt.bs").text,i=b("WADualSendMsgUtils").isDualSendJid(k)?["dst:8"]:void 0;return b("bs_curry").app(e.log,[c,a,j,o,[],d,m,g,h!==void 0,b("SendEventType.bs").sendAttempt,b("MessagingBackend.bs").whatsappInfra,b("bs_caml_option").some(f),b("bs_caml_option").some(b("bs_belt_Option").map(v,function(a){return a.ephemeralExpirationInSec})),b("bs_caml_option").some(i),void 0])})})})}}f.isDualSendJid=a;f.$MWLogSend$Deferred=g;f.use=c}),null);
__d("MAWSendSecureMessageV2.bs",["FBID.bs","LS.bs","LSHotEmojiSize.bs","LSMessageSendStatus.bs","LSMessageSendStatusV2.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticUnarchiveThread","LSTransaction.bs","LSUpdateDraftMessage","LsSystemFolder.bs","MAWBackendBridge.bs","MAWCreateOptimisticSecureMessage.bs","MAWCreateSecureThreadIfNecessary.bs","MAWEBSwitch","MAWGetEphemeralSettings.bs","MAWMediaManagerUtils.bs","MAWOptimisticUpdateContactRelationship.bs","MAWSendFileMsgIfNecessary.bs","MAWSendMessageV2.bs","MAWStateContext.react","MAWThreadCutover.bs","MAWUpdateLSThreadCapabilities.bs","MAWVault.bs","MWLSDefaultThreadSource.bs","MWMediaManager.bs","MWPActor.bs","MWPReplyContext.bs","Promise","Promise.bs","QPLUserFlow","ReQL.bs","ReQLSubscription.bs","ReQLTable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","bs_js_math","promiseDone","qpl","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("MAWStateContext.react").useDispatchOptimisticSendMessage;function j(a,c){if(b("bs_caml").i64_eq(a.parentThreadKey,b("LsSystemFolder.bs").archived)){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticUnarchiveThread")(a.threadKey,b("LS.bs").make(c))},"readWrite"));return}}function k(a,c){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("MAWUpdateLSThreadCapabilities.bs").updateNonMessageRequestThreadTxn(c,a)},"readWrite"));return}}function l(a,c,d){return b("LSTransaction.bs").run(c,function(c){return b("LSUpdateDraftMessage")(a.threadKey,"",b("LS.bs").make(c))},"readWrite").then(function(a){b("bs_curry")._1(d,"clear_draft_message_end");return b("Promise").resolve(a)})}function m(a,c,d,e){return b("LSTransaction.bs").run(a,function(a){return b("ReQLTable.bs").update(a.table("messages"),{hd:d,tl:{hd:e,tl:{hd:c,tl:0}}},function(a){a=b("bs_belt_Option").getExn(a);a=b("bs_caml_obj").caml_obj_dup(a);a.sendStatusV2=b("LSMessageSendStatusV2.bs").nonRetriableError;a.sendStatus=b("LSMessageSendStatus.bs").nonRetriableError;return a})},"readWrite")}function a(a,c,d){var e=b("useReStore")(),f=b("MWPActor.bs").useActor(),g=i(),n=b("MAWCreateOptimisticSecureMessage.bs").useHook(),o=b("MAWSendMessageV2.bs").use(),p=b("MWPReplyContext.bs").useContext(),q=p.clearReply,r=p.reply,s=b("bs_curry")._1(b("MWLSDefaultThreadSource.bs").useHook(),a.threadKey);p=b("MWMediaManager.bs").useMediaManager(a);var t=p.mediaStaging,u=b("MAWThreadCutover.bs").useIsCutoverSecureThread(a.threadKey),v=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("participants")),{hd:a.threadKey,tl:0})},[a,e])).map(function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.contactId))});return function(h,i,w,x,y,z,A,B,C,D,E){var F=(Date.now()|0)+b("bs_js_math").random_int(1e4,2e4)|0,G=Date.now(),H=t.reduce(function(a,c){var d=b("MAWMediaManagerUtils.bs").attachmentsMap.get(c.offlineAttachmentId);d==null||a.push([d,c.offlineAttachmentId]);return a},[]);i=H.length!==0||B!==void 0?!0:z!==void 0;var I=h!==void 0||i?void 0:b("LSHotEmojiSize.bs").small,J=h!==void 0?h.trim():i?"":"\ud83d\udc4d";x=i||I!==void 0?"media":"message";b("QPLUserFlow").start(b("qpl")._(1056842293,"854"),{annotations:{bool:{isCutover:u,isEBEnabled:b("MAWEBSwitch").isEnabled(),v2:!0},string:{msgType:x}},instanceKey:F});var K=function(a){b("QPLUserFlow").addPoint(b("qpl")._(1056842293,"854"),a,{instanceKey:F})};b("bs_curry")._2(q,a.threadKey,!1);b("bs_curry")._1(d);y=J!==""?b("bs_curry")._5(n,r,b("MAWVault.bs").vault(J),a.threadKey,I,F).then(function(a){return[a[0],a[1]]}):b("Promise").resolve([void 0,void 0]);var L=r!==void 0?b("bs_curry")._1(b("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:r.messageId}).sendAndReceive).then(function(a){K("get_quote_end");if(a==null)return;else return b("bs_caml_option").some(a)}):b("Promise").resolve(),M=b("MAWCreateSecureThreadIfNecessary.bs").call(e,a,v,f).then(function(a){K("create_thread_if_necessary_end");return b("MAWGetEphemeralSettings.bs").use(a.jid).then(function(b){K("get_ephemeral_setting_end");return[a,b]})});K("before_create_optimistic_message");b("promiseDone")(l(a,e,K));b("promiseDone")(y.then(function(d){var h=d[1],i=d[0];return b("Promise.bs").$$catch(b("Promise").all([M,L]).then(function(d){var c=d[0],e=c[0];i!==void 0&&g(i,G);i!==void 0&&h!==void 0&&J!==""&&b("bs_curry").app(o,[a.threadKey,e.chatId,a.threadType,e.jid,J,s,void 0,i,h,I,e.created,void 0,void 0,d[1],c[1],F,void 0]);return e}).then(function(d){b("MAWOptimisticUpdateContactRelationship.bs").call(a,e,f);k(a,e);j(a,e);b("MAWSendFileMsgIfNecessary.bs").call(e,d.chatId,d.created,B,H,z,w,a,f,v,s,r,F);return b("bs_curry")._1(c)}),function(c){i!==void 0&&h!==void 0&&m(e,i,a.threadKey,b("bs_caml_int64").of_float(h));K("send_message_to_backend_failed");throw c})}),function(a){},function(a){b("QPLUserFlow").endFailure(b("qpl")._(1056842293,"854"),"failure",{instanceKey:F}),b("unrecoverableViolation")("Encountered failure during Armadillo Message Send (UI)","messenger_e2ee_web",{error:b("bs_caml_option").some(a)})})}}f.useDispatchOptimisticSendMessage=i;f.useOnSendSecureMessage=a}),null);
__d("MAWSecureComposer.bs",["fbt","MAWSecureComposerUtils.bs","MAWSecureThreadNonAddressableContactBanner.bs","MAWSecureTypingState.bs","MAWSendSecureMessageV2.bs","MWMediaManager.bs","MWPComposerEditor.bs","MWPReplyContext.bs","MWV2ComposerReplyView.bs","MWV2ComposerView.bs","MWV2FileDropzone.bs","bs_curry","react","useCometAlertDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){}function a(a){var c=a.isPreviewThread,d=a.thread,e=a.afterSendMessage;a=a.onSendEmptyMessage;e=e!==void 0?e:j;a=a!==void 0?a:j;var f=i.useContext(b("MWPReplyContext.bs").context);f=f.reply;var h=b("useCometAlertDialog")(),k=i.useCallback(function(a){return b("bs_curry")._2(h,{body:g._("__JHASH__wkFhajA-pqD__JHASH__"),title:g._("__JHASH__mxyeVcJIjj3__JHASH__")},function(a){})},[]);k=b("MWMediaManager.bs").useMediaManager(d,k);var l=k.mediaStaging,m=k.handleFileRemove,n=k.handleFileSelect,o=b("MAWSendSecureMessageV2.bs").useOnSendSecureMessage(d,e,k.resetAttachments);e=b("MAWSecureTypingState.bs").useOnTypingStateChanged(d);k=i.useContext(b("MWV2FileDropzone.bs").context);i.useImperativeHandle(k,function(){return b("bs_curry").__1(n)},[n]);k=i.useState(function(){return!1});return i.jsxs("div",{"data-testid":void 0,children:[f!==void 0?i.jsx(b("MWV2ComposerReplyView.bs").make,{messageId:f.messageId,messageTimestamp:f.timestampMs,thread:d}):null,i.jsx(b("MAWSecureThreadNonAddressableContactBanner.bs").make,{setHideComposerEditor:k[1],thread:d}),k[0]?null:i.jsx(b("MWPComposerEditor.bs").make,{isPreviewThread:c,mediaStaging:l,onSendEmptyMessage:a,onSendMessage:o,onTypingStateChanged:e,policyProduct:"messaging_lightswitch",surface:"mwp_maw_secure_composer",thread:d,children:function(a,c,e,f,g,h){return i.jsx(b("MWV2ComposerView.bs").make,{editor:a,editorElementRef:g,hasStuffToSend:f,mediaStaging:l,onAttachmentRemoved:m,onAttachmentsAdded:n,onSendMessage:function(a,c,d,e,f,g,h,i,j,k,l){return b("bs_curry").app(o,[a,c,d,e,f,g,h,i,j,k,void 0])},policyProduct:e,sendMessage:h,supportedFileTypes:b("MAWSecureComposerUtils.bs").supportedFileTypes,surface:c,thread:d})}})]})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MAWSecureComposer.re",["MAWSecureComposer.bs"],(function(a,b,c,d,e,f){a=b("MAWSecureComposer.bs").make;f.make=a}),null);
__d("MWEncryptedBackupsIssueRangeQueryDeferred.bs",["bs_curry","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=b("requireDeferred")("MWEncryptedBackupsIssueRangeQuery.bs").__setRef("MWEncryptedBackupsIssueRangeQueryDeferred.bs"),i=g||(g=b("react"));function a(a){var c=b("useReStore")();return i.useCallback(function(a){return function(d,e,f){h.onReady(function(g){return b("bs_curry")._5(g.runQuery,c,a,d,e,f)})}},[c])}f.$MWEncryptedBackupsIssueRangeQuery$Deferred=h;f.useHook=a}),null);
__d("MAWForwardMessage.bs",["MAWBackendBridge.bs","MAWCreateOneToOneThread.bs","MAWGetEphemeralSettings.bs","MAWJob.bs","MAWThreadId.bs","MAWUIThreadCache","MWThread_DEPRECATED.bs","Promise","bs_curry","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("MAWThreadId.bs").isSecureThreadId(a,c).then(function(d){if(d)return b("MAWThreadId.bs").ofThreadKey(a,c).then(function(a){if(a.TAG===0)return{chatId:a._0,created:!1};else return b("unrecoverableViolation")("If you see this error, something is broken in MAWThreadId.res","messenger_web_product")});else return b("MAWCreateOneToOneThread.bs").call(a,c).then(function(a){return{chatId:a.chatId,created:a.created}})})}function a(a,c,d){c=b("MWThread_DEPRECATED.bs").toThreadKey(c);a=g(a,c).then(function(a){return b("Promise").all([b("MAWUIThreadCache").getThreadJidByChatId({threadId:a.chatId}),b("bs_curry")._1(b("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:d}).sendAndReceive)]).then(function(c){var d=c[1],e=c[0];if(!(e==null)&&!(d==null))return b("MAWGetEphemeralSettings.bs").use(e).then(function(c){return b("MAWJob.bs").forwardMsg.waitUntilPersisted(e,d,c,void 0,a.created,{priority:"UI_ACTION"})});else return b("Promise").resolve()})});b("promiseDone")(a)}f.maybeCreateNewThreadStep=g;f.useForwardMessage=a}),null);
__d("MAWForwardMessageFromSecureThread.bs",["LS.bs","LSDict","LSHotEmojiSize.bs","LSInsertNewMediaSend","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendMessage","LSTransaction.bs","LSVec","MAWBackendBridge.bs","MWPComposerMediaUploadUtil.bs","MWPOpenComposerUtils.bs","MWThread_DEPRECATED.bs","MessagingAttachmentType.bs","OfflineThreadingId.bs","Promise","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","cr:2382","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){return{action_url:void 0,attachment_fbid:c,attachment_index:b("bs_caml_int64").zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:c,original_file_hash:void 0,playable_duration_ms:a.playableDurationMs,playable_url:URL.createObjectURL(d),playable_url_mime_type:d.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}}function h(a,c,d,e,f,g,h,i){var j=b("LS.bs").make(i);return b("LSLocalApplyOptimisticMessageWithAttachments")(h,f,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,g,b("LSVec").make([b("LSDict").fromObject(c)]),void 0,j).then(function(a){var c=a[0];return i.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!1,messageId:void 0,offlineThreadingId:c,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:b("bs_caml_format").caml_int64_of_string(c),threadAttributionSource:b("LSMessagingThreadAttributionType.bs").unknown,threadKey:f}).then(function(a){return b("Promise").resolve(c)})}).then(function(a){var d=c.attachment_fbid;return b("LSInsertNewMediaSend")(d,a,b("bs_caml_int64").zero,c.attachment_type,!1,!1,!1,!1,j).then(function(c){return b("Promise").resolve([a,d])})}).then(function(e){var f=e[1],g=e[0];e=function(c,d){b("LSTransaction.bs").run(a,function(a){var c=b("LS.bs").make(a);return b("LSMarkSubJobCompletedV2")(f,b("bs_caml_int64").of_float(d),void 0,void 0,void 0,c).then(function(a){return b("MWPOpenComposerUtils.bs").resumeSendJob(c,g)})},"readWrite")};b("MWPComposerMediaUploadUtil.bs").startUpload(void 0,e,void 0,b("bs_caml").i64_eq(c.attachment_type,b("MessagingAttachmentType.bs").audio),[d],[f]);return b("Promise").resolve()})}function a(a,c,d,e,f,i,j){var k=b("LSMessagingThreadTypeUtil.bs").ofThreadId(c),l=b("MWThread_DEPRECATED.bs").toThreadKey(c);d=b("LSTransaction.bs").run(a,function(c){var d=b("LS.bs").make(c);if(i!==void 0){var m=i.attachmentType;if(b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").audio))return b("bs_curry")._1(b("MAWBackendBridge.bs").getBlobDataUrlByMediaId({mediaId:b("bs_caml_format").caml_int32_of_string(i.attachmentFbid)}).sendAndReceive).then(function(d){if(d===void 0)return b("Promise").resolve();d=b("bs_caml_option").valFromOption(d);d=new File([d],"mediaForwardedFromSecureThread",{type:d.type});var e=b("OfflineThreadingId.bs").make();e=b("MWPComposerMediaUploadUtil.bs").getAudioAttachment(e,d,b("bs_caml_int64").to_int32(b("bs_belt_Option").getExn(i.playableDurationMs))/1e3|0);return h(a,e,d,k,l,f,j,c)});else if(b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").video)||b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").animatedImage))return b("bs_curry")._1(b("MAWBackendBridge.bs").getBlobDataUrlByMediaId({mediaId:b("bs_caml_format").caml_int32_of_string(i.attachmentFbid)}).sendAndReceive).then(function(d){if(d===void 0)return b("Promise").resolve();d=b("bs_caml_option").valFromOption(d);d=new File([d],"mediaForwardedFromSecureThread",{type:d.type});var e=b("OfflineThreadingId.bs").make();e=g(i,e,d);return h(a,e,d,k,l,f,j,c)});else return b("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product")}m=e.text;if(m===void 0)return b("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product");m=b("cr:2382")==null?m:b("bs_curry")._1(b("cr:2382").unvault,m);if(m==="\ud83d\udc4d"&&b("bs_caml_obj").caml_equal(e.hotEmojiSize,b("LSHotEmojiSize.bs").small))return b("LSOptimisticSendMessage")(j,l,k,b("LSMailboxType.bs").messenger,void 0,void 0,void 0,b("bs_caml_format").caml_int64_of_string("369239263222822"),void 0,void 0,void 0,b("LSMessagingThreadAttributionType.bs").unknown,void 0,void 0,void 0,void 0,void 0,f,void 0,void 0,!1,!1,void 0,void 0,void 0,void 0,d).then(function(a){});else return b("LSOptimisticSendMessage")(j,l,k,b("LSMailboxType.bs").messenger,m,void 0,void 0,void 0,void 0,void 0,void 0,b("LSMessagingThreadAttributionType.bs").unknown,void 0,void 0,void 0,void 0,void 0,f,void 0,void 0,!1,!1,void 0,void 0,void 0,void 0,d).then(function(a){})},"readWrite");b("promiseDone")(d)}f.$MAWVault$requireCond=b("cr:2382");f.useForwardMessage=a}),null);
__d("MAWFowardMessageFromOpenThread.bs",["MAWForwardMessage.bs","MAWGetEphemeralSettings.bs","MAWImagePreProcess","MAWJob.bs","MAWSecureComposerUtils.bs","MAWUIThreadCache","MAWVideoUtils","MWThread_DEPRECATED.bs","MessagingAttachmentType.bs","Promise","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("Promise").all([b("MAWImagePreProcess").getImageSpec(a),b("Promise").resolve(a),c.arrayBuffer(),b("MAWImagePreProcess").getImageSpec(c)]).then(function(a){var c=a[3];return b("Promise").resolve({_0:a[1],_1:{imageSpec:a[0],thumbnailUrlAndSpec:{duration:void 0,height:c.height,jpegThumbnail:a[2],width:c.width}},TAG:0})})}function h(a){return b("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a).then(function(c){return b("Promise").resolve({_0:a,_1:{thumbnailUrlAndSpec:c},TAG:1})})}function i(a){var c=a.attachmentType;if(b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").video)||b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").animatedImage)){var d=a.playableUrl,e=a.previewUrl;if(d===void 0)return b("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product");if(e!==void 0){var f=b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").animatedImage),i=f?e+"&":d;e=f?e+"&":e;return b("Promise").all([window.fetch(i).then(function(a){return a.blob()}),window.fetch(e).then(function(a){return a.blob()})]).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType),e=b("bs_belt_Option").getExn(a.previewUrlMimeType);d=new File([c[0]],"mediaForwardedFromOpenThread",{type:f?e:d});c=new File([c[1]],"previewForwardedFromOpenThread",{type:e});e=a.attachmentType;if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").image))return g(d,c);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").video))return h(d);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").animatedImage))return g(d,c);else return b("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product")})}var j=b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").animatedImage);i=j?d+"&":d;return window.fetch(i).then(function(a){return a.blob()}).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType);j&&d==="video/mp4"&&b("unrecoverableViolation")("If you see this error, there is only mp4 url for gif","messenger_web_product");c=new File([c],"mediaForwardedFromOpenThread",{type:d});d=a.attachmentType;if(b("bs_caml").i64_eq(d,b("MessagingAttachmentType.bs").image))return b("MAWSecureComposerUtils.bs").imagePreprocess(c,!1);else if(b("bs_caml").i64_eq(d,b("MessagingAttachmentType.bs").video))return h(c);else if(b("bs_caml").i64_eq(d,b("MessagingAttachmentType.bs").animatedImage))return b("Promise").all([b("MAWImagePreProcess").getJpegThumbnailInfo(c,400),b("MAWImagePreProcess").getImageSpec(c),b("Promise").resolve(c)]).then(function(a){return b("Promise").resolve({_0:a[2],_1:{imageSpec:a[1],thumbnailUrlAndSpec:a[0]},TAG:0})});else return b("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product")})}else if(b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").audio)){e=a.playableUrl;if(e!==void 0)return window.fetch(e+"&").then(function(a){return a.blob()}).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType),e=b("bs_belt_Option").getExn(a.playableDurationMs);c=new File([c],"mediaForwardedFromOpenThread",{type:d});return b("Promise").resolve({_0:c,_1:{durations:b("bs_caml_int64").to_int32(e)/1e3|0,isPtt:!0},TAG:2})});else return b("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product")}else if(b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").sticker)){d=a.playableUrl;i=a.previewUrl;if(d!==void 0)if(i!==void 0)return b("Promise").all([window.fetch(d).then(function(a){return a.blob()}),window.fetch(i).then(function(a){return a.blob()})]).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType),e=b("bs_belt_Option").getExn(a.previewUrlMimeType);d=new File([c[0]],"mediaForwardedFromOpenThread",{type:d});c=new File([c[1]],"previewForwardedFromOpenThread",{type:e});return g(d,c)});else return window.fetch(d).then(function(a){return a.blob()}).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType);c=new File([c],"mediaForwardedFromOpenThread",{type:d});return g(c,c)});else if(i!==void 0)return window.fetch(i).then(function(a){return a.blob()}).then(function(c){var d=b("bs_belt_Option").getExn(a.previewUrlMimeType);return b("MAWSecureComposerUtils.bs").imagePreprocess(new File([c],"previewForwardedFromOpenThread",{type:d}),!0)});else return b("unrecoverableViolation")("If you see this error, there is no url for this sticker","messenger_web_product")}else return b("unrecoverableViolation")("We do not support forwarding other media types","messenger_web_product")}function a(a,c,d,e,f,g){d=b("MWThread_DEPRECATED.bs").toThreadKey(c);b("promiseDone")(b("MAWForwardMessage.bs").maybeCreateNewThreadStep(a,d).then(function(a){return b("MAWUIThreadCache").getThreadJidByChatId({threadId:a.chatId}).then(function(c){if(c==null)return b("Promise").resolve();else{var d=b("MAWGetEphemeralSettings.bs").use(c),h=a.created;return d.then(function(a){if(g!==void 0)if(g.attachmentFbid==="369239263222822"||g.attachmentFbid==="369239343222814"||g.attachmentFbid==="369239383222810")return b("MAWJob.bs").sendMsg.waitUntilPersisted(c,{content:"\ud83d\udc4d",duration:void 0,ephemeralSetting:a,height:void 0,isFirstMsg:h,isForwarded:f,isPtt:void 0,jpegThumbnail:void 0,jpegThumbnailHeight:void 0,jpegThumbnailWidth:void 0,openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:void 0,participantCount:void 0,quote:void 0,specialTextSize:1,width:void 0},void 0,{priority:"UI_ACTION"});else return i(g).then(function(d){switch(d.TAG){case 0:var e=d._1;b("MAWJob.bs").sendMediaMsg.fireAndForget(c,d._0,b("bs_caml_option").some(e.thumbnailUrlAndSpec.jpegThumbnail),e.imageSpec.width,e.imageSpec.height,e.thumbnailUrlAndSpec.width,e.thumbnailUrlAndSpec.height,void 0,void 0,a,void 0,void 0,f,h,void 0,{priority:"UI_ACTION"});break;case 1:e=d._1;b("MAWJob.bs").sendMediaMsg.fireAndForget(c,d._0,b("bs_caml_option").some(e.thumbnailUrlAndSpec.jpegThumbnail),e.thumbnailUrlAndSpec.width,e.thumbnailUrlAndSpec.height,e.thumbnailUrlAndSpec.width,e.thumbnailUrlAndSpec.height,e.thumbnailUrlAndSpec.duration,void 0,a,void 0,void 0,f,h,void 0,{priority:"UI_ACTION"});break;case 2:e=d._1;b("MAWJob.bs").sendMediaMsg.fireAndForget(c,d._0,void 0,void 0,void 0,void 0,void 0,e.durations,e.isPtt,a,void 0,void 0,f,h,void 0,{priority:"UI_ACTION"});break}return b("Promise").resolve()});var d=e.text;if(d!==void 0)return b("MAWJob.bs").sendMsg.waitUntilPersisted(c,{content:e.text,duration:void 0,ephemeralSetting:a,height:void 0,isFirstMsg:h,isForwarded:f,isPtt:void 0,jpegThumbnail:void 0,jpegThumbnailHeight:void 0,jpegThumbnailWidth:void 0,openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:void 0,participantCount:void 0,quote:void 0,specialTextSize:void 0,width:void 0},void 0,{priority:"UI_ACTION"});else return b("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product")})}})}))}f.useForwardMessage=a}),null);
__d("MAWEphemeralSettingsLazyDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResourceForInteraction","MAWChatJid.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.renderer;a=a.threadKey;a=b("MAWChatJid.bs").useThreadJidCallback(a);var d=h.useRef(null);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{getThreadJid:a},dialogResource:b("JSResourceForInteraction")("MAWEphemeralSettingsDialog.react",{"class":"fluid",name:"MAWEphemeralSettingsDialog"}).__setRef("MAWEphemeralSettingsLazyDialogTrigger.bs"),children:function(a){return b("bs_curry")._2(c,a,d)}})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWMessageElementRefList.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Map(),d=new Map(),e={contents:void 0};return{get:function(a,d){var f=c.get(a);if(f==null){e.contents=[a,d];return}else return b("bs_curry")._1(d,f)},set:function(a){var f=d.get(a);if(!(f==null))return f;f=function(d){if(d==null){c["delete"](a);return}c.set(a,d);var f=e.contents;if(f!==void 0&&f[0]===a){b("bs_curry")._1(f[1],d);e.contents=void 0;return}};d.set(a,f);return f}}}function c(a){switch(a.TAG){case 0:var b=a._0.messageID;switch(b.TAG){case 0:return;case 1:var c=b._0.offlineThreadingId;return c;case 2:c=b._0.messageId;return c}case 1:b=a._0.messageID;switch(b.TAG){case 0:return;case 1:c=b._0.offlineThreadingId;return c;case 2:c=b._0.messageId;return c}case 2:b=a._0.messageID;switch(b.TAG){case 0:return;case 1:c=b._0.offlineThreadingId;return c;case 2:a=b._0.messageId;return a}}}f.make=a;f.messageIdFromContent=c}),null);
__d("MWV2ConversationScrollerRefs.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useRef(null),c=h.useRef({_0:void 0,TAG:0});return h.useMemo(function(){return{scrollerRef:b,scrollPositionRef:c}},[])}f.useHook=a}),null);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";var g;b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(g=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function a(a,c){if(!b("fbjs/lib/ExecutionEnvironment").canUseDOM||c&&!("addEventListener"in document))return!1;c="on"+a;var d=c in document;if(!d){var e=document.createElement("div");e.setAttribute(c,"return;");d=typeof e[c]==="function"}!d&&g&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}e.exports=a}),null);
__d("MWChatConversationScroller.bs",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","bs_caml_obj","bs_caml_option","bs_curry","isEventSupported","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function k(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop<=a}var l={contained:{contain:"x16qrkmw"},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",overscrollBehavior:"xish69e"}},m=b("ExecutionEnvironment").canUseDOM?document.body.style.overscrollBehavior===void 0&&document.body.style.scrollBoundaryBehavior===void 0:!1;function a(a,c){var d=a.boundingClientRectRef,e=a.children,f=a.dispatch,g=a.hasMoreAfter,n=a.scrollPositionRef;a=a.onScroll;var o=a!==void 0?a:function(a){},p=i.useRef(f),q=i.useRef(null),r=i.useCallback(function(a){q.current=a;if(d!==void 0){d.current=a==null?void 0:b("bs_caml_option").some(a.getBoundingClientRect());return}},[d]);i.useEffect(function(){p.current=f});var s=function(a,b){b=q.current;if(!(b==null)){b.scrollTop=a;return}},t=function(a,b){b=a!==void 0?a:!1;a=q.current;if(!(a==null))return s(a.scrollHeight,b)},u=function(a,b){var c=q.current;if(!(c==null))return s(c.scrollHeight-(a+c.clientHeight),b)},v=i.useRef(!1);v.current=g;var w=function(a){a=n.current;var c=q.current;c=c==null?void 0:c.scrollHeight-(c.scrollTop+c.clientHeight);var d=j(void 0,q.current),e=k(void 0,q.current);n.current=d?v.current?{_0:void 0,TAG:3}:{_0:void 0,TAG:0}:c!==void 0?e?{_0:c,TAG:1}:{_0:c,TAG:2}:{_0:void 0,TAG:0};d=n.current;e=0;var f=0;switch(a.TAG){case 0:e=1;break;case 1:case 2:f=2;break;case 3:break}if(f===2)switch(d.TAG){case 1:e=1;break;case 2:break;case 0:case 3:p.current({_0:void 0,TAG:1});break}if(e===1){f=0;switch(a.TAG){case 1:break;case 0:case 2:f=2;break}f===2&&d.TAG===1&&p.current({_0:void 0,TAG:2})}return b("bs_curry")._1(o,c)},x=function(a){if(m){var b=a.deltaY>0,c=a.deltaY<0;(b&&j(0,q.current)||c&&k(0,q.current))&&a.preventDefault()}return w()},y=function(a){var c=b("isEventSupported")("mousewheel")?"mousewheel":b("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(d){return a.removeEventListener(b,c,{passive:!0})}},e=function(b){return a.addEventListener(c,x,{passive:!m})},f=function(b){return a.removeEventListener(c,x,{passive:!m})},g=d("mouseenter",e),h=d("mouseleave",f);e=b("CometThrottle")(w,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",w),k=d("mousedown",w);return function(a){f();(a=b("bs_curry"))._1(i);a._1(g);a._1(h);a._1(k);return a._1(j)}};i.useEffect(function(){var a=q.current;if(a==null)return;var c=y(a);return function(a){return b("bs_curry")._1(c)}},[]);i.useLayoutEffect(function(){var a=q.current;!(a==null)&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&p.current({_0:void 0,TAG:0})});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=n.current;switch(a.TAG){case 0:t();break;case 1:u(a._0,!1);break;case 2:case 3:break}});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=n.current;switch(a.TAG){case 0:t();break;case 1:case 2:u(a._0,!1);break;case 3:break}},[]);var z=i.useContext(b("BaseScrollableAreaContext")),A=i.useMemo(function(){return{getDOMNode:function(a){return q.current}}},[]);a=i.useMemo(function(){return z.concat([A])},[A,z]);i.useImperativeHandle(c,function(){return{getScroller:function(a){return r},isContainerFilled:function(a){a=q.current;if(a==null)return!0;else return!(a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20)},scrollElementIntoViewIfNeeded:function(a){var c=q.current;if(c==null)return;var d=a.getBoundingClientRect();c=c.getBoundingClientRect();d=d.top;c=c.top;if(b("bs_caml_obj").caml_lessequal(d,c)){a.scrollIntoView();return}},scrollToBottom:function(a){n.current={_0:void 0,TAG:0};return t()},scrollToElement:function(a,c){var d=q.current;if(d==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var e=d.getBoundingClientRect();a=a.top;e=e.top;if(b("bs_caml_obj").caml_lessequal(a,e)){d.scrollBy(0,-c|0);return w()}}}},[]);return i.jsx(b("BaseScrollableAreaContext").Provider,{children:i.jsx("div",{className:(h||(h=b("stylex")))(l.root,l.contained),"data-release-focus-from":"CLICK",ref:r,tabIndex:-1,children:e}),value:a})}a.displayName=a.name+" [from "+e.id+"]";c=i.forwardRef(a);d=20;f.scrollTolerance=d;f.isScrolledToBottom=j;f.isScrolledToTop=k;f.styles=l;f.disableElasticScroll=m;f.make=c}),null);
__d("MWV2MessageScroller.bs",["LSMailboxMessagesRangeQueryDirection.bs","MWChatConversationScroller.bs","MWMarkThreadAsReadWhenNewMessagesArrive.bs","bs_caml_obj","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.markThreadAsRead,d=a.lastMessageToCalculateIfThreadIsRead,e=a.children,f=a.fetchMore,g=a.hasMoreAfter,i=a.hasMoreBefore,j=a.scrollerRefs,k=a.thread;a=a.onScroll;a=a!==void 0?a:function(a){};var l=h.useCallback(function(a){return b("bs_caml_obj").caml_equal(j.scrollPositionRef.current,{_0:void 0,TAG:0})},[j]),m=h.useCallback(function(a){return!1}),n=b("MWMarkThreadAsReadWhenNewMessagesArrive.bs").useHook(k,d,c,l,m);return h.jsx(b("MWChatConversationScroller.bs").make,{dispatch:function(a){switch(a.TAG){case 0:if(i)return b("bs_curry")._1(f,b("LSMailboxMessagesRangeQueryDirection.bs").before);else return;case 1:if(g)return b("bs_curry")._1(f,b("LSMailboxMessagesRangeQueryDirection.bs").after);else return b("bs_curry")._1(n);case 2:return b("bs_curry")._1(f,b("LSMailboxMessagesRangeQueryDirection.bs").before)}},hasMoreAfter:g,onScroll:a,ref:j.scrollerRef,scrollPositionRef:j.scrollPositionRef,children:e})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MAWSendOrRemoveReaction.bs",["MAWBackendBridge.bs","MAWJob.bs","MAWThreadId.bs","MAWUIThreadCache","Promise","bs_caml_option","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("useReStore")();return h.useMemo(function(){return function(e,f){if(c===void 0)return;var g=b("bs_caml_option").valFromOption(c),h=b("MAWThreadId.bs").ofThreadKey(d,a).then(function(a){if(a.TAG===0)return b("Promise").all([b("MAWUIThreadCache").getThreadJidByChatId({threadId:a._0}),b("bs_curry")._1(b("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:e}).sendAndReceive)]).then(function(a){var c=a[1];a=a[0];if(!(a==null)&&!(c==null))return b("MAWJob.bs").sendReactionMsg.waitUntilPersisted(a,c,g,f,void 0,{priority:"UI_ACTION"});else return b("Promise").resolve()});else return b("Promise").resolve()});b("promiseDone")(h)}},[d,JSON.stringify(a),c])}f.useSendOrRemoveReaction=a}),null);
__d("MWChatLoadMoreItemsIncrementally.bs",["LSMailboxMessagesRangeQueryDirection.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_curry","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:void 0};function j(a){i.contents===void 0&&(i.contents=window.document.documentElement.style.overflowAnchor!==void 0);return b("bs_belt_Option").getWithDefault(i.contents,!1)}function a(a,c,d,e,f,g){a=a!==void 0?a:!1;var i=c!==void 0?c:!0;c=d!==void 0?d:{_0:void 0,TAG:0};d=a||!j();var k=e.length,l;switch(c.TAG){case 1:case 2:l=c._0>=200;break;case 0:case 3:l=!1;break}a=h.useState(function(){if(l)return k;else if(i)if(window.screen.availHeight<1200)return 20;else return 40;else return 10});var m=a[1],n=a[0];c=h.useMemo(function(){return b("bs_belt_Array").sliceToEnd(e,-n|0)},[e,n]);var o=h.useRef(n);a=h.useCallback(function(a){b("bs_caml").i64_neq(a,b("LSMailboxMessagesRangeQueryDirection.bs").before)&&b("unrecoverableViolation")("Message fetch direction must be 'before'","messenger_web_product");if((o.current+15|0)<=k){o.current=o.current+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else{b("bs_curry")._1(f,b("LSMailboxMessagesRangeQueryDirection.bs").before);if(o.current<(k+15|0)){o.current=k+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else return}},[f,k,m]);if(d)return[e,f,g];else return[c,a,g||n<k]}c=15;d=10;e=20;var k=40,l=1200,m=200;f.pageSize=c;f.initialCountSmall=d;f.initialCountDefault=e;f.initialCountTall=k;f.tallWindowHeight=l;f.minScrollPosToMountAll=m;f.useLoadMore=a}),null);
__d("MAWMediaManagerUtilsDeferred.bs",["requireDeferred"],(function(a,b,c,d,e,f){"use strict";a=b("requireDeferred")("MAWMediaManagerUtils.bs").__setRef("MAWMediaManagerUtilsDeferred.bs");c=a;f.$MAWMediaManagerUtils$Deferred=a;f.utils=c}),null);
__d("MAWAcceptMessageRequest.bs",["LS.bs","LSAddMessengerContact","LSTransaction.bs","MAWMessageRequestUtil.bs","MAWUpdateLSThreadCapabilities.bs","MWPActor.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_obj","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c,d,e){c=b("MAWMessageRequestUtil.bs").useIsOneOnOneMessageRequestV2(d,e);if(!c)return;if(e===void 0)return;var f=e[1],g=b("bs_caml_obj").caml_obj_dup(f);g.contactViewerRelationship=[0,2];b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("Promise").all([a.table("contacts").upsert({hd:f.id,tl:0},g),b("LSAddMessengerContact")(f.id,b("LS.bs").make(a)),b("MAWUpdateLSThreadCapabilities.bs").updateNonMessageRequestThreadTxn(a,d)])},"readWrite"))}function a(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){var e;return(e=b("ReQL.bs")).filter(e.mergeJoin(e.getKeyRange(e.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),e.fromTableAscending(c.table("contacts"))),function(a){return b("bs_caml").i64_neq(a[1].id,d)})},[c,JSON.stringify(a.threadKey)]));return h.useCallback(function(b){return i(c,d,a,e)},[c,d,JSON.stringify(a.threadKey)])}f.call=i;f.useHook=a}),null);
__d("MWV2CurrentVisibleMessage.bs",["LS.bs","LSMessagePointQuery","LSTransaction.bs","MWMessageElementRefList.bs","MWPVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("MWPVisibleMessageContext.bs").useHook(),e=d.visibleMessage,f=h.useRef(b("MWMessageElementRefList.bs").make());d=a!==void 0?a.threadKey:void 0;var g=a!==void 0?a.threadType:void 0,i=h.useRef(),j=b("useReStore")(),k=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(a===void 0)return b("SortedAsyncIterable.bs").empty();if(e==null)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(j.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0});var c=e.timestamp;return b("ReQL.bs").filter(b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(j.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0}),{NAME:"lessThanOrEqual",VAL:{hd:c,tl:0}}),function(a){if(b("bs_caml").i64_ge(c,a.minTimestampMs))return b("bs_caml").i64_le(c,a.maxTimestampMs);else return!1})},[j,e,JSON.stringify(d)])),l=h.useState(function(){return k}),m=l[1],n=l[0];h.useEffect(function(){i.current=void 0;var a=c.current;!(e==null)||a==null||a.scrollToBottom()},[e]);var o=function(a){var d=c.current;if(!(d==null)){b("setTimeout")(function(b){return d.scrollElementIntoViewIfNeeded(a)},0);return}},p=function(a){if(b("bs_caml_obj").caml_notequal(a,i.current))return b("bs_curry")._2(f.current.get,a,function(b){o(b),i.current=a})};h.useEffect(function(){k!==void 0?b("bs_curry")._1(m,function(a){return k}):e==null&&b("bs_curry")._1(m,function(a){})},[e,k,m]);h.useEffect(function(){!(e==null)&&n!==void 0&&p(e.messageId)},[j,e,n,p]);h.useEffect(function(){if(a!==void 0&&k===void 0&&!(e==null)){var c=e.messageId;b("promiseDone")(b("LSTransaction.bs").run(j,function(d){return b("LSMessagePointQuery")(a.threadKey,c,a.threadType,b("LS.bs").make(d))},"readWrite"))}},[j,e,k,JSON.stringify(d),JSON.stringify(g)]);return{messageElementRefs:f,messageRange:n,visibleMessage:e==null?void 0:b("bs_caml_option").some(e)}}f.useHook=a}),null);
__d("MAWAttachmentBlob.bs",["LSSuspense","MAWBackendBridge.bs","Promise","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=new Map();function i(a){var c=g.get(a);if(!(c==null))if(c.TAG===0)return b("LSSuspense").throwErrorOrPromise(c._0);else return c._0;c=b("bs_curry")._1(b("MAWBackendBridge.bs").getBlobDataUrlByMediaId({mediaId:b("bs_caml_format").caml_int32_of_string(a)}).sendAndReceive).then(function(c){g.set(a,{_0:URL.createObjectURL(b("bs_belt_Option").getExn(c)),TAG:1});return b("Promise").resolve()})["catch"](function(a){b("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_e2ee_web",{error:b("bs_caml_option").some(a)});return b("Promise").resolve()});g.set(a,{_0:c,TAG:0});return b("LSSuspense").throwErrorOrPromise(c)}function j(a){if(a!==void 0&&a.hasMedia!==!1)return i(a.attachmentFbid);else return b("LSSuspense").throwErrorOrPromise(b("Promise").resolve())}function a(a,c){if(a===void 0)return b("LSSuspense").throwErrorOrPromise(b("Promise").resolve());var d=h.get(a.attachmentFbid+c);if(!(d==null))if(d.TAG===0)return b("LSSuspense").throwErrorOrPromise(d._0);else return d._0;d=b("bs_curry")._1(b("MAWBackendBridge.bs").getBlobDataUrlByXMAId({infoType:c,xmaId:b("bs_caml_format").caml_int32_of_string(a.attachmentFbid)}).sendAndReceive).then(function(d){h.set(a.attachmentFbid+c,{_0:URL.createObjectURL(b("bs_belt_Option").getExn(d==null?void 0:b("bs_caml_option").some(d))),TAG:1});return b("Promise").resolve()})["catch"](function(d){h.set(a.attachmentFbid+c,{_0:"",TAG:1});return b("Promise").resolve()});h.set(a.attachmentFbid+c,{_0:d,TAG:0});return b("LSSuspense").throwErrorOrPromise(d)}function c(a,b){return j(b)}f.getAttachmentBlobNonOptional=i;f.getAttachmentBlob=j;f.getInfoUrlXMA=a;f.useGetAttachmentBlob=c}),null);
__d("MAWAttachmentThumbnail.bs",["LSSuspense","MAWBackendBridge.bs","Promise","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){if(a===void 0)return b("LSSuspense").throwErrorOrPromise(b("Promise").resolve());if(a.hasMedia===!1)return b("LSSuspense").throwErrorOrPromise(b("Promise").resolve());var c=g.get(a.attachmentFbid);if(!(c==null))if(c.TAG===0)return b("LSSuspense").throwErrorOrPromise(c._0);else return c._0;c=b("bs_curry")._1(b("MAWBackendBridge.bs").getThumbnailBlobDataUrlByMediaId({mediaId:b("bs_caml_format").caml_int32_of_string(a.attachmentFbid)}).sendAndReceive).then(function(c){g.set(a.attachmentFbid,{_0:b("bs_belt_Option").getExn(c==null?void 0:b("bs_caml_option").some(c)),TAG:1});return b("Promise").resolve()})["catch"](function(a){b("recoverableViolation")("Unable to getThumbnailBlobDataUrlByMediaId","messenger_e2ee_web",{error:b("bs_caml_option").some(a)});return b("Promise").resolve()});g.set(a.attachmentFbid,{_0:c,TAG:0});return b("LSSuspense").throwErrorOrPromise(c)}f.getThumbnailBlob=a}),null);
__d("MWV2ChatImagePlaceholder.bs",["BaseGlimmer.react","CometObjectFitContainer.react","MWPStableImage.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3"}};function a(a){var c=a.height;a=a.width;if(a===void 0)return null;if(c===void 0)return null;var d=a/c;return i.jsx(b("MWPStableImage.bs").Container.make,{aspectRatio:d,className:(h||(h=b("stylex")))(!1),height:c,maxHeight:200,maxWidth:480,width:a,children:i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:i.jsx(b("BaseGlimmer.react"),{index:1,xstyle:j.glimmer})})})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=j;f.make=c}),null);
__d("MAWSecureAttachment.bs",["CometPlaceholder.react","MAWAttachmentBlob.bs","MAWAttachmentThumbnail.bs","MWAudioPlayer.bs","MWPMessageListAttachment.bs","MWV2ChatImage.bs","MWV2ChatImagePlaceholder.bs","MWV2ChatVideo.bs","MWV2Sticker.bs","MWXMAAttachment.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_int64","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")();return h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("attachments")),{hd:a.threadKey,tl:{hd:a.messageId,tl:0}})},[c,a.messageId])}function a(a){var c=a.connectBottom,d=a.connectTop,e=a.message;a=a.outgoing;var f=b("ReQLSubscription.bs").useFirst(i(e));if(f===void 0)return null;var g=f.attachmentType;return h.jsx(b("MWPMessageListAttachment.bs").Container.make,{connectTop:d,message:e,children:b("bs_caml").i64_eq(g,b("MessagingAttachmentType.bs").image)?h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx(b("MWV2ChatImagePlaceholder.bs").make,{height:b("bs_belt_Option").map(f.previewHeight,b("bs_caml_int64").to_float),width:b("bs_belt_Option").map(f.previewWidth,b("bs_caml_int64").to_float)}),children:h.jsx(b("MWV2ChatImage.bs").make,{attachment:f,connectTop:d,getPlayableUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},getPreviewUrl:function(a){return b("MAWAttachmentThumbnail.bs").getThumbnailBlob(a)},message:e,navigateToRouteForMediaViewer:!1,outgoing:a})}):b("bs_caml").i64_eq(g,b("MessagingAttachmentType.bs").video)?h.jsx(b("MWV2ChatVideo.bs").make,{attachment:f,connectTop:d,getPreviewUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},message:e,navigateToRouteForMediaViewer:!1,outgoing:a}):b("bs_caml").i64_eq(g,b("MessagingAttachmentType.bs").audio)?h.jsx(b("MWAudioPlayer.bs").make,{attachment:f,getPlayableUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},outgoing:a}):b("bs_caml").i64_eq(g,b("MessagingAttachmentType.bs").animatedImage)?h.jsx(b("MWV2ChatImage.bs").make,{attachment:f,connectTop:d,getPlayableUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},getPreviewUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},message:e,navigateToRouteForMediaViewer:!1,outgoing:a}):b("bs_caml").i64_eq(g,b("MessagingAttachmentType.bs").sticker)?h.jsx(b("MWV2Sticker.bs").make,{attachment:f,getPreviewUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)}}):b("bs_caml").i64_eq(g,b("MessagingAttachmentType.bs").xma)?h.jsx(b("MWXMAAttachment.bs").make,{attachment:f,connectBottom:c,connectTop:d,getFaviconUrlXMA:function(a,c){return b("MAWAttachmentBlob.bs").getInfoUrlXMA(a,"favicon")},getHeaderUrlXMA:function(a){return b("MAWAttachmentBlob.bs").getInfoUrlXMA(a,"header")},getPlayableUrl:function(a,c){return b("MAWAttachmentBlob.bs").getInfoUrlXMA(a,"preview")},getPreviewUrlXMA:function(a,c){return b("MAWAttachmentBlob.bs").getInfoUrlXMA(a,"preview")},outgoing:a}):"Unsupported attachment type"})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.useAttachments=i;f.make=c}),null);
__d("MAWEncryptionPlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._("__JHASH__4OgzNQUOXys__JHASH__")})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MAWFutureproofPlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c={refresh:{color:"xzsf02u",marginStart:"x8j4wrb"}};function a(a){return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:i.jsx(i.Fragment,{children:g._("__JHASH__rJAaVw-bGTJ__JHASH__")})})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.styles=c;f.make=d}),null);
__d("MAWUnavailablePlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._("__JHASH__M9fzIhDqITQ__JHASH__")})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MAWUnavailableStoryPlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._("__JHASH__XFKsw63gVvs__JHASH__")})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MAWSecurePlaceholder.bs",["LSMessageContentType.bs","MAWEncryptionPlaceholder.bs","MAWFutureproofPlaceholder.bs","MAWUnavailablePlaceholder.bs","MAWUnavailableStoryPlaceholder.bs","MWPMessageListColumn.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")();return h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("attachments")),{hd:a.threadKey,tl:{hd:a.messageId,tl:0}})},[c,a.messageId])}function j(a){a=a.message;a=b("ReQLSubscription.bs").useFirst(i(a));if(a===void 0)return null;a=a.defaultCtaType;if(a==="xma_montage_share")return h.jsx(h.Suspense,{fallback:null,children:h.jsx(b("MAWUnavailableStoryPlaceholder.bs").make,{})});b("recoverableViolation")("Unexpected case where message is tombstone type but the attachment is not xma montage share","messenger_e2ee_web");return h.jsx(h.Suspense,{fallback:null,children:h.jsx(b("MAWUnavailablePlaceholder.bs").make,{})})}j.displayName=j.name+" [from "+e.id+"]";c={make:j};function a(a){a=a.message;var c=a.displayedContentTypes;c=b("bs_caml").i64_eq(c,b("LSMessageContentType.bs").encryptionPlaceholder)?h.jsx(h.Suspense,{fallback:null,children:h.jsx(b("MAWEncryptionPlaceholder.bs").make,{})}):b("bs_caml").i64_eq(c,b("LSMessageContentType.bs").futureproofPlaceholder)?h.jsx(h.Suspense,{fallback:null,children:h.jsx(b("MAWFutureproofPlaceholder.bs").make,{})}):b("bs_caml").i64_eq(c,b("LSMessageContentType.bs").unavailablePlaceholder)?h.jsx(h.Suspense,{fallback:null,children:h.jsx(b("MAWUnavailablePlaceholder.bs").make,{})}):b("bs_caml").i64_eq(c,b("LSMessageContentType.bs").tombstone)?h.jsx(j,{message:a}):null;return h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:c})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.useAttachments=i;f.Tombstone=c;f.make=d}),null);
__d("MAWSecureAttachmentRenderer.bs",["MAWMsg.bs","MAWSecureAttachment.bs","MAWSecurePlaceholder.bs","MWPMessageParsingUtils.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){c=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(a,c,"below");d=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(a,d,"below");return h.jsx(h.Suspense,{fallback:null,children:b("MAWMsg.bs").isMediaMsg(a)||b("MAWMsg.bs").isXMAMsg(a)?h.jsx(b("MAWSecureAttachment.bs").make,{connectBottom:d,connectTop:c,message:a,outgoing:e}):h.jsx(b("MAWSecurePlaceholder.bs").make,{message:a})})}a.displayName=a.name+" [from "+e.id+"]";f.render=a}),null);
__d("MAWMessageRetryButton.bs",["MAWBackendBridge.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;return h.jsx("button",{onClick:function(a){return b("bs_curry")._1(b("MAWBackendBridge.bs").retryUploadMedia({msgId:c.messageId}).fireAndForget)},children:"Retry"})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MAWAdminViewLogins.bs",["fbt","JSResourceForInteraction","MWPBumpEntityKey.bs","react","stylex","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={content:{color:"xz94kzr",cursor:"x1ypdohk",display:"x1rg5ohu",fontWeight:"xo1l8bm",marginLeft:"x1iog12x"}};function a(a){a=b("useCometLazyDialog")(b("JSResourceForInteraction")("MAWTrustedLoginsDialog.react",{"class":"fluid",name:"MAWTrustedLoginsDialog"}).__setRef("MAWAdminViewLogins.bs"));var c=a[0];return j.jsx("div",{className:(i||(i=b("stylex")))(k.content),onClick:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","trusted_logins");return c(void 0,function(a){})},children:g._("__JHASH__tDIDH9AMj9C__JHASH__").toString()})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=k;f.make=c}),null);
__d("MAWFetchMoreMessages.bs",["LS.bs","LSIssueMessagesRangeQuery","LSTransaction.bs","MAWBackendBridge.bs","MAWGating","MAWThreadId.bs","MWEncryptedBackupsIssueRangeQueryDeferred.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml_int64","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWEncryptedBackupsIssueRangeQueryDeferred.bs").useHook();return h.useMemo(function(){return function(e,f){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("messages_ranges_v2__generated")),{hd:a,tl:0})).then(function(c){if(c!==void 0&&!c.isLoadingBefore)return b("MAWThreadId.bs").ofThreadKey(e,a).then(function(a){if(a.TAG!==0)return b("Promise").resolve();var f=a._0;return e.table("messages_ranges_v2__generated").put({hasMoreAfter:c.hasMoreAfter,hasMoreBefore:c.hasMoreBefore,isLoadingAfter:c.isLoadingAfter,isLoadingBefore:!0,maxMessageId:c.maxMessageId,maxTimestampMs:c.maxTimestampMs,minMessageId:c.minMessageId,minTimestampMs:c.minTimestampMs,threadKey:c.threadKey}).then(function(a){b("promiseDone")(b("bs_curry")._1(b("MAWBackendBridge.bs").loadMoreMsgs({numMsgs:10,offsetMsgId:c.minMessageId,threadId:f}).sendAndReceive).then(function(a){if(a.hasMore)return b("Promise").resolve();else if(b("MAWGating").isRestoreFlowHandlingExistingAdminMsgsEnabled())return b("bs_curry")._1(b("MAWBackendBridge.bs").getMaybeNextNonAdminMsgSortOrderMs({mayBeAdminMsgId:c.minMessageId,threadId:f}).sendAndReceive).then(function(a){return b("bs_curry")._4(d,f,b("bs_caml_int64").of_float(a.minMsgTimestampMs),[0,10],b("bs_caml_int64").zero)});else return b("Promise").resolve(b("bs_curry")._4(d,f,c.minTimestampMs,[0,10],b("bs_caml_int64").zero))}))})});else return b("Promise").resolve()})}},[a])}function c(a,c){var d=b("useReStore")(),e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("messages_ranges_v2__generated")),{hd:a,tl:0})},[d,a])),f=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("messages_ranges_v2__generated")),{hd:c,tl:0})},[d,c])),g=function(a){b("promiseDone")(b("LSTransaction.bs").run(d,function(d){if(f!==void 0)return b("LSIssueMessagesRangeQuery")(c,f.minTimestampMs,a,b("LS.bs").make(d));else return window.Promise.resolve()},"readWrite"))},i=b("MWEncryptedBackupsIssueRangeQueryDeferred.bs").useHook();return h.useCallback(function(c){if(e===void 0)return;var f=e.hasMoreBefore,h=e.minMessageId,j=e.minTimestampMs;b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(d,a).then(function(a){if(a.TAG!==0)return b("Promise").resolve();var d=a._0;return b("bs_curry")._1(b("MAWBackendBridge.bs").loadMoreMsgs({numMsgs:10,offsetMsgId:h,threadId:d}).sendAndReceive).then(function(a){if(a.hasMore)return b("Promise").resolve();else if(b("MAWGating").isRestoreFlowHandlingExistingAdminMsgsEnabled())return b("bs_curry")._1(b("MAWBackendBridge.bs").getMaybeNextNonAdminMsgSortOrderMs({mayBeAdminMsgId:h,threadId:d}).sendAndReceive).then(function(a){b("bs_curry")._4(i,d,b("bs_caml_int64").of_float(a.minMsgTimestampMs),[0,10],b("bs_caml_int64").zero);if(!f)return g(c)});else{b("bs_curry")._4(i,d,j,[0,10],b("bs_caml_int64").zero);if(f)return b("Promise").resolve();else return b("Promise").resolve(g(c))}})}))},[d,a,c,e,f])}f.useFetchSecureMessages=a;f.useFetchCutoverMessages=c}),null);
__d("MAWFetchMoreMessages.re",["MAWFetchMoreMessages.bs"],(function(a,b,c,d,e,f){a=b("MAWFetchMoreMessages.bs").useFetchSecureMessages;f.useFetchSecureMessages=a}),null);
__d("MAWHotLike.bs",["MAWGating","MWPColorUtils.bs","MWPThreadTheme.bs","MessengerHotLikeSVGReact.bs","bs_caml_option","bs_js_null_undefined","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={likePreview:{display:"x78zum5","float":"x18mqm2i",height:"x1dnml7z",width:"x7tvc40"},noCustomLikePreview:{display:"x78zum5",justifyContent:"xl56j7k"}};function a(a){a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var c=b("MWPThreadTheme.bs").useHook();c=b("MAWGating").isOccamadillo()?b("MWPColorUtils.bs").int64ToHex(c.threadTheme.fallbackColor):"var(fds-black)";return i.jsx("div",{className:(h||(h=b("stylex")))(j.likePreview,j.noCustomLikePreview,a),children:i.jsx(b("MessengerHotLikeSVGReact.bs").make,{color:b("bs_js_null_undefined").fromOption(c)})})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=j;f.make=c}),null);
__d("MWPOneToOneThreadBlockedContext.bs",["LSContactBlockedByViewerStatus.bs","MWV2OneToOneThreadBlockedContext.bs","MessagingThreadType.bs","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.children,d=a.participants,e=a.thread;a=h.useMemo(function(){if(!(b("bs_caml").i64_eq(e.threadType,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(e.threadType,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)))return!1;var a={contents:!1};d.forEach(function(c,d,e){if(b("bs_caml").i64_neq(c[1].blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)){a.contents=!0;return}});return a.contents},[JSON.stringify(e.threadType),d]);return h.jsx(b("MWV2OneToOneThreadBlockedContext.bs").make,{blocked:a,children:c})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWV2SeenHead.bs",["GenderConst","LSMediaUrl.bs","LSMessageSendStatusV2.bs","MWMessageDeliveryStatus.bs","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";e=[];function g(a){var c=a[1];a=a[0];return{gender:b("GenderConst").NOT_A_PERSON,id:b("bs_int64").to_string(c.id),imageSrc:b("LSMediaUrl.bs").Contact.profilePictureUrl(c),name:b("bs_belt_Option").getWithDefault(a.nickname,c.name),timestamp:b("bs_caml_int64").to_float(a.readActionTimestampMs)}}function a(a,c){var d={contents:b("bs_caml_int64").zero};a.forEach(function(a,e,f){e=a[0];if(b("bs_caml").i64_neq(e.contactId,c)&&b("bs_caml").i64_gt(e.deliveredWatermarkTimestampMs,d.contents)){d.contents=e.deliveredWatermarkTimestampMs;return}});return d.contents}function c(a){return new Set([b("bs_int64").to_string(a)])}function d(a,c,d,e,f,h){var i=[];c.forEach(function(c,e,f){if(d.has(e)||a.isAdminMessage)return;if(!b("bs_caml").i64_eq(a.sendStatusV2,b("LSMessageSendStatusV2.bs").serverReceived))return;f=c[0];var j=b("bs_caml").i64_eq(a.senderId,f.contactId);f=b("bs_caml").i64_le(a.timestampMs,f.readWatermarkTimestampMs);if(j||f){i.push(g(c));if(!h){d.add(e);return}else return}});var j=i.length===0&&d.size===1;if(i.length<=0)if(b("bs_caml").i64_eq(a.senderId,f))return b("MWMessageDeliveryStatus.bs").deliveryStatusForMessageSentByYou(a,e,j);else return{_0:void 0,TAG:0};if(!h)if(i.length>1)return{_0:i,TAG:6};else return{_0:b("bs_caml_array").get(i,0),TAG:5};f=i.length===(c.size-1|0);return{_0:i,_1:f,TAG:7}}f.noSeenHeads=e;f.toSeenDetails=g;f.calculateMaxDeliveredTimestamp=a;f.makeExistingSeenHeads=c;f.deliveryStatusForMessage=d}),null);
__d("MWPBaseMessageList_DEPRECATED.bs",["BaseHeadingContextWrapper.re","LSMessagingThreadTypeUtil.bs","MWPActor.bs","MWPMessageAuthor.bs","MWPOneToOneThreadBlockedContext.bs","MWV2SeenHead.bs","bs_caml_array","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{zIndex:"x1ja2u2z"}};function a(a){var c=a.children,d=a.messages,e=a.participants,f=a.renderRow;a=a.thread;var g=b("MWPActor.bs").useActor(),k=b("MWV2SeenHead.bs").calculateMaxDeliveredTimestamp(e,g),l=b("MWV2SeenHead.bs").makeExistingSeenHeads(g),m=b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)&&b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),n=[];for(var o=d.length-1|0;o>=0;--o){var p=o===0?void 0:b("bs_caml_array").get(d,o-1|0),q=o>=(d.length-1|0)?void 0:b("bs_caml_array").get(d,o+1|0),r=b("bs_caml_array").get(d,o),s=b("MWV2SeenHead.bs").deliveryStatusForMessage(r,e,l,k,g,m);n.push(i.jsx(b("MWPMessageAuthor.bs").make,{contactId:r.senderId,threadKey:r.threadKey,children:b("bs_curry")._1(f,{message:r,nextMessage:q,prevMessage:p,status:s})},r.messageId))}if(n.length===0)return null;else return i.jsx(b("BaseHeadingContextWrapper.re").make,{children:i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:i.jsx(b("MWPOneToOneThreadBlockedContext.bs").make,{participants:e,thread:a,children:b("bs_curry")._1(c,n.reverse())})})})}c=a;f.styles=j;f.make=c}),null);
__d("MAWMessageList.bs",["BaseTheme.react","CometPagelet.react","CometScreenReaderText.react","LSMessagingThreadTypeUtil.bs","MWBaseTheme.bs","MWMessageRow.bs","MWPAriaLabelForMessageListGrid.bs","MWPBaseMessageList_DEPRECATED.bs","MWPMessageListColumn.bs","MWPMessageListFocusTable.bs","MWPThreadCapabilitiesContext.bs","MWPTypingIndicators.bs","MWPVisibleMessageContext.bs","MWV2MessageActionsVisibility.bs","MWV2MessageRowSimple.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:4242","react","useCometUniqueID","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={messageBubble:{backgroundColor:"x1vtvx1t"}};function j(a,c){return new Map(b("ReQLSubscription.bs").useArray(h.useMemo(function(){var d;return(d=b("ReQL.bs")).map(d.mergeJoin(d.getKeyRange(d.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),d.fromTableAscending(c.table("contacts"))),function(a){var c=a[1];return[b("bs_int64").to_string(c.id),[a[0],c]]})},[c,JSON.stringify(a.threadKey)])))}var k=b("cr:4242")==null?void 0:b("bs_caml_option").some(b("cr:4242"));function l(a,b){h.useEffect(function(){if(a!==void 0&&a.scrollPositionRef.current==={_0:void 0,TAG:0}&&b.length>0){var c=a.scrollerRef.current;c==null||c.scrollToBottom()}},[b,a])}function m(a){var c=a.scrollerRefs,d=a.threadKey;a=a.theme;a=a!==void 0?a:b("MWBaseTheme.bs").empty;d=b("MWPTypingIndicators.bs").useTypingParticipants(d);var e=b("MWPTypingIndicators.bs").useAccessibilityText(d);l(c,d);if(d.length>0)return h.jsx(b("BaseTheme.react"),{config:a,children:h.jsx(b("MWV2MessageRowSimple.bs").make,{children:h.jsxs(b("MWPMessageListColumn.bs").Grow.make,{children:[h.jsx("div",{"aria-live":"polite",children:h.jsx(b("CometScreenReaderText.react"),{text:e})}),h.jsx(b("MWPTypingIndicators.bs").TypingIndicator.make,{typingParticipants:d,xstyle:i.messageBubble})]})})});else return null}c={make:m};function a(a){var c=a.messageElementRefs,d=a.messages,e=a.renderAttachment,f=a.scrollerRefs,g=a.thread;a=b("useReStore")();a=j(g,a);var i=b("LSMessagingThreadTypeUtil.bs").isSecure(g.threadType),l=b("MWPAriaLabelForMessageListGrid.bs").useHook(g),n=b("MWPVisibleMessageContext.bs").useHook(),o=n.visibleMessage,p=b("MWMessageRow.bs").useTheme(),q=b("MWV2MessageActionsVisibility.bs").useStopHoveringRef();n=h.useState(function(){return""});var r=n[1],s=n[0],t=b("useCometUniqueID")(),u=h.useMemo(function(){return g.threadType},[b("bs_int64").to_string(g.threadType)]);return h.jsx(b("MWPBaseMessageList_DEPRECATED.bs").make,{thread:g,messages:d,participants:a,renderRow:function(a){var d=a.message,f=i?b("bs_caml").i64_eq(g.threadKey,d.threadKey):!1,j;if(o==null)j=!1;else{var k=o.messageId;switch(o.source.TAG){case 1:case 2:j=k===d.messageId;break;default:j=!1}}k={domElementRef:b("bs_curry")._1(c.set,d.messageId),hasMessageEmphasisRing:j,isModal:s===d.messageId,isSecureMessage:f,message:d,nextMessage:a.nextMessage,prevMessage:a.prevMessage,stopHoveringRef:q,threadType:u};e!==void 0&&(k.renderAttachment=b("bs_caml_option").valFromOption(e));return h.jsx(b("MWMessageRow.bs").make,babelHelpers["extends"]({},k))},children:function(a){a=h.jsxs(h.Fragment,{children:[a,h.jsx(m,{threadKey:g.threadKey,scrollerRefs:f,theme:p})]});return h.jsx("div",{"data-testid":void 0,id:t,children:h.jsx(b("CometPagelet.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:h.jsx(b("MWPThreadCapabilitiesContext.bs").Provider.make,{thread:g,children:h.jsx(b("MWPMessageListFocusTable.bs").make,{modal:s,setModal:r,ariaLabel:l,children:b("cr:4242")==null?a:h.jsx(k.make,{children:a,id:t})})})})})}})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.styles=i;f.$MWMessageListKeyboardCommandContext$OR$null$requireCond=b("cr:4242");f.useScrollToBottomIfTheScrollPositionIsBottom=l;f.MAWTypingIndicators=c;f.make=d}),null);
__d("MAWSecureThreadDetail.bs",["CometPagelet.react","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MAWArmadilloLink.bs","MAWFetchMoreMessages.bs","MAWJids","MAWJob.bs","MAWMarkThreadAsRead.bs","MAWMessageList.bs","MAWSecureAttachmentRenderer.bs","MWChatLoadMoreItemsIncrementally.bs","MWInboxThreadMessagesSpinner.react","MWPMessageListColumn.bs","MWV2ContextBanner.bs","MWV2ConversationScrollerRefs.bs","MWV2CurrentVisibleMessage.bs","MWV2MessageScroller.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_array","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")(),d=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var d;return(d=b("ReQL.bs")).map(d.filter(d.getKeyRange(d.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(c){return!b("bs_int64").equal(c.contactId,a.threadKey)}),function(a){return b("MAWJids").toUserJid(b("bs_int64").to_string(a.contactId))})},[c,b("bs_int64").to_string(a.threadKey)])),e=h.useRef(new Set()),f=e.current.size!==d.length||!d.every(function(a){return e.current.has(a)});if(!f)return;f=new Set(d);e.current=f;return b("MAWJob.bs").getDevices.fireAndForget(f,"details-participants-changed",void 0,{priority:"LOW"})}function j(a,c){var d=b("bs_int64").compare(a.primarySortKey,c.primarySortKey);if(d!==0)return d;d=a.secondarySortKey;var e=c.secondarySortKey;if(d===void 0)if(e!==void 0)return-1;else return b("bs_int64").compare(a.timestampMs,c.timestampMs);if(e===void 0)return 1;d=b("bs_int64").compare(d,e);if(d!==0)return d;else return b("bs_int64").compare(a.timestampMs,c.timestampMs)}function k(a,c){var d=b("useReStore")();return b("ReQLSubscription.bs").useArray(h.useMemo(function(){var e=b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(d.table("messages").index("messageDisplayOrder")),{hd:c.threadKey,tl:0});if(a!==void 0)return b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(d.table("messages").index("messageDisplayOrder")),{hd:c.threadKey,tl:0}),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a.minTimestampMs,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:a.maxTimestampMs,tl:0}}]});else if(b("bs_caml").i64_lt(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative)||b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType))return e;else return b("SortedAsyncIterable.bs").empty()},[d,JSON.stringify(c.threadKey),JSON.stringify(c.authorityLevel),JSON.stringify(c.threadType),JSON.stringify(a)]))}function l(a,b){var c=k(a,b);return h.useMemo(function(){return c.sort(j)},[c])}function a(a){a=a.thread;var c=b("MAWFetchMoreMessages.bs").useFetchSecureMessages(a.threadKey),d=b("MWV2ConversationScrollerRefs.bs").useHook(),e=b("MWV2CurrentVisibleMessage.bs").useHook(a,d.scrollerRef),f=b("useReStore")(),g=h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(f,function(b){return c(b,a)},"readWrite"))},[f]),j=e.messageRange,k=e.messageRange;j=b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(j!==void 0?j.hasMoreAfter:!1,void 0,void 0,l(e.messageRange,a),g,k!==void 0?k.hasMoreBefore:!1);g=j[2];k=j[0];i(a);var m=e.messageRange;m=m!==void 0?m.hasMoreAfter:!1;return h.jsx(b("MAWArmadilloLink.bs").Provider.make,{value:!0,children:h.jsxs(b("MWV2MessageScroller.bs").make,{thread:a,fetchMore:j[1],markThreadAsRead:b("MAWMarkThreadAsRead.bs").useHook(a),lastMessageToCalculateIfThreadIsRead:k.length!==0?b("bs_caml_array").get(k,k.length-1|0):void 0,scrollerRefs:d,hasMoreBefore:g,hasMoreAfter:m,children:[h.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:20}),g?h.jsx(b("MWInboxThreadMessagesSpinner.react"),{}):h.jsx(b("MWV2ContextBanner.bs").make,{thread:a}),h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:10})]}),h.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("CometPagelet.react").Placeholder,{fallback:null,name:"MAWMessageList",children:h.jsx(b("MAWMessageList.bs").make,{messages:k,thread:a,messageElementRefs:e.messageElementRefs.current,scrollerRefs:d,renderAttachment:b("MAWSecureAttachmentRenderer.bs").render})}),m?h.jsx(b("MWInboxThreadMessagesSpinner.react"),{}):null]})})}a.displayName=a.name+" [from "+e.id+"]";c=b("MAWSecureAttachmentRenderer.bs").render;d=a;f.useGetDevices=i;f.messageSortOrder=j;f.useMessagesUnsorted=k;f.useMessages=l;f.renderAttachment=c;f.make=d}),null);
__d("MAWSecureThreadDetailWrapper.bs",["LS.bs","LSAuthorityLevel.bs","LSInitiateThreadMigration","LSTransaction.bs","MAWSecureThreadDetail.bs","MAWThreadCutover.bs","MAWThreadId.bs","Promise","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","WAHex","bs_belt_Option","bs_caml_int64","bs_curry","bs_int64","cr:4056","cr:4057","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=b("useReStore")(),e=h.useCallback(function(a){return function(c){return b("LSTransaction.bs").run(d,function(d){return b("LSInitiateThreadMigration")(a,c,!1,b("WAHex").randomHex(8),b("LS.bs").make(d))},"readWrite")}},[d]),f=b("MAWThreadCutover.bs").useGetCutoverMapping(c.threadKey),g=b("bs_belt_Option").mapWithDefault(f,void 0,function(a){return a.openThreadId}),i=b("bs_belt_Option").mapWithDefault(f,void 0,function(a){return a.armadilloThreadId});a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(g!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:g,tl:0});else return b("SortedAsyncIterable.bs").empty()},[d,JSON.stringify(g)]));var j=h.useState(function(){return!1}),k=j[1],l=j[0];h.useEffect(function(){f!==void 0&&b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(d,c.threadKey).then(function(a){if(a.TAG===0&&!(b("cr:4056")==null))return b("bs_curry")._1(b("bs_curry")._1(b("cr:4056").checkIfShowOpenMessageHistory,{chatId:a._0,timestampMs:b("bs_caml_int64").to_float(f.timestampMs)}).sendAndReceive).then(function(a){b("bs_curry")._1(k,function(b){return a});return b("Promise").resolve()});else return b("Promise").resolve()}));if(g!==void 0&&i!==void 0&&l){b("promiseDone")(b("bs_curry")._2(e,g,i));return}},[JSON.stringify(c.threadKey),JSON.stringify(g),JSON.stringify(i),f,l]);if(!(b("cr:4057")==null)&&a!==void 0&&f!==void 0&&l)if(b("bs_int64").equal(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative))return h.jsx(b("cr:4057").make,{cutoverMapping:f,cutoverOpenThread:a,thread:c});else return h.jsx(b("MAWSecureThreadDetail.bs").make,{thread:c});return h.jsx(b("MAWSecureThreadDetail.bs").make,{thread:c})}a.displayName=a.name+" [from "+e.id+"]";c=b("cr:4056");d=b("cr:4057");e=a;f.$MAWBackendBridge$requireCondXplat=b("cr:4056");f.mawBackendBridge=c;f.$MAWCutoverSecureThreadDetail$requireCondXplat=b("cr:4057");f.mawCutoverSecureThreadDetail=d;f.make=e}),null);
__d("MAWEphemeralAdminMsgCta.bs",["CometPressable.react","CometTextWithEntities.react","MAWEphemeralSettingsLazyDialogTrigger.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.threadKey,d=a.title;a=function(a,c){return h.jsx(b("CometPressable.react"),{onPress:function(c){return b("bs_curry")._1(a)},children:h.jsx(b("CometTextWithEntities.react"),{text:d})})};return h.jsx(b("MAWEphemeralSettingsLazyDialogTrigger.bs").make,{renderer:a,threadKey:c})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);/*FB_PKG_DELIM*/
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5183771881740641"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};g["default"]=a}),98);
__d("MDSBaseCollapsible.react",["CometPressable.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var d=a.ariaLabel,e=a.children,f=a.isOpen,g=a.onPress,j=a.renderButtonContainer,k=a.renderLabel,l=a.testid;l=a.xstyleForPressable;a=c("useCometUniqueID")();var m=c("useCometUniqueID")(),n=i(function(){g(f)},[f,g]);d=h.jsx(c("CometPressable.react"),{"aria-controls":m,"aria-expanded":f,"aria-label":d,display:"block",id:a,onPress:n,ref:b,testid:void 0,xstyle:l,children:k(f)});return h.jsxs("div",{className:"xh8yej3",children:[h.jsx("div",{className:"xurb0ha x1sxyh0",children:j?j(d):d}),h.jsx("div",{"aria-labelledby":a,className:"xurb0ha x1sxyh0",id:m,role:"region",children:f?e:null})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);b.displayName="MDSBaseCollapsible";e=b;g["default"]=e}),98);
__d("FDSCollapsible.react",["ix","BaseListCell.react","MDSBaseCollapsible.react","MDSText.react","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={icon:{paddingEnd:"x1pi30zi",paddingStart:"x1ye3gou",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2"},label:{paddingStart:"xurb0ha",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8"},pressable:{alignItems:"x6s0dn4",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x78zum5",minHeight:"x1gg8mnh"}};function a(a,b){var e=a.children,f=a.isOpen,g=a.label,l=a.onPress,m=a.renderButtonContainer;a=a.testid;var n=j(function(a){return i.jsx("div",{className:c("stylex")(k.icon),children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:a?d("fbicon")._(h("505565"),20):d("fbicon")._(h("492454"),20)})})},[]);a=j(function(a){return i.jsx(c("BaseListCell.react"),{addOnEnd:n(a),addOnEndVerticalAlign:"center",addOnStartVerticalAlign:"center",content:i.jsx("div",{className:c("stylex")(k.label),children:i.jsx(c("MDSText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:g})})})},[g,n]);return i.jsx(c("MDSBaseCollapsible.react"),{isOpen:f,onPress:l,ref:b,renderButtonContainer:m,renderLabel:a,testid:void 0,xstyleForPressable:k.pressable,children:e})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);b.displayName="FDSCollapsible";e=b;g["default"]=e}),98);
__d("MWCollapsible.react",["cr:1290"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1290")}),98);
__d("LSContactGenderToGenderConst.bs",["GenderConst","LSContactGender.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").female))return b("GenderConst").FEMALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").male))return b("GenderConst").MALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").neuter))return b("GenderConst").NEUTER_SINGULAR;else return b("GenderConst").NOT_A_PERSON}f.make=a}),null);
__d("MWCollapsible.bs",["MWCollapsible.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWCollapsible.react");f.make=a}),null);
__d("MWGroupLimitConfig.bs",["cr:1217"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1217")).nonGxac;d=a.armadillo;e=a.gxac;f.$MWGroupLimitConfigForTests$OR$MWGroupLimitConfigForProd$requireCond=a;f.nonGxac=c;f.armadillo=d;f.gxac=e}),null);
__d("MWGroupLimitConfigForProd.bs",["MAWAbPropsClient.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MAWAbPropsClient.bs").getAbProps().client_group_participants_limit}c=32;d=256;f.gxac=c;f.nonGxac=d;f.armadillo=a}),null);
__d("MWGroupLimitContainer.bs",["bs_curry","cr:1573"],(function(a,b,c,d,e,f){"use strict";var g=b("cr:1573")==null?function(a,b){return[!1,!1]}:b("cr:1573").useHookForThread;function a(a){var c=a.children,d=a.groupLimitReachedContent;a=a.thread;a=b("bs_curry")._2(g,a);if(a[0])return d;else return c}c=a;f.$MWUseHasGroupLimitBeenReached$requireCond=b("cr:1573");f.make=c}),null);
__d("MWInteropTokenUtils.bs",["MWXacGating.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){return a.rawData.isInstagramAccount===!0}function h(a){return a.rawData.isInteropEligible===!0}function i(a){if(b("MWXacGating.bs").isGroupsEnabled())return a.rawData.isGroupsXacEligible===!0;else return!1}function a(a){if(g(a))if(h(a))return!i(a);else return!0;else return!1}f.isInterop=g;f.isInteropEligible=h;f.isGxacEligible=i;f.isInteropWithoutGxacSupport=a}),null);
__d("MWUseHasGroupLimitBeenReached.bs",["LSMessagingThreadTypeUtil.bs","MWGroupLimitConfig.bs","MWInteropTokenUtils.bs","MWIsXacGroupThread.bs","MWXacGating.bs","bs_caml_int64","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=[];function a(a,c){var d=c!==void 0?c:i;c=a.memberCount;c=c!==void 0?b("bs_caml_int64").to_int32(c):0;c=c+d.length|0;var e=h.useMemo(function(){var c=d.some(function(a){return a.isInstagramAccount});if(b("MWXacGating.bs").isGroupsEnabled())if(b("MWIsXacGroupThread.bs").check(a))return!0;else return c;else return!1},[JSON.stringify(a.threadKey),d]);e=e?c>=b("MWGroupLimitConfig.bs").gxac:b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)?c>=b("bs_curry")._1(b("MWGroupLimitConfig.bs").armadillo):c>=b("MWGroupLimitConfig.bs").nonGxac;c=b("MWXacGating.bs").isGroupsEnabled()&&c>=b("MWGroupLimitConfig.bs").gxac;return[e,c]}function c(a,c){var d=h.useMemo(function(){if(b("MWXacGating.bs").isGroupsEnabled())return a.some(b("MWInteropTokenUtils.bs").isInterop);else return!1},[a]),e=a.length;d=d?e>=(b("MWGroupLimitConfig.bs").gxac-1|0):c?e>=(b("bs_curry")._1(b("MWGroupLimitConfig.bs").armadillo)-1|0):e>=(b("MWGroupLimitConfig.bs").nonGxac-1|0);c=b("MWXacGating.bs").isGroupsEnabled()&&e>=b("MWGroupLimitConfig.bs").gxac;return[d,c]}f.emptySelectedParticipants=i;f.useHookForThread=a;f.useHookForNewThread=c}),null);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755987")).Gif;d=a.Sticker;e=a.Photo;b=a.MoreActions;var g=a.Emoji,h=a.PaperclipSVG,i=a.Paperclip,j=a.Pin,k=a.Camera,l=a.Microphone,m=a.Poll,n=a.Currency;f.$MDSMWChatComposerIcons$OR$TetraMWChatComposerIcons$requireCond=a;f.Gif=c;f.Sticker=d;f.Photo=e;f.MoreActions=b;f.Emoji=g;f.PaperclipSVG=h;f.Paperclip=i;f.Pin=j;f.Camera=k;f.Microphone=l;f.Poll=m;f.Currency=n}),null);
__d("MWChatChatButtonColorConstants.bs",[],(function(a,b,c,d,e,f){"use strict";a={fillGrey:{fill:"xsrhx6k"},strokeGrey:{stroke:"x1dmfqyo"}};f.styles=a}),null);
__d("TetraMWChatComposerIcons.bs",["ix","MWChatChatButtonColorConstants.bs","MWIcon.react","bs_caml_option","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{display:"x1lliihq",transitionDuration:"x1k90msu",transitionProperty:"x13hzchw",transitionTimingFunction:"x1qfuztq"},notRotated:{transform:"x7p49u4"},rotated:{transform:"x1158fpu"}};function a(a){var c=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:c,fillRule:"nonzero"})})}a.displayName=a.name+" [from "+e.id+"]";a={make:a};function c(a){var c=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),j.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:c}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:c,fillRule:"nonzero"})]})})}c.displayName=c.name+" [from "+e.id+"]";c={make:c};function d(a){var c=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=c===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f=c===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0;return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon,a),height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:c}),j.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:c,r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:c}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:c,strokeLinecap:"round",strokeLinejoin:"round"})]})})}d.displayName=d.name+" [from "+e.id+"]";d={make:d};function l(a){var c=a.fill,d=a.isRotated;a=a.size;return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,d?k.rotated:k.notRotated),height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:c})]})})}l.displayName=l.name+" [from "+e.id+"]";l={make:l};function m(a){var c=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=c===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon,a),height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:c})})})})})})}m.displayName=m.name+" [from "+e.id+"]";m={make:m};function n(a){var c=a.fill,d=a.size;a=a.xstyle;a!==void 0&&b("bs_caml_option").valFromOption(a);a=c===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{fill:"none",height:String(d)+"px",viewBox:"3 2 20 20",width:String(d)+"px",children:j.jsx("path",{className:a,clipRule:"evenodd",d:"M14.307 7.485a5.102 5.102 0 017.205 7.223l-.01.01-4.717 4.583a1 1 0 01-1.394-1.434l4.711-4.578a3.102 3.102 0 00-4.39-4.38l-.018.016-8.094 7.71c-.802.81-.8 2.12.008 2.929.65.65 1.705.65 2.356 0l.01-.01 7.216-7.011a.64.64 0 00-.91-.901l-4.297 4.296a1 1 0 11-1.414-1.415l4.298-4.295A2.64 2.64 0 0118.6 13.96l-.01.011-7.219 7.012a3.666 3.666 0 01-5.178-.005 4.078 4.078 0 010-5.765l.017-.017 8.096-7.711z",fill:c,fillRule:"evenodd"})})}n.displayName=n.name+" [from "+e.id+"]";n={make:n};function o(a){return j.jsx(b("MWIcon.react"),{color:"primary",icon:b("fbicon")._(g("528566"),20)})}o.displayName=o.name+" [from "+e.id+"]";o={make:o};function p(a){return j.jsx(b("MWIcon.react"),{color:"primary",icon:b("fbicon")._(g("481942"),20)})}p.displayName=p.name+" [from "+e.id+"]";p={make:p};function q(a){return j.jsx(b("MWIcon.react"),{color:"primary",icon:b("fbicon")._(g("550096"),20)})}q.displayName=q.name+" [from "+e.id+"]";q={make:q};function r(a){return j.jsx(b("MWIcon.react"),{color:"primary",icon:b("fbicon")._(g("624149"),20)})}r.displayName=r.name+" [from "+e.id+"]";r={make:r};function s(a){return j.jsx(b("MWIcon.react"),{color:"primary",icon:b("fbicon")._(g("577048"),20)})}s.displayName=s.name+" [from "+e.id+"]";s={make:s};function t(a){return j.jsx(b("MWIcon.react"),{color:"primary",icon:b("fbicon")._(g("480625"),20)})}t.displayName=t.name+" [from "+e.id+"]";e={make:t};f.styles=k;f.Gif=a;f.Sticker=c;f.Photo=d;f.MoreActions=l;f.Emoji=m;f.PaperclipSVG=n;f.Paperclip=o;f.Pin=p;f.Camera=q;f.Microphone=r;f.Poll=s;f.Currency=e}),null);
__d("WorkXMAContentContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext();function a(a){return i.Provider}function c(a){return h.useContext(i)}f.xmaContentContext=i;f.getProvider=a;f.useHook=c}),null);
__d("MWChatPollFacepile.bs",["fbt","ix","CometPressable.react","CometTintedIcon.react","JSResource","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","WorkXMAContentContext.bs","bs_belt_Option","bs_caml_option","bs_curry","fbicon","react","stylex","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={contact:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu"},contactGapNegative:{marginStart:"xrzrlj5"},contactGapNormal:{marginStart:"xsgj6o6"},contactLarge:{height:"x10w6t97",width:"x1td3qas"},contactMedium:{height:"x1qx5ct2",width:"xw4jnvo"},contactSmall:{height:"x1v9usgg",width:"x6jxa94"},contactWithBoarder:{borderTop:"xifua3y",borderEnd:"x4l9i0w",borderBottom:"xuf84vp",borderStart:"x1bf0f5m"},overflow:{backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"xk50ysn",lineHeight:"x1u7k74",marginStart:"xrzrlj5",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"xurb0ha"},overflowOverlay:{alignItems:"x6s0dn4",backgroundColor:"xdit8p8",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",opacity:"x1us6l5c",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm"},photoWrap:{display:"x1rg5ohu",position:"x1n2onr6"},root:{display:"x78zum5"},rootReversed:{flexDirection:"x15zctf7"}};function m(a){var c=a.align,d=a.children,e=a.position;a=a.tooltip;if(a!==void 0)return k.jsx(b("MWTooltip.react"),{align:function(){switch(c){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:function(){switch(e){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),tooltip:b("bs_caml_option").valFromOption(a),children:d});else return d}c={make:m};function a(a){var c=a.gap,d=a.direction,e=a.limit,f=a.contactWithBorder,i=a.overflowStyle,n=a.contacts,o=a.countOverride,p=a.optionId,q=a.size,r=c!==void 0?c:"normal",s=d!==void 0?d:"normal",t=e!==void 0?e:2,u=f!==void 0?f:!0,v=i!==void 0?i:"showTotalCount",w=n.length>t;if(w&&v==="showTotalCount"){a=n.slice(0,-t|0).reverse().filter(function(a){return a.name!==void 0}).map(function(a){a=a.name;if(a!==void 0)return a;else return""});c=a.length===0?void 0:b("bs_caml_option").some(k.jsx("ul",{children:a.map(function(a,b){return k.jsx("li",{children:a},String(b))})}));d=k.jsx(m,{align:"middle",position:"above",tooltip:c,children:k.jsx("div",{className:(j||(j=b("stylex")))(l.overflow),children:"+"+String((o!==void 0?o:n.length)-2|0)})})}else d=null;e=k.jsxs(b("MWTooltipGroup.react"),{children:[d,n.slice(-(w?t:1e3)|0).reverse().map(function(a,c){return k.jsxs("div",{className:(j||(j=b("stylex")))(l.photoWrap,r==="normal"?l.contactGapNormal:l.contactGapNegative,q==="medium"?l.contactMedium:q==="small"?l.contactSmall:l.contactLarge),children:[k.jsx(m,{align:"middle",position:"above",tooltip:b("bs_belt_Option").map(a.name,function(a){return a}),children:k.jsx("img",{className:j(l.contact,q==="medium"?l.contactMedium:q==="small"?l.contactSmall:l.contactLarge,u?l.contactWithBoarder:!1),src:a.profile_picture_url})}),w&&v==="overlayLastPhoto"&&c===(t-1|0)?k.jsx("div",{className:(j||(j=b("stylex")))(l.overflowOverlay),children:k.jsx(b("CometTintedIcon.react"),{color:"white",icon:b("fbicon")._(h("484386"),16)})}):null]},String(c))})]});var x=b("WorkXMAContentContext.bs").useHook();f=k.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context);var y=f.setIsDialogOpened,z=f.setFocused;if(p!==void 0&&x!==void 0){i=b("useCometLazyDialog")(b("JSResource")("ChatLSGeminiChatPollFacepileDialog.react").__setRef("MWChatPollFacepile.bs"));var A=i[0];return k.jsx(b("CometPressable.react"),{"aria-label":g._("__JHASH__WPE2y-osfy7__JHASH__").toString(),onPress:function(a){b("bs_curry")._1(y,function(a){return!0});return A({onHide:function(a){b("bs_curry")._1(y,function(a){return!1});return b("bs_curry")._1(z,function(a){return!0})},optionId:p,pollId:x},function(a){})},overlayDisabled:!0,xstyle:function(a){return[l.root,s==="reversed"?l.rootReversed:!1]},children:e})}return k.jsx("div",{className:(j||(j=b("stylex")))(l.root,s==="reversed"?l.rootReversed:!1),children:e})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.styles=l;f.ConditionalTooltip=c;f.make=d}),null);
__d("MWGroupMembershipListItem.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.TAG===0)return a._0.isAdmin;else return a._0.isAdmin}function b(a){if(a.TAG===0)return a._0.isModerator;else return a._0.isModerator}function c(a){if(a.TAG===0)return a._1.id;else return a._0.contactId}f.isAdmin=a;f.isModerator=b;f.contactId=c}),null);
__d("MWGroupMembershipListItemWrapper",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.tag){case"ParticipantAndContact":return{_0:a.value[0],_1:a.value[1],TAG:0};case"CommunityMember":return{_0:a.value,TAG:1}}}f.tToRE=a}),66);
__d("MWLSGroupMembershipMemberCell.bs",["fbt","ix","CometLazyPopoverTrigger.react","CometMiddot.react","GenderConst","JSResource","LSContactBlockedByViewerStatus.bs","LSContactGenderToGenderConst.bs","LSGroupParticipantJoinState.bs","LSMediaUrl.bs","LSWhatsAppConnectStatus.bs","MAWThreadCutover.bs","MDSListCell.react","MDSTextPairing.react","MWCMThreadTypes.bs","MWGroupMembershipListItem.bs","MWIcon.react","MWInboxRouteBuilder.bs","MWLSContactTypeExactUtils.bs","MWProfilePhoto.react","MWText.react","bs_belt_Option","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","fbicon","getFBTSafeGenderFromGenderConst","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=null;function l(a){return j.useMemo(function(){var c=a.filter(function(a){return a!==k}),d=c.length;if(d===0)return;else return b("bs_caml_option").some(c.map(function(a,c){return j.jsxs(j.Fragment,{children:[c!==0?j.jsx(b("CometMiddot.react"),{}):null,a]},String(c))}))},[a])}function a(a){var c=a.showInvitedByViewerOnly,d=a.folder,e=a.isMAWParticipantSuperAdmin,f=a.isSecure,i=a.membershipListItem,m=a.onClose,n=a.showAdminIndicator,o=a.showModeratorIndicator;a=a.thread;c=c!==void 0?c:!1;var p=b("bs_int64").to_string(b("MWGroupMembershipListItem.bs").contactId(i)),q=b("MAWThreadCutover.bs").useGetCutoverSecureThreadKey(p),r=q!==void 0?b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildE2EEThreadURL,{thread_key:q}):b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:p});q=b("MWGroupMembershipListItem.bs").isAdmin(i);p=q!==void 0?q:!1;q=b("MWGroupMembershipListItem.bs").isModerator(i);q=q!==void 0?q:!1;if(i.TAG===0){var s=i._1,t=i._0,u=s.secondaryName;u=[b("bs_caml").i64_neq(s.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked),b("bs_caml").i64_eq(s.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappNotAddressable),b("bs_caml_obj").caml_equal(t.isSuperAdmin,!0),b("bs_caml").i64_eq(t.groupParticipantJoinState,b("LSGroupParticipantJoinState.bs").invited),b("LSContactGenderToGenderConst.bs").make(s.gender),u!==void 0&&b("MWLSContactTypeExactUtils.bs").isIgContact(s)?u:k,t.subscribeSource,s.name,b("LSMediaUrl.bs").Contact.profilePictureUrl(s)]}else{t=i._0;s=t.nickname;u=[b("bs_belt_Option").getWithDefault(t.isBlocked,!1),!1,!1,!1,b("GenderConst").NOT_A_PERSON,k,void 0,s!==void 0?s:t.name,b("bs_belt_Option").getWithDefault(t.profilePictureUrl,"<PLACEHOLDER>")]}var v=u[8],w=u[7];s=u[6];var x=u[4];t=u[3];var y=u[2],z=g._("__JHASH__3WTOYPxVm2l__JHASH__"),A=g._("__JHASH__J1b76x4xKfs__JHASH__"),B=b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType),C,D=0;f?u[1]?t?D=1:C=g._("__JHASH__Ai4p9Jl-Ya6__JHASH__").toString():t?C=g._("__JHASH__HSm7vqMGwVL__JHASH__").toString():D=1:D=1;if(D===1){D=0;s!==void 0&&y?C=B?z:s:D=2;if(D===2){D=0;p&&n?C=z:D=3;D===3&&(C=q&&o?A:k)}}var E=l([u[5],C,u[0]?g._("__JHASH__iywW1hlnypb__JHASH__"):k,s!==void 0&&!y&&!B?s:k]),F=f&&t&&!c;p={isMAWParticipantSuperAdmin:e,membershipListItem:i,onClose:m,onCloseDialog:m,thread:a};d!==void 0&&(p.folder=b("bs_caml_option").valFromOption(d));return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWLSGroupMembershipMenu.react").__setRef("MWLSGroupMembershipMemberCell.bs"),popoverProps:p,popoverType:"menu",align:"end",preloadTrigger:"button",children:function(a,c,d,e,f,i,k){return j.jsx(b("MDSListCell.react"),{addOnStart:j.jsx(b("MWProfilePhoto.react"),{shape:"circle",alt:w,size:36,source:{uri:v},linkProps:{onNavigate:m,url:r}}),addOnEnd:j.jsx(b("MWIcon.react"),{"aria-label":g._("__JHASH__-R08aUV4n3s__JHASH__",[g._name("name",w,b("getFBTSafeGenderFromGenderConst")(x))]),icon:b("fbicon")._(h("484388"),24),onPress:function(a){return b("bs_curry")._1(c)},onPressIn:b("bs_curry").__1(i),onHoverIn:b("bs_curry").__1(e),onHoverOut:function(a){return b("bs_curry")._1(f)},testid:void 0,color:"secondary",ref:a}),addOnEndVerticalAlign:"center",content:E!==void 0?j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MWText.react"),{color:F?"disabled":"secondary",type:"body4",children:b("bs_caml_option").valFromOption(E)}),headline:j.jsx(b("MWText.react"),{color:F?"disabled":"primary",type:"headline4",children:w}),level:4}):j.jsx(b("MWText.react"),{type:"headline4",numberOfLines:1,children:w}),testid:void 0,verticalAlign:E===void 0?"center":"top",size:"medium"})}})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.empty=k;f.useSubTitle=l;f.make=c}),null);
__d("MWLSGroupMembershipMemberList.bs",["LSGroupParticipantJoinState.bs","LSMessagingThreadTypeUtil.bs","MAWThreadId.bs","MWGroupMembershipListItem.bs","MWLSGroupMembershipMemberCell.bs","Promise","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:2629","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onClose,d=a.doSortParticipants,e=a.folder,f=a.participantsAndContacts,g=a.showAdmodIndicator,i=a.showAdmodsOnly,j=a.showInvitedByViewerOnly,k=a.thread,l=c!==void 0?c:function(a){};a=d!==void 0?d:!0;c=h.useState(function(){});var m=c[1],n=c[0];d=a?f.slice(0).sort(function(a,b){if(a.TAG===0)if(b.TAG===0)return a._1.name.localeCompare(b._1.name);else return 0;else if(b.TAG===0)return 0;else return a._0.name.localeCompare(b._0.name)}):f.slice(0);c=i?d.filter(function(a){var c=b("MWGroupMembershipListItem.bs").isAdmin(a);c=c!==void 0?c:!1;a=b("MWGroupMembershipListItem.bs").isModerator(a);a=a!==void 0?a:!1;if(c)return!0;else return a}):j?d.filter(function(a){a=a.TAG===0?a._0.groupParticipantJoinState:b("LSGroupParticipantJoinState.bs").member;return b("bs_caml").i64_eq(a,b("LSGroupParticipantJoinState.bs").invited)}):d;var o=b("LSMessagingThreadTypeUtil.bs").isSecure(k.threadType),p=b("useReStore")();h.useEffect(function(){!(b("cr:2629")==null)&&o&&b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(p,k.threadKey).then(function(a){if(a.TAG===0)return b("bs_curry")._1(b("bs_curry")._1(b("cr:2629").getGroupSuperAdmin,{threadId:a._0}).sendAndReceive).then(function(a){return b("bs_curry")._1(m,function(c){if(a==null)return;else return b("bs_caml_option").some(a)})});else return b("Promise").resolve()}))},[p,JSON.stringify(k.threadKey)]);return c.map(function(a){var c=b("MWGroupMembershipListItem.bs").contactId(a);a={isMAWParticipantSuperAdmin:o&&n!==void 0?n===b("bs_int64").to_string(c):!1,isSecure:o,membershipListItem:a,onClose:l,showAdminIndicator:g,showInvitedByViewerOnly:j,showModeratorIndicator:g,thread:k};e!==void 0&&(a.folder=b("bs_caml_option").valFromOption(e));return h.jsx(b("MWLSGroupMembershipMemberCell.bs").make,babelHelpers["extends"]({},a),b("bs_int64").to_string(c))})}c=a;f.$MAWBackendBridge$requireCondXplat=b("cr:2629");f.make=c}),null);
__d("MWLSGroupMembershipMemberList.re",["MWLSGroupMembershipMemberList.bs"],(function(a,b,c,d,e,f){a=b("MWLSGroupMembershipMemberList.bs").make;f.make=a}),null);
__d("MWCMBulkInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMBulkInviteDialog.react").__setRef("MWCMBulkInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMEditChatInfoDialogTrigger.bs",["CometCardedDialogLoadingState.re","CometEntryPointDialogTrigger.react","GroupsCometChatEditChatDialog.entrypoint","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.children;a=a.thread;return h.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:b("GroupsCometChatEditChatDialog.entrypoint"),fallback:function(a){return h.jsx(b("CometCardedDialogLoadingState.re").make,{})},otherProps:{enableEditNameOrDescription:!0,onClose:function(a){}},preloadParams:{threadID:b("bs_int64").to_string(a.threadKey)},children:c})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWCMLinkShare.bs",["fbt","C4gEngagementFalcoEvent.bs","CommunityMessagingEnableState.bs","FBID.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWCMUseFolder.bs","URI","XGroupsC4GThreadViewControllerRouteBuilder","bs_belt_Option","bs_caml","bs_curry","bs_int64","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){var c=a.children,d=a.folder;a=a.thread;var e=b("bs_int64").to_string(d.fbGroupId),f=b("bs_int64").to_string(a.threadKey);d=j.useMemo(function(){return new(i||(i=b("URI")))(b("XGroupsC4GThreadViewControllerRouteBuilder").buildURL({idorvanity:e,thread_id:b("FBID.bs").ofString(f)})).setDomain("www.facebook.com").toString()},[e,f]);a=b("bs_curry")._1(b("useCopyText"),{value:d});var h=a[2];d=function(a){b("bs_curry")._1(h),b("C4gEngagementFalcoEvent.bs").log(function(){return{action:"tap",event:"thread_user_copy_invite_link",group_id:b("FBID.bs").ofString(e),source:"copy_link",surface:"thread_settings",thread_id:b("FBID.bs").ofString(f)}}),b("cometPushToast").cometPushSimpleToast(g._("__JHASH___XzDeRLuNLt__JHASH__"))};return b("bs_curry")._2(c,a[1],d)}d={make:k};function l(a){return b("bs_caml").i64_eq(b("bs_belt_Option").getWithDefault(a,b("CommunityMessagingEnableState.bs").enabled),b("CommunityMessagingEnableState.bs").disableRequested)}function a(a){var c=b("MWCMUseFolder.bs").useHook(a),d=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDetailsShowChatInviteLink,a);return j.useMemo(function(){if(c!==void 0&&d)return!l(c.enableState);else return!1},[c])}function c(a){var c=a.children;a=a.thread;var d=b("MWCMUseFolder.bs").useHook(a),e=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDetailsShowChatInviteLink,a);if(d!==void 0&&e)return j.jsx(k,{folder:d,thread:a,children:c});else return null}e=c;f.Impl=d;f.isCommunityScheduledForRemoval=l;f.useShouldShowInviteLink=a;f.make=e}),null);
__d("MWMemberListGlimmer.react",["CometGlimmer.react","MDSListCell.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={nameGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"x1oux285"},profileGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xc9qbxq",width:"x14qfxbe"}};function a(){return new Array(3).fill("").map(function(a,b){return h.jsx(c("MDSListCell.react"),{addOnStart:h.jsx(c("CometGlimmer.react"),{index:0,xstyle:i.profileGlimmer}),content:h.jsx(c("CometGlimmer.react"),{index:1,xstyle:i.nameGlimmer}),size:"medium"},b)})}g["default"]=a}),98);
__d("MWCMInboxInfoMemberList.react",["fbt","ix","CometLazyDialogTrigger.react","I64","JSResourceForInteraction","MDSListCell.react","MDSText.react","MWGroupMembershipListItemWrapper","MWLSGroupMembershipMemberList.re","MWMemberListGlimmer.react","ReQL","ReQLSuspense","TetraIcon.react","fbicon","react","useCommunityMembers","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect;function a(a){var b=a.folder;a=a.thread;var e=c("useReStore")();d("useCommunityMembers").useFetchCommunityMembers(b.fbGroupId,a);var f=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("community_members").index("communitySource")).getKeyRange(b.fbGroupId,d("I64").of_int32(7)).take(15)},[e,b.fbGroupId]),g=d("useCommunityMembers").useClearMemberList(),l=d("I64").to_string(a.threadKey);k(function(){g();return function(){g()}},[l,g]);return f.length===0?j.jsx(c("MWMemberListGlimmer.react"),{}):j.jsxs(j.Fragment,{children:[j.jsx(d("MWLSGroupMembershipMemberList.re").make,{doSortParticipants:!1,participantsAndContacts:f.map(function(a){return d("MWGroupMembershipListItemWrapper").tToRE({tag:"CommunityMember",value:a})}),showAdmodIndicator:!0,showAdmodsOnly:!1,showInvitedByViewerOnly:!1,thread:a}),j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{folder:b},dialogResource:c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react").__setRef("MWCMInboxInfoMemberList.react"),children:function(a){return j.jsx(c("MDSListCell.react"),{addOnStart:j.jsx("div",{className:"x14qfxbe xl56j7k xc9qbxq x78zum5 xww2gxu x18nykt9 xudhj91 x14yjl9h xljulmy x6s0dn4",children:j.jsx(c("TetraIcon.react"),{icon:d("fbicon")._(i("485094"),24)})}),content:j.jsx(c("MDSText.react"),{type:"headline4",children:h._("__JHASH__BN54OIlz3MA__JHASH__")}),onPress:function(b){a()},size:"medium"})}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMInboxInfoMemberList.bs",["MWCMInboxInfoMemberList.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWCMInboxInfoMemberList.react");f.make=a}),null);
__d("FDSMembersSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";a=b("fbicon")._(g("483769"),20);c={icon:a};f.Add=c}),null);
__d("MWAddMemberToGroupDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","LSDatabaseType.bs","MWLSDatabaseLazySync.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.children;a=a.thread;var d=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking),e=h.useRef(null);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{onClose:i,thread:a},dialogResource:b("JSResource")("MWAddParticipantDialogForJSResource.react").__setRef("MWAddMemberToGroupDialogTrigger.bs"),children:function(a){return b("bs_curry")._2(c,function(c){b("bs_curry")._1(d);return b("bs_curry")._1(a)},e)}})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.onClose=i;f.make=c}),null);
__d("MWMembersSectionIcons.bs",["cr:11273"],(function(a,b,c,d,e,f){"use strict";a=b("cr:11273").Add;f.$MDSMembersSectionIcons$OR$FDSMembersSectionIcons$requireCond=b("cr:11273");f.Add=a}),null);
__d("MWInboxInfoMemberList.bs",["fbt","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating","MDSListCell.react","MWAddMemberToGroupDialogTrigger.bs","MWCMThreadTypes.bs","MWGroupLimitContainer.bs","MWIcon.react","MWLSFeatureLimitedStatus.bs","MWLSGroupMembershipMemberList.bs","MWMembersSectionIcons.bs","MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs","MWText.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("__JHASH__P1CnLTqi4fK__JHASH__");function k(a){a=a.thread;return i.jsx(b("MWGroupLimitContainer.bs").make,{groupLimitReachedContent:i.jsx(b("MDSListCell.react"),{content:i.jsx(b("MWText.react"),{color:"secondary",type:"body4",testid:void 0,children:g._("__JHASH____m4bWP_4pT__JHASH__")}),size:"medium"}),thread:a,children:i.jsx(b("MWAddMemberToGroupDialogTrigger.bs").make,{thread:a,children:function(a,c){return i.jsx(b("MDSListCell.react"),{addOnStart:i.jsx("div",{className:"x14qfxbe xl56j7k xc9qbxq x78zum5 xww2gxu x18nykt9 xudhj91 x14yjl9h xljulmy x6s0dn4",children:i.jsx(b("MWIcon.react"),{icon:b("MWMembersSectionIcons.bs").Add.icon})}),content:i.jsx(b("MWText.react"),{type:"headline4",children:j}),size:"medium",onPress:function(c){return b("bs_curry")._1(a)},ref:c})}})})}k.displayName=k.name+" [from "+e.id+"]";c={make:k};function a(a){a=a.thread;var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);c=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!c||b("MAWGating").isFeatureLimitEnabled());var d=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addMember,a),e=b("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs").useValue(a),f=!b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType);return i.jsxs(i.Fragment,{children:[i.jsx(b("MWLSGroupMembershipMemberList.bs").make,{thread:a,showAdmodsOnly:!1,showAdmodIndicator:f,showInvitedByViewerOnly:!1,participantsAndContacts:e.map(function(a){return{_0:a[0],_1:a[1],TAG:0}})}),!c&&d?i.jsx(k,{thread:a}):null]})}d=a;f.AddPeopleButton=c;f.make=d}),null);
__d("MWInboxInfoMembersSection.bs",["fbt","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWCollapsible.bs","MWInboxInfoMemberList.bs","MWInboxPersistedUIState","MWPBumpEntityKey.bs","bs_belt_Option","bs_curry","bs_int64","cr:2416","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j="__MWInboxInfoMembersSection.isOpen__";function a(a){a=a.thread;var c=b("MWInboxPersistedUIState").usePersistedUIState(!1,j),d=c[1],e=c[0];c=b("MWCMUseFolder.bs").useHook(a);var f=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType),h=b("MWCMThreadTypes.bs").isBroadcastThread(a.threadType),k,l=0;b("cr:2416")==null||!(c!==void 0&&f)?l=1:k=i.jsx(b("cr:2416").make,{folder:c,thread:a});l===1&&(k=i.jsx(b("MWInboxInfoMemberList.bs").make,{thread:a}));l=b("bs_belt_Option").mapWithDefault(a.memberCount,"",function(a){return"("+b("bs_int64").to_string(a)+")"});return i.jsx(b("MWCollapsible.bs").make,{isOpen:e,label:c!==void 0?h?g._("__JHASH__xl4TrC_gZzb__JHASH__",[g._param("member_count",l)]):f?g._("__JHASH__vIXzo8z-i9s__JHASH__",[g._param("member_count",l)]):g._("__JHASH__4d9xLPGdRx4__JHASH__"):g._("__JHASH__4d9xLPGdRx4__JHASH__"),onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","chat_members_section."+(e?"close":"open"));return b("bs_curry")._1(d,function(a){return!a})},children:k})}a.displayName=a.name+" [from "+e.id+"]";c=b("cr:2416");d=a;f.$MWCMInboxInfoMemberList$requireCond=b("cr:2416");f.mWCMInboxInfoMemberList=c;f.storageKey=j;f.make=d}),null);
__d("LsFalcoEventEntryPoint.bs",[],(function(a,b,c,d,e,f){"use strict";a="message_actions";b="composer";c="icebreaker";f.messageActions=a;f.composer=b;f.icebreaker=c}),null);
__d("MWV2ComposerFileButton.bs",["fbt","CometFileSelector.re","CometPressable.react","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4"},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha"}},k=g._("__JHASH__irWVZkNfl97__JHASH__");function l(a){return i.useCallback(function(c){c=Array.from(c);if(c.length>0)return b("bs_curry")._1(a,c)},[a])}function a(a){var c=a.color,d=a.disabled,e=a.onAttachmentsAdded;a=a.supportedFileTypes;e=l(e);e={children:function(a){return i.jsx(b("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(b("CometPressable.react"),{"aria-label":k,disabled:d,onPress:function(c){return b("bs_curry")._1(a)},overlayRadius:"50%",testid:void 0,xstyle:function(a){return[b("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").Photo.make,{fill:d?void 0:c,size:20})})})},multiple:!0,onFilesSelected:e};a!==void 0&&(e.accept=b("bs_caml_option").valFromOption(a));return i.jsx(b("CometFileSelector.re").make,babelHelpers["extends"]({},e))}a.displayName=a.name+" [from "+e.id+"]";c=a;f.label=k;f.useOnFilesSelected=l;f.make=c}),null);
__d("MWV2ComposerGifButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4"},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha"}},k=g._("__JHASH__J6q-Bfr0oTE__JHASH__");function l(a,c,d,e){return b("LSDict").fromObject({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:c,preview_url:a,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:d})}function m(a){return i.useCallback(function(c){var d=b("bs_caml_format").caml_int64_of_string(c.platformFBID),e=c.source.url;return b("bs_curry").app(a,[void 0,void 0,void 0,void 0,d,e,b("bs_caml_option").some(l(e,b("bs_caml_int64").of_int32(c.source.height),b("bs_caml_int64").of_int32(c.source.width))),void 0,void 0,void 0,void 0])},[a])}function a(a){var c=a.color,d=a.disabled,e=a.isSecureThread;a=a.onSendMessage;a=m(a);return i.jsx(b("CometLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{isSecureThread:e,onSelect:b("bs_curry").__1(a),testid:"mw_gif_picker"},popoverResource:b("JSResource")("MWChatAnimatedImageFlyout.react").__setRef("MWV2ComposerGifButton.bs"),position:"above",children:function(a,e,f,g,h,l,m){return i.jsx(b("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(b("CometPressable.react"),{"aria-label":k,disabled:d,onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(h)},onPress:function(a){return b("bs_curry")._1(e)},onPressIn:b("bs_curry").__1(l),overlayRadius:"50%",ref:a,xstyle:function(a){return[b("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").Gif.make,{fill:d?void 0:c,size:20})})})}})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.label=k;f.useOnGifSelect=m;f.make=c}),null);
__d("MWV2ComposerStickerButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWTooltip.react","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4"},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha"},flyoutRoot:{width:"x1fepime"}},l=g._("__JHASH__430IPCMJAf3__JHASH__");function m(a,c,d,e){return b("LSDict").fromObject({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:c,preview_url:a,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:d})}function n(a,c){return j.useCallback(function(d){return function(e,f){e=f.animated_uri;e=b("bs_belt_Option").isSome(e)?e:f.uri;if(c)return b("bs_curry").app(a,[void 0,void 0,b("bs_caml_format").caml_int64_of_string(d),void 0,void 0,b("bs_belt_Option").getExn(e),void 0,void 0,void 0,void 0,void 0]);else return b("bs_curry").app(a,[void 0,void 0,b("bs_caml_format").caml_int64_of_string(d),void 0,void 0,void 0,b("bs_caml_option").some(m(e,[0,128],[0,128])),void 0,void 0,void 0,void 0])}},[a,c])}function a(a){var c=a.color,d=a.disabled,e=a.onSendMessage;a=a.useSecureSend;e=n(e,a);return j.jsx(b("CometLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,onVisibilityChange:function(a){},popoverProps:{className:(i||(i=b("stylex")))(k.flyoutRoot),onClose:function(a){},onStickerSelect:e,shouldHideDefaultPacks:a},popoverResource:b("JSResource")("MWChatStickersFlyoutForJSResource.react").__setRef("MWV2ComposerStickerButton.bs"),position:"above",children:function(a,e,f,g,h,i,m){return j.jsx(b("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:j.jsx(b("CometPressable.react"),{"aria-label":l,disabled:d,onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(h)},onPress:function(a){return b("bs_curry")._1(e)},onPressIn:b("bs_curry").__1(i),overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(a){return[b("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:j.jsx(b("MWChatComposerIcons.bs").Sticker.make,{fill:d?void 0:c,size:20})})})}})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=k;f.label=l;f.useOnStickerSelect=n;f.make=c}),null);
__d("FBLikeSvgIcon.bs",["bs_caml_option","react","uniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.className,d=a.color,e=a.size;a=a.title;e=e!==void 0?e:"20";var f=a!==void 0?b("bs_caml_option").valFromOption(a):null;a=h.useState(function(){if(f===null)return;else return b("uniqueID")()});a=a[0];return h.jsxs("svg",{"aria-labelledby":a,className:c,height:e,viewBox:"0 0 16 16",width:e,children:[a!==void 0&&f!==null?h.jsx("title",{id:a,children:f}):null,h.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z",fill:d}),h.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z",fill:d})]})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWLikeSvgIcon.bs",["cr:1828791"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1828791").make;f.$MDSLikeSvgIcon$OR$FBLikeSvgIcon$requireCond=b("cr:1828791");f.make=a}),null);
__d("MessengerColors",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}f.makeRadialGradient=a;f.makeLinearGradient=b}),66);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(b("CurrentUser").isWorkUser())return"#373e4c";else return"#0099ff"}function a(a){a=a.solid_color;if(a==null)return h();else return a}f.defaultColor=h;f.customColorOrBlue=a}),null);
__d("ReactDOMStyle.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d={};d[b]=c;return Object.assign({},a,d)}f.unsafeAddProp=a}),null);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","CurrentUser","MessengerColors","MessengerCustomColorUtils.bs","MessengerEnvironment","ReactDOMStyle.bs","gkx","react","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){return i.jsx("path",{d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a})}j.displayName=j.name+" [from "+e.id+"]";function a(a){a=a.color;a=j(a);if(b("MessengerEnvironment").messengerui&&!b("CurrentUser").isWorkUser()||b("gkx")("1072568"))return i.jsx("svg",{className:"_7oal",width:"36px",height:"36px",viewBox:"0 1 36 36",children:a});else return i.jsx("svg",{width:"32px",height:"32px",viewBox:"0 0 36 36",children:a})}function c(a){var c;a=a.thread;var d=i.useState(function(){return b("uniqueID")()});d=d[0];var e=j("black");c=(c=b("ReactDOMStyle.bs")).unsafeAddProp(c.unsafeAddProp(c.unsafeAddProp(c.unsafeAddProp(b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor()),"backgroundAttachment","fixed"),"height","95%"),"width","95%"),"margin","auto");return i.jsxs(i.Fragment,{children:[i.jsxs("svg",{viewBox:"0 0 36 36",style:{height:"100%",position:"absolute",width:"100%"},children:[i.jsxs("mask",{id:d,children:[i.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),e]}),i.jsx("rect",{className:"_8rsr",width:"100%",height:"100%",mask:"url(#"+d+")",fill:"white"})]}),i.jsx("div",{style:c})]})}c.displayName=c.name+" [from "+e.id+"]";d=a;g=c;f.pathHotLike=j;f.make=d;f.makeWithGradient=g}),null);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.bs","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=i._("__JHASH__fqLNX_G5Htn__JHASH__");function a(a){var c=a.className;a=a.color;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=b("CurrentUser").isWorkUser()?"#373e4c":b("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");a={children:k.jsx(b("MWLikeSvgIcon.bs").make,{color:d,size:"100%",title:l}),className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_1i1j")};a["data-testid"]="messenger_hotlike_svg";return k.jsx("div",babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+e.id+"]";c="transparent";d=a;f.cTRANSPARENT=c;f.label=l;f.make=d}),null);
__d("MessengerHotLikeSVGReact.re",["MessengerHotLikeSVGReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerHotLikeSVGReact.bs").make;f.make=a}),null);
__d("LsActionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,30],G=[0,31],H=[0,32],I=[0,33],J=[0,34],K=[0,35],L=[0,36],M=[0,37],N=[0,38],O=[0,39],P=[0,40],Q=[0,41],R=[0,42],S=[0,43],T=[0,44],U=[0,45],V=[0,46],W=[0,47],X=[0,48],Y=[0,49],Z=[0,50],$=[0,51],aa=[0,52],ba=[0,53],ca=[0,54],da=[0,55],ea=[0,56],fa=[0,57],ga=[0,58],ha=[0,59],ia=[0,60],ja=[0,61],ka=[0,62],la=[0,63],ma=[0,64],na=[0,65],oa=[0,66],pa=[0,67],qa=[0,68],ra=[0,69],sa=[0,70],ta=[0,71],ua=[0,72],va=[0,73],wa=[0,74],xa=[0,75],ya=[0,76],za=[0,77],Aa=[0,78],Ba=[0,79],Ca=[0,80],Da=[0,81],Ea=[0,82],Fa=[0,83],Ga=[0,84],Ha=[0,85],Ia=[0,86];f.unknown=a;f.accept=c;f.add=d;f.call=e;f.callAgain=b;f.callBack=g;f.camera=h;f.collapse=i;f.decline=j;f.delete_=k;f.expand=l;f.joinCall=m;f.joinVideoChat=n;f.mute=o;f.play=p;f.rateTranslation=q;f.reaction=r;f.retry=s;f.save=t;f.saveAll=u;f.saveToFb=v;f.seek=w;f.send=x;f.share=y;f.tranferCall=z;f.translate=A;f.unmute=B;f.videoChat=C;f.view=D;f.viewProfile=E;f.wave=F;f.postback=G;f.openUrl=H;f.openNative=I;f.close=J;f.adClick=K;f.adHide=L;f.pause=M;f.quickReplyText=N;f.copy=O;f.forward=P;f.report=Q;f.viewPack=R;f.openExtension=S;f.piiNative=T;f.piiWebview=U;f.openMenu=V;f.block=W;f.unblock=X;f.accountLink=Y;f.accountUnlink=Z;f.addToCalendar=$;f.closeBrowser=aa;f.getContext=ba;f.beginShareflow=ca;f.askPermission=da;f.getGrantedPermissions=ea;f.getSupportedFeatures=fa;f.quickReplyUserInfo=ga;f.reactionUpdate=ha;f.reactionDelete=ia;f.reactionNew=ja;f.openReceipt=ka;f.getStarted=la;f.iceBreaker=ma;f.newConversation=na;f.nextConversation=oa;f.previousConversation=pa;f.openSettings=qa;f.customerFeedback=ra;f.submit=sa;f.guestChatHistory=ta;f.editCustomizeReaction=ua;f.enterCustomizeReaction=va;f.exitCustomizeReaction=wa;f.openAppLink=xa;f.iceBreakerCta=ya;f.enterSkinTonePicker=za;f.selectSkinTonePicker=Aa;f.emojiSearchTap=Ba;f.enterOverreactTray=Ca;f.exitOverreactTray=Da;f.customerInformation=Ea;f.bump=Fa;f.unbump=Ga;f.favorite=Ha;f.unfavorite=Ia}),null);
__d("StickerConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120})}),null);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","JSResource","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.re","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","lazyLoadComponent","nullthrows","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").Suspense,l=c("lazyLoadComponent")(c("JSResource")("StickerPopoverImage.react").__setRef("Sticker.react")),m=c("lazyLoadComponent")(c("JSResource")("GeoPopover.react").__setRef("Sticker.react")),n=83;a=5e3;var o=10,p={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=j.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===p.LOAD_AND_HOVER||this.props.animationTrigger===p.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var b=c("Arbiter").subscribe(this.props.subscribedThreadID,function(b,c){a.isScrolledIntoView(c.scrollTop,c.viewHeight,c.top)});this.setState({unsubscribeID:b})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=function(){return!!this.__stopIntervalID};e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=this,b=new window.Image();b.onload=function(){a.$1&&!a.state.hasAnimated&&(a.setState({hasAnimated:!0}),a.__stopIntervalID=c("setIntervalAcrossTransitions")(a.incrementFrameIndex,a.props.frameRate))};c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?b.src=this.props.paddedSpriteURI:b.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-o<=b&&d+o>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===p.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:n;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===p.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===p.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a;return i._("__JHASH__XuqBXexse6H__JHASH__",[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel)])};e.render=function(){var a,b;this.props.animationTrigger===p.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===p.HOVER||this.props.animationTrigger===p.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))&&this.props.thread!=null?g=j.jsx(d("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,{thread:this.props.thread}):g=j.jsx(d("MessengerHotLikeSVGReact.re").make,{color:this.props.customColor}));f=j.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g});return this.props.enablePopoverIfPassesGK&&c("gkx")("4316")?j.jsx(m,{content:j.jsx(k,{fallback:"Loading...",children:j.jsx(l,{stickerID:c("nullthrows")(this.props.stickerID)})}),heading:"",isSticky:!1,children:f}):f};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(j.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:n,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),98);
__d("MessageSendClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1891340");c=b("FalcoLoggerInternal").create("message_send_click",a);e.exports=c}),null);/*FB_PKG_DELIM*/
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"add_messenger_contact",[0,308],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSDeleteReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(8).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.actorId,a[2])&&b.i64.eq([0,0],[0,0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],f,a[7],a[8],a[9],a[10],f,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.loopAsync(d[2],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,[0,20])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:[0,20]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],f)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUpsertReaction",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTask","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=[0,1],d[0]=d[18])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("timestamp_ms",a[1]),d[2].set("message_id",a[2]),d[2].set("actor_id",a[3]),d[2].set("reaction",a[4]),d[2].set("reaction_style",f),d[2].set("sync_group",d[0]),d[3]=c.createArray(),d[4]=(d[3].push("reaction"),d[3]),d[5]=d[2].get("message_id"),d[2],d[6]=(d[3].push(d[5]),d[3]),d[7]=c.toJSON(d[3]),c.sp(b("LSCancelTaskByQueueName"),d[7],[0,29])},function(e){return a[4]===""?c.seq([function(d){return c.sp(b("LSDeleteReaction"),a[0],a[2],a[3])},function(a){return d[8]=f}]):c.seq([function(e){return a[4]==="\u2764\ufe0f"||a[4]==="\u2764\ufe0f"?d[18]="\u2764":d[18]=a[4],c.sp(b("LSUpsertReaction"),a[0],a[1],a[2],a[3],d[18],[0,20])},function(a){return d[8]=f}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=[0,1]:(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=[0,1],d[9]=d[18])})},function(e){return d[11]=new c.Map(),d[11].set("thread_key",a[0]),d[11].set("timestamp_ms",a[1]),d[11].set("message_id",a[2]),d[11].set("actor_id",a[3]),d[11].set("reaction",a[4]),d[11].set("reaction_style",f),d[11].set("sync_group",d[9]),d[12]=c.createArray(),d[13]=(d[12].push("reaction"),d[12]),d[14]=d[11].get("message_id"),d[11],d[15]=(d[12].push(d[14]),d[12]),d[16]=c.toJSON(d[12]),d[17]=c.toJSON(d[11]),c.sp(b("LSIssueNewTask"),d[16],[0,29],d[17],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUpsertReactionV2",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[1]),d[0].set("message_id",a[2]),d[0].set("message_timestamp",a[3]),d[0].set("actor_id",a[0]),d[0].set("reaction_fbid",a[4]),d[0].set("reaction_style",a[7]),d[0].set("operation",a[8]),d[0].set("viewer_is_reactor",a[6]),d[0].set("current_count",a[5]),d[1]=c.createArray(),d[2]=(d[1].push("reaction_v2"),d[1]),d[3]=d[0].get("message_id"),d[0],d[4]=(d[1].push(d[3]),d[1]),d[5]=c.toJSON(d[1]),c.sp(b("LSCancelTaskByQueueName"),d[5],[0,604])},function(b){return c.i64.eq(a[8],[0,2])?d[6]=c.i64.add(a[5],[-1,4294967295]):d[6]=c.i64.add(a[5],[0,1]),c.i64.eq(a[8],[0,2])?d[7]=!1:d[7]=!0,c.db.table(226).fetch([[[a[1],a[2],a[4]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.db.table(12).fetch([[[a[2]]],"messageId"]).next().then(function(e,f){var b=e.done;e=e.value;return b?0:(f=e.item,c.seq([function(b){return c.fe(c.ftr(c.db.table(226).fetch([[[a[1],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[2]&&c.i64.eq(b.reactionFbid,a[4])&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(226).add({messageId:a[2],threadKey:a[1],reactionFbid:a[4],messageTimestamp:f.timestampMs,authorityLevel:[0,20],count:d[6],viewerIsReactor:d[7],viewerReactionTimestampMs:[0,0]})}]))}):(e=b.item,d[18]=e.messageTimestamp,d[16]=e.authorityLevel,c.i64.eq(d[16],[0,20])&&c.i64.eq([0,20],[0,60])||c.i64.eq(d[16],[0,60])&&c.i64.eq([0,20],[0,80])||c.i64.eq(d[16],[0,80])&&c.i64.eq([0,20],[0,20])||c.i64.eq(d[16],[0,80])&&c.i64.eq([0,20],[0,80])?d[17]=!0:d[17]=!1,d[17]?c.i64.neq(d[6],[0,0])?c.db.table(226).put({messageId:a[2],threadKey:a[1],reactionFbid:a[4],messageTimestamp:d[18],count:d[6],authorityLevel:[0,20],viewerIsReactor:d[7],viewerReactionTimestampMs:[0,0]}):c.fe(c.db.table(226).fetch([[[a[1],a[2],a[4],d[18]]]]),function(a){return a["delete"]()}):c.resolve())})},function(e){return d[8]=new c.Map(),d[8].set("thread_id",a[1]),d[8].set("message_id",a[2]),d[8].set("message_timestamp",a[3]),d[8].set("actor_id",a[0]),d[8].set("reaction_fbid",a[4]),d[8].set("reaction_style",a[7]),d[8].set("current_count",a[5]),d[8].set("viewer_is_reactor",a[6]),d[8].set("operation",a[8]),d[9]=c.createArray(),d[10]=(d[9].push("reaction_v2"),d[9]),d[11]=d[8].get("message_id"),d[8],d[12]=(d[9].push(d[11]),d[9]),d[13]=c.toJSON(d[9]),d[14]=c.toJSON(d[8]),c.sp(b("LSIssueNewTask"),d[13],[0,604],d[14],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?[0,1]:[0,3]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5586520694764051"}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdminActivityLogItemSeeDetailsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMWFilePDFDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4621251448002661"}),null);
__d("useMWFilePDFDataQuery$Parameters",["useMWFilePDFDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("useMWFilePDFDataQuery_facebookRelayOperation"),metadata:{},name:"useMWFilePDFDataQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometDialogLoadingState.react","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,i=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var m=a[0],n=a[1],o=a[2],p=(e=m)!=null?e:i,q=l(null);k(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){m?o():i.dispose(),q.current=null},6e4)}},[o,p.isDisposed,i,j,n,m]);b=babelHelpers["extends"]({},g,{onClose:f});return h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:i,props:b})}m.displayName=m.name+" [from "+f.id+"]";var n=function(a){return h.jsx(c("CometDialogLoadingState.react"),{onClose:a})};function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=j(c("CometDialogContext"));return i(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),o=m,p=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};g(c("CometSuspendedDialogImpl.react"),{dialog:o,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:(o=e)!=null?o:n},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(i=k)!=null?i:c("tracePolicyFromResource")("comet.dialog",a.root)},p)},[f,a,g,e,b])}g["default"]=a}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.adminActivityID,e=a.groupID;a=a.isManagementActivityLogTargetProfilePlus;c={UFI2CommentsProvider_commentsKey:"GroupsCometAdminActivityLogItem",adminActivityID:c,displayCommentsContextEnableComment:null,displayCommentsContextIsAdPreview:null,displayCommentsContextIsAggregatedShare:null,displayCommentsContextIsStorySet:null,displayCommentsFeedbackContext:null,feedbackSource:0,feedLocation:"GROUP_ADMIN_TO_MEMBER_FEEDBACK",focusCommentID:null,groupID:e,isManagementActivityLogTargetProfilePlus:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_admin_to_member_feedback",scale:d("WebPixelRatio").get(),useDefaultActor:!1};return{queries:{queryReference:{parameters:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters"),variables:c}}}},root:c("JSResourceForInteraction")("GroupsCometAdminActivityLogItemSeeDetailsDialog.react").__setRef("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")};g["default"]=a}),98);
__d("MessengerFileRoot.entrypoint",["JSResourceForInteraction","useMWFilePDFDataQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=babelHelpers["extends"]({},a.routeParams);return{queries:{queryReference:{parameters:b("useMWFilePDFDataQuery$Parameters"),variables:a}}}},root:c("JSResourceForInteraction")("MessengerFileRoot.react").__setRef("MessengerFileRoot.entrypoint")};g["default"]=a}),98);
__d("MWTooltipGroup.react",["cr:11874"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11874")}),98);
__d("MWFilePressableGlimmer.react",["BaseGlimmer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={darkFullScreen:{backgroundColor:"x1yi8jrw",height:"x5yr21d",position:"xixxii4",start:"x17qophe",top:"x13vifvy",width:"xh8yej3"},glimmer:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",height:"x1gnnpzl"},glimmerContainer:{paddingStart:"xvpee5o",paddingTop:"x1cnzs8",width:"xz84dc7"}};function a(){return h.jsx("div",{className:c("stylex")(i.darkFullScreen),children:h.jsx("div",{className:c("stylex")(i.glimmerContainer),children:h.jsx(c("BaseGlimmer.react"),{index:0,xstyle:i.glimmer})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFilePDFViewerModalWrapper.entrypoint",["JSResourceForInteraction","useMWFilePDFDataQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=babelHelpers["extends"]({},a.routeParams);return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:b("useMWFilePDFDataQuery$Parameters"),variables:a}}}},root:c("JSResourceForInteraction")("MWFilePDFViewerModalWrapper.react").__setRef("MWFilePDFViewerModalWrapper.entrypoint")};g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsxs(b("MDSSvgIcon.bs").make,{color:c,size:a,children:[h.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),h.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWChatFileIconV2.bs",["MDSSvgDocumentCompleteIcon.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{alignItems:"x6s0dn4",backgroundColor:"xgx9qek",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4"}};function a(a){return i.jsx("div",{className:(h||(h=b("stylex")))(j.icon),children:i.jsx(b("MDSSvgDocumentCompleteIcon.bs").make,{color:"primary",size:"24"})})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=j;f.make=c}),null);
__d("MWChatFilePreview.bs",["CometImageCover.react","MWChatFileIconV2.bs","bs_belt_Option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{paddingStart:"x1ye3gou"}};function a(a){var c=a.attachment,d=a.fileName;a=a.withPreview;var e={maxHeight:"148px",objectPosition:"top"},f=i.jsx("div",{className:(h||(h=b("stylex")))(j.icon),children:i.jsx(b("MWChatFileIconV2.bs").make,{})});c=b("bs_belt_Option").flatMap(c,function(a){return a.previewUrl});if(c===void 0)return f;if(!a)return f;a=b("bs_belt_Option").getWithDefault(d,"");return i.jsx(b("CometImageCover.react"),{alt:a,src:c,style:e})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=j;f.make=c}),null);
__d("MWChatImageInsetShadow.bs",["bs_caml_splice_call","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={imageShadow:{borderTop:"xa1me7u",borderEnd:"x13z1dwb",borderBottom:"xpkj8wx",borderStart:"x1g8y7dm",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy"}},k=[];function a(a){a=a.xstyle;var c=a!==void 0?a:k;a=i.useMemo(function(){return b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[[j.imageShadow].concat(c)])},[c]);return i.jsx("div",{className:a})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.empty=k;f.make=c}),null);
__d("MWChatVideoPlayer.bs",["MWChatVideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatVideoPlayer.react");f.make=a}),null);
__d("MWEncryptedUrl.bs",["invariant","Base64.bs","CancellablePromise.bs","CancellationToken.bs","Crypto.bs","Promise","bs_caml_option","bs_curry","bs_pervasives","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a,c,d){var e=i.useState(function(){if(c!==void 0)return;else return a}),f=e[1];i.useEffect(function(){var e=b("CancellationToken.bs").make(),h=0;if(c!==void 0&&a!==void 0){var i;i=(i=b("CancellablePromise.bs")).ignoreFailed(void 0,i.then_(e,function(a){var c;switch(d.TAG){case 1:c="data:image/jpeg;base64,";break;case 6:c="data:audio/wav;base64,";break;case 7:c="data:video/mp4;base64,";break;default:c=b("bs_pervasives").failwith("Unsupported attachment for encryptedUrl")}b("bs_curry")._1(f,function(d){return c+b("Base64.bs").fromArrayBuffer(a)});return b("Promise").resolve()},i.then_(e,function(a){var c=a[1],d=c.slice(0,2),e=c.slice(2,14);c=c.slice(14);return b("Crypto.bs").decrypt({additionalData:b("bs_caml_option").some(d),iv:e,name:"AES-GCM",tagLength:128},a[0],c)},i.then_(e,function(a){var d=b("Base64.bs").toArrayBuffer(c);d.byteLength===32||g(0,20660);return b("Promise").all([b("Crypto.bs").importKey("raw",d,{NAME:"Aes",VAL:"AES-GCM"},!1,["decrypt"]),b("Promise").resolve(a)])},i.then_(e,function(a){return a.arrayBuffer()},window.fetch(a))))));b("promiseDone")(i)}else h=1;h===1&&b("bs_curry")._1(f,function(b){return a});return e.cancel},[a,c,f]);return e[0]}c=128;f.aesGCMTagLength=c;f.useMaybeEncryptedUrl=a}),null);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("606");c=b("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e.exports=c}),null);
__d("MessengerFilePreviewGenerationFalcoEvent.bs",["MessengerFilePreviewGenerationFalcoEvent"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MessengerFilePreviewGenerationFalcoEvent").log(a)}function c(a){b("MessengerFilePreviewGenerationFalcoEvent").logAsync(a)}function d(a){b("MessengerFilePreviewGenerationFalcoEvent").logImmediately(a)}function e(a){b("MessengerFilePreviewGenerationFalcoEvent").logCritical(a)}f.log=a;f.logAsync=c;f.logImmediately=d;f.logCritical=e}),null);
__d("MWFileViewerLogger.bs",["FBID.bs","MessengerFilePreviewGenerationFalcoEvent.bs","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","gkx"],(function(a,b,c,d,e,f){"use strict";function c(c){c=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return b("bs_int64").to_string(b("bs_curry")._1(c))}var g=b("gkx")("1016");function h(a,c){if(g)return b("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){return{attachment_id:b("bs_caml_option").some(c.attachmentID),entry_point:c.entryPoint,event:a,filesize:b("bs_belt_Option").flatMap(c.attachment,function(a){return b("bs_belt_Option").map(a.filesize,b("bs_int64").to_string)}),filetype:b("bs_belt_Option").flatMap(c.attachment,function(a){return a.playableUrlMimeType}),is_rich_preview:c.isRichPreview,message_id:c.messageID.messageId,session_id:c.sessionId,thread_id:b("FBID.bs").ofString(b("bs_int64").to_string(c.thread.threadKey)),thread_type:b("bs_caml_int64").to_int32(c.thread.threadType)}})}function d(a){return h("file_viewer_click",a)}function e(a){return h("file_viewer_direct_download",a)}function i(a,c){if(g)return b("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){var d;return{attachment_id:(d=b("bs_caml_option")).some(c.attachmentId),entry_point:d.nullable_to_opt(c.entryPoint),event:a,file_pages:d.nullable_to_opt(c.filePages),filesize:d.nullable_to_opt(c.filesize),filetype:d.nullable_to_opt(c.filetype),message_id:c.messageId,session_id:c.sessionId,target_id:d.nullable_to_opt(c.targetId),thread_id:d.some(c.threadId),thread_type:d.nullable_to_opt(c.threadType)}})}function j(a){return i("file_viewer_impression",a)}function k(a){return i("file_viewer_fallback",a)}function l(a){return i("file_viewer_download_from_header",a)}function m(a){return i("file_viewer_download_from_fallback",a)}function n(a){return i("file_viewer_open_forward_dialog",a)}function o(a){return i("file_viewer_forward",a)}function p(a){if(g)return b("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){var c;return{attachment_id:(c=b("bs_caml_option")).some(a.attachmentId),entry_point:c.nullable_to_opt(a.entryPoint),event:"file_viewer_close",file_pages:c.nullable_to_opt(a.filePages),filesize:c.nullable_to_opt(a.filesize),filetype:c.nullable_to_opt(a.filetype),max_scroll_depth:c.nullable_to_opt(a.maxScrollDepth),message_id:a.messageId,session_duration:c.nullable_to_opt(a.sessionDuration),session_id:a.sessionId,thread_id:c.some(a.threadId),thread_type:c.nullable_to_opt(a.threadType)}})}f.generateSessionId=c;f.logFileViewerClick=d;f.logFileViewerDirectDownload=e;f.logFileViewerImpression=j;f.logFileViewerFallback=k;f.logFileViewerDownloadFromHeader=l;f.logFileViewerDownloadFromFallback=m;f.logFileViewerOpenForwardDialog=n;f.logFileViewerForward=o;f.logFileViewerClose=p}),null);
__d("MWFilePressableHooks.bs",["LSMediaUrl.bs","MWFileViewerLogger.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_curry","gkx","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("attachments")),{hd:a.threadId,tl:{hd:a.messageId,tl:0}}),1)},[c,a]))}function j(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a.threadId,tl:0}),1)},[c,a]))}function a(a,c,d,e,f,g){var k=i(a),l=j(a),m=b("bs_belt_Option").isSome(b("bs_belt_Option").flatMap(k,function(a){return b("LSMediaUrl.bs").Attachment.previewUrl(a)})),n=b("gkx")("1745"),o=m&&n;return h.useCallback(function(h){d!==void 0&&b("bs_curry")._1(d,h);h={attachment:k,attachmentID:c,entryPoint:e,isRichPreview:o,messageID:a,sessionId:f,thread:l};if(g)return b("MWFileViewerLogger.bs").logFileViewerDirectDownload(h);else return b("MWFileViewerLogger.bs").logFileViewerClick(h)},[l,k,f])}f.useOnPressHandler=a}),null);
__d("XCometMessengerFileControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_file/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWFilePressable.bs",["CometEntryPointDialogTrigger.react","CometErrorBoundary.re","CometPressable.react","CurrentEnvironment","FBID.bs","FBLogger","MWFilePDFViewerModalWrapper.entrypoint","MWFilePressableGlimmer.react","MWFilePressableHooks.bs","MWFileViewerLogger.bs","URI","XCometMessengerFileControllerRouteBuilder","bs_belt_Option","bs_caml_option","bs_curry","bs_int64","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f,g,h,j){return i.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:b("MWFilePDFViewerModalWrapper.entrypoint"),fallback:function(a){return i.jsx(b("MWFilePressableGlimmer.react"),{})},otherProps:{downloadUri:e,entryPoint:a,sessionID:h},preloadParams:{routeParams:{attachment_id:d,message_id:c.messageId,thread_id:b("bs_int64").to_string(c.threadId)}},children:function(a){var c={children:j,display:"inline",onPress:function(c){f!==void 0&&b("bs_curry")._1(f,c);return b("bs_curry")._1(a)},overlayDisabled:!0};g!==void 0&&(c.xstyle=b("bs_caml_option").valFromOption(g));return i.jsx(b("CometPressable.react"),babelHelpers["extends"]({},c))}})}j.displayName=j.name+" [from "+e.id+"]";function k(a,c,d,e,f,g,h,j){d=b("XCometMessengerFileControllerRouteBuilder").buildURL({attachment_id:d,message_id:c.messageId,thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadId))});c={downloadUri:e,entryPoint:a,sessionID:h};e={passthroughProps:c,url:d};a={children:j,display:"inline",linkProps:e,overlayDisabled:!0};f!==void 0&&(a.onPress=b("bs_caml_option").valFromOption(f));g!==void 0&&(a.xstyle=b("bs_caml_option").valFromOption(g));return i.jsx(b("CometPressable.react"),babelHelpers["extends"]({},a))}k.displayName=k.name+" [from "+e.id+"]";function l(a,c,d,e){a=b("bs_belt_Option").map(a,function(a){return{download:!0,target:"_blank",url:a}});e={children:e,display:"inline",overlayDisabled:!0};a!==void 0&&(e.linkProps=b("bs_caml_option").valFromOption(a));c!==void 0&&(e.onPress=b("bs_caml_option").valFromOption(c));d!==void 0&&(e.xstyle=b("bs_caml_option").valFromOption(d));return i.jsx(b("CometPressable.react"),babelHelpers["extends"]({},e))}l.displayName=l.name+" [from "+e.id+"]";function m(a,c,d,e,f,g,h){var i=b("gkx")("1745"),m=!i,n=b("MWFileViewerLogger.bs").generateSessionId();f=b("MWFilePressableHooks.bs").useOnPressHandler(c,d,f,a,n,m);m=b("CurrentEnvironment").facebookdotcom;if(i)if(m)return k(a,c,d,e,f,g,n,h);else return j(a,c,d,e,f,g,n,h);else return l(e,f,g,h)}function a(a){var c=a.attachmentID,d=a.children,e=a.entryPoint,f=a.messageID,g=a.onPress,j=a.url;a=a.xstyle;if(f!==void 0)switch(f.TAG){case 0:case 1:break;case 2:if(c!==void 0&&j!==void 0)return i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";b("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);(h||(h=b("URI"))).goURIOnNewWindow(new h(j))},children:m(e,f._0,b("bs_caml_option").valFromOption(c),j,g,a,d)});break}return l(j,g,a,d)}c=a;f.makeDialogTrigger=j;f.makePushViewLink=k;f.makeFilePressableDirectDownload=l;f.makeFilePressable=m;f.make=c}),null);
__d("MWLSPostbackCtaHandler.bs",["LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingSource.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWPActor.bs","MWThreadKey.bs","MessagingThreadType.bs","bs_caml_option","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=b("MWThreadKey.bs").useIdMemoizedExn(),f=b("LSMessagingInitiatingSourceHook.bs").useHook(),g=b("LSMessagingSource.bs").useHook();return h.useMemo(function(){return function(a,h){var i=b("LSThreadAttributionTypeUtil.bs").getSource(e,g);b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticSendMessage")(d,e,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,h,h,!1,void 0,void 0,void 0,void 0,i,void 0,a!==void 0?b("bs_caml_option").valFromOption(a):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,void 0,b("LS.bs").make(c))},"readWrite"))}},[c,d,e])}f.usePostbackCtaHandler=a}),null);
__d("MWLSLogMessageClick.bs",["LsActionCategory.bs","MWChatMessageId.bs","UserAgentData","bs_caml_int64","bs_caml_option","bs_int64","requireDeferred"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=d!==void 0?b("bs_caml_option").valFromOption(d):void 0;b("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWLSLogMessageClick.bs").onReady(function(d){d.log(function(){var d={};f!==void 0&&(d.action=f);d.browserName=b("UserAgentData").browserName;var e=b("MWChatMessageId.bs").getThreadId(a),g=b("MWChatMessageId.bs").getMessageId(a),h=b("MWChatMessageId.bs").getTimestamp(a);return{click:{category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click)},click_target:{type:b("bs_caml_int64").to_int32(c)},extra:JSON.stringify(d),message:{id:g!==void 0?g:"",sender_id:void 0,sent_time:h!==void 0?b("bs_caml_int64").to_float(h):void 0},thread:{id:e!==void 0?b("bs_int64").to_string(e):"",key:void 0,type:void 0},xma:void 0}})})}f.logMessageClicked=a}),null);
__d("MWChatReplyText.bs",["fbt","CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform.bs","bs_caml_option","bs_curry","cr:2382","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={replyToText:{color:"xi81zsa"}};function a(a){var c=a.transformEmoticons,d=a.isHotLike,e=a.ranges;a=a.text;c=c!==void 0?c:!0;d=d!==void 0?d:!1;var f={};f.MessengerTextFormatting=[b("MWChatTextFormatting").replyRenderer];a=b("cr:2382")==null?a:b("bs_curry")._1(b("cr:2382").unvault,a);var h=g._("__JHASH__HyRDoZftJu4__JHASH__").toString();d=d?h:a;h={maxLength:120,maxLines:2,renderers:f,text:d,transforms:c?b("MWChatTextTransform.bs").epdTextTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1};e!==void 0&&(h.ranges=b("bs_caml_option").valFromOption(e));a=j.jsx(b("CometTextWithEntities.react"),babelHelpers["extends"]({},h));return j.jsx("div",{className:(i||(i=b("stylex")))(k.replyToText),dir:"auto",children:a})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=k;f.$MAWVault$requireCond=b("cr:2382");f.make=c}),null);
__d("MWMessageRequestSharedTexts.bs",["fbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return g._("__JHASH__U0QsQTXo_Q6__JHASH__",[g._param("FBFullName",a)])}function b(a){return g._("__JHASH__ftbQaI1YVpP__JHASH__",[g._param("name",a)])}function c(a){return g._("__JHASH__9ycmorSoeEo__JHASH__",[g._param("FBShortName",a)])}f.getFBUserInfoTextMessage=a;f.getDefaultInfoTextFooter=b;f.getDeclineUserDialogText=c}),null);
__d("MWChatImageSize.bs",["bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=c!==void 0?c:!1,f=h.useRef();d=h.useState(function(){});var g=d[1];h.useEffect(function(){if(a===void 0)return;if(f.current===void 0&&!e){var c=new Image();c.src=a;c.onload=function(){return b("bs_curry")._1(g,function(a){return{height:c.naturalHeight,width:c.naturalWidth}})};f.current=b("bs_caml_option").some(c)}return function(a){b("bs_curry")._1(g,function(a){});a=f.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);a.onload=null}},[a,e,g]);return d[0]}f.useImageSize=a}),null);
__d("MWV2UseAreThreadContactsDualSendEligible.bs",["LSContactViewerRelationship.bs","LSInt64.bs","LSMessagingThreadTypeUtil.bs","LSWhatsAppConnectStatus.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_int64","bs_int64","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c,d,e){var f;return(f=b("ReQL.bs")).map(f.filter(f.map(f.leftJoin(f.getKeyRange(f.fromTableAscending(a.table("participants")),{hd:c,tl:0}),f.fromTableAscending(a.table("contacts"))),function(a){return a[1]}),function(a){if(a!==void 0&&b("bs_caml").i64_neq(a.id,e))if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(d))return b("bs_caml").i64_gt(b("bs_caml_int64").and_(a.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappDstEligible),b("LSWhatsAppConnectStatus.bs").whatsappAddressable);else if(b("bs_caml").i64_gt(b("bs_caml_int64").and_(a.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappGdstEligible),b("LSWhatsAppConnectStatus.bs").whatsappAddressable))if(b("bs_int64").equal(a.contactViewerRelationship,b("LSContactViewerRelationship.bs").facebookFriend))return!0;else return b("bs_int64").equal(a.contactViewerRelationship,b("LSContactViewerRelationship.bs").contactOfViewer);else return!1;else return!1}),function(a){return a})}function a(a,c,d,e){return b("ReQL.bs").toArray(i(a,d,e,c))}function c(a,c){var d=b("useReStore")(),e=b("MWPActor.bs").useActor();return b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").take(i(d,a,c,e),2)},[d,b("LSInt64.bs").string(a),b("LSInt64.bs").string(c)])).length}f.getEligibleContacts=a;f.useThreadEligiblity=c}),null);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWV2UseMediaViewerURL.bs",["FBID.bs","MessagingAttachmentType.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","bs_caml","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useMemo(function(){var c=b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").animatedImage);if(c)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:b("FBID.bs").ofStringExn(a.attachmentFbid),message_id:a.messageId,photo_ids:void 0});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:b("FBID.bs").ofStringExn(a.attachmentFbid),message_id:a.messageId,thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey))})},[JSON.stringify(a.threadKey),JSON.stringify(a.attachmentType),JSON.stringify(a.messageId),a.attachmentFbid])}f.useHook=a}),null);
__d("MWMessageListMediaPressableContainer.bs",["CometPressable.react","LSMediaUrl.bs","LSThreadCapabilityBitOffset.bs","MWPThreadCapabilitiesContext.bs","MessagingAttachmentType.bs","bs_caml","bs_caml_option","bs_curry","cr:956","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:956")==null?void 0:b("bs_caml_option").some(b("cr:956"));function a(a){var c=a.overlayDisabled,d=a.ariaLabel,e=a.attachment,f=a.children,g=a.linkProps_,j=a.onHoverIn,k=a.onPress,l=a.testid,m=a.xstyle;a=c!==void 0?c:!1;c=b("MWPThreadCapabilitiesContext.bs").useHook();c=b("gkx")("1581")&&b("bs_curry")._1(c,b("LSThreadCapabilityBitOffset.bs").blurMedia);var n=b("bs_caml").i64_eq(e.attachmentType,b("MessagingAttachmentType.bs").image),o=b("bs_caml").i64_eq(e.attachmentType,b("MessagingAttachmentType.bs").video);if(!(b("cr:956")==null)&&(n||o)&&c){n={children:f,onPress:k,overlayDisabled:a,type_:o?{_0:void 0,TAG:0}:{_0:void 0,TAG:1},url:b("LSMediaUrl.bs").Attachment.previewUrl(e),xstyle:m};l!==void 0&&(n.testid=b("bs_caml_option").valFromOption(l));d!==void 0&&(n.ariaLabel=b("bs_caml_option").valFromOption(d));g!==void 0&&(n.linkProps_=b("bs_caml_option").valFromOption(g));return h.jsx(i.make,n)}c={children:f,onPress:function(a){return b("bs_curry")._1(k)},overlayDisabled:a,xstyle:function(a){return m}};d!==void 0&&(c["aria-label"]=b("bs_caml_option").valFromOption(d));g!==void 0&&(c.linkProps=b("bs_caml_option").valFromOption(g));l!==void 0&&(c.testid=b("bs_caml_option").valFromOption(l));j!==void 0&&(c.onHoverIn=b("bs_caml_option").valFromOption(j));return h.jsx(b("CometPressable.react"),babelHelpers["extends"]({},c))}a.displayName=a.name+" [from "+e.id+"]";c=a;f.$MWMessageListProtectedMedia$requireCond=b("cr:956");f.make=c}),null);
__d("MessageReactionOperation.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.add=a;f.remove=c}),null);
__d("MessageReactionStyle.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;f.basicSuperReactAnimation=a}),null);
__d("MWPUseSendOrUnsendReaction.bs",["LS.bs","LSOptimisticUpsertReaction","LSOptimisticUpsertReactionV2","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSTransaction.bs","MWCMThreadTypes.bs","MWLSThread.bs","MWPActor.bs","MessageReactionOperation.bs","MessageReactionStyle.bs","ReQL.bs","bs_caml","bs_caml_int64","bs_caml_obj","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c,d,e,f){a=b("LSTransaction.bs").run(a,function(a){return b("LSOptimisticUpsertReactionV2")(c,d.threadKey,d.messageId,d.timestampMs,e,f,!0,b("MessageReactionStyle.bs").basicSuperReactAnimation,b("MessageReactionOperation.bs").add,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a)}function j(a,c,d,e,f){a=b("LSTransaction.bs").run(a,function(a){return b("LSOptimisticUpsertReactionV2")(c,d.threadKey,d.messageId,d.timestampMs,f,e,!1,b("MessageReactionStyle.bs").basicSuperReactAnimation,b("MessageReactionOperation.bs").remove,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a)}function k(a,c,d,e){b("promiseDone")(b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("reactions_v2")),{hd:d.threadKey,tl:{hd:d.messageId,tl:{hd:e,tl:0}}})).then(function(f){if(f!==void 0)return i(a,c,d,e,f.count);else return i(a,c,d,e,b("bs_caml_int64").zero)}))}function a(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(),e=b("MWLSThread.bs").useThreadExn(a.threadKey),f=b("MWCMThreadTypes.bs").isBroadcastThread(e.threadType)&&b("gkx")("8026")&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reactionsV2,e);return h.useCallback(function(g){if(f){b("promiseDone")(b("ReQL.bs").first(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(c.table("reaction_v2_types")),function(a){return b("bs_caml_obj").caml_equal(a.reactionLiteral,g)})).then(function(f){if(f!==void 0){var g;b("promiseDone")((g=b("ReQL.bs")).first(g.filter(g.getKeyRange(g.fromTableAscending(c.table("reactions_v2")),{hd:e.threadKey,tl:{hd:a.messageId,tl:0}}),function(a){return a.viewerIsReactor})).then(function(e){if(e===void 0)return i(c,d,a,f.reactionFbid,b("bs_caml_int64").zero);var g=b("bs_caml").i64_eq(e.reactionFbid,f.reactionFbid);j(c,d,a,e.count,f.reactionFbid);if(!g)return k(c,d,a,f.reactionFbid)}));return}}));return}var h=b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticUpsertReaction")(a.threadKey,b("bs_caml_int64").of_float(Date.now()),a.messageId,d,g,b("LS.bs").make(c))},"readWrite");b("promiseDone")(h)},[c,a.messageId,d])}f.addNewUserReactionV2=i;f.removeUserReactionV2=j;f.addUserReactionToExistingEntryV2=k;f.useHook=a}),null);
__d("MAWPSendOrRemoveReaction.bs",["FBID.bs","MWPActor.bs","MWPUseSendOrUnsendReaction.bs","bs_belt_Option","bs_caml_option","bs_curry","bs_int64","cr:4264","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=b("requireDeferred")("MWLogMessageAction.bs").__setRef("MAWPSendOrRemoveReaction.bs"),i=g||(g=b("react")),j=b("cr:4264")==null?void 0:b("bs_caml_option").some(b("cr:4264"));function a(a,c,d){var e=b("useReStore")(),f=b("MWPActor.bs").useActor(),g=b("cr:4264")==null?void 0:b("bs_curry")._2(j.useSendOrRemoveReaction,a.threadKey,b("FBID.bs").ofString(b("bs_int64").to_string(a.senderId))),k=b("MWPUseSendOrUnsendReaction.bs").useHook(a);return i.useMemo(function(){return function(i,j,l){c&&g!==void 0?b("bs_curry")._2(g,i,j):b("bs_curry")._1(k,b("bs_belt_Option").getWithDefault(j,"")),h.onReady(function(c){return b("bs_curry").app(c.log,[e,b("bs_caml_option").some(a.messageId),a.threadKey,d,l,void 0,void 0,void 0,b("bs_caml_option").some(a.senderId),void 0,f,void 0])})}},[JSON.stringify(a.threadKey),c,g,k])}f.$MAWSendOrRemoveReaction$requireCondXplat=b("cr:4264");f.$MWLogMessageAction$Deferred=h;f.useSendOrRemoveReaction=a}),null);
__d("StylexHelpers.bs",[],(function(a,b,c,d,e,f){"use strict";a={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s"}};f.styles=a}),null);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"root:"+h(a)}function h(a){a=a!=null?a:Date.now();var b=c("randomInt")(0,4294967295);b=("0000000000000000000000"+b.toString(2)).slice(-22);a=a.toString(2)+b;return i(a.slice(-63))}function i(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}g.generateThreadID=a;g.generateOfflineThreadingID=h}),98);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),98);
__d("LSNullstateCTAType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.none=a;f.getStarted=c;f.icebreaker=d;f.privacyDisclosure=e}),null);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743837");c=b("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e.exports=c}),null);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743852");c=b("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e.exports=c}),null);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743846");c=b("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e.exports=c}),null);/*FB_PKG_DELIM*/
__d("CometToken.react",["fbt","ix","CometIcon.react","CometPressable.react","CometProfilePhoto.react","TetraText.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={"default":{backgroundColor:"x1hr4nm9"},pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z"},readonly:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha"},root:{alignItems:"x6s0dn4",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",display:"x3nfvp2",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm"},shrinkVerticalPadding:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn"},shrinkVerticalPaddingLevel4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4"},spacing:{marginEnd:"x1emribx"},suggested:{backgroundColor:"x1qhmfi1"}};function a(a){var b=a.addOn,e=a.addOnSecondary,f=a.disabled,g=a.level;g=g===void 0?3:g;var l=a.onPress,m=a.text;a=a.type;var n=a==="add"||a==="readonly"?"primary":"highlight",o=null,p=null,q=!1,r=!1,s=g===3?"body3":"body4";if(b){switch(b.type){case"text":o=j.jsx(c("TetraText.react"),{color:n,type:s,children:b.value});break;case"profile-photo":g===4?r=!0:q=!0;o=j.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:g===3?24:20,source:{uri:b.source}});break;case"icon":g===4?r=!0:q=!0;o=j.jsx(c("CometIcon.react"),{color:n,icon:b.icon});break}o=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(k.spacing),children:o})}if(e){switch(e.type){case"text":p=j.jsx(c("TetraText.react"),{color:n,type:s,children:e.value});break}p=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(k.spacing),children:p})}s=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(a!=="readonly"&&k.spacing),children:j.jsx(c("TetraText.react"),{color:n,type:g===3?"bodyLink3":"bodyLink4",children:m})});n=(b==null?void 0:b.type)==="text"?b.value:null;g=(e==null?void 0:e.type)==="text"?e.value:null;b=j.jsxs("div",{className:c("stylex")(k.root,a!=="add"&&a!=="readonly"&&k["default"],a==="readonly"&&k.readonly,(a==="add"||a==="readonly")&&k.suggested,r&&k.shrinkVerticalPaddingLevel4,q&&k.shrinkVerticalPadding),children:[o,s,p,a==="add"?j.jsx(c("CometIcon.react"),{alt:h._("__JHASH__95v9ydXXTuI__JHASH__"),icon:d("fbicon")._(i("483767"),12)}):a!=="readonly"?j.jsx(c("CometIcon.react"),{"aria-label":h._("__JHASH__U1aN33icCWb__JHASH__",[h._param("prefix",n),h._param("token_text",m),h._param("add_on_secondary",g)]),color:"highlight",disabled:f,hideHoverOverlay:r,icon:d("fbicon")._(i("478231"),12),onPress:l,testid:void 0}):null]});return a==="add"?j.jsx(c("CometPressable.react"),{disabled:f,display:"inline",onPress:l,xstyle:k.pressable,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withMWChatSearchTokenManagementDecorator",["MWChatSearchResultType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return function(b){var d=b.onChangeEntries,e=b.onPressEntry,f=b.onRemoveEntry,g=b.onSearchCompletion,j=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChangeEntries","onPressEntry","onRemoveEntry","onSearchCompletion","selectedEntries"]);var k=i(function(a){var b=a.rawData.resultType;if(b===c("MWChatSearchResultType").USER){b=[].concat(j,[a]);d(b)}e&&e(a)},[d,e,j]),l=i(function(a){var b;b=((b=j)!=null?b:[]).filter(function(b){return b.key!==a.key});d(b);f&&f(a)},[d,f,j]),m=i(function(){g&&g()},[g]);return h.jsx(a,babelHelpers["extends"]({},b,{onChangeEntries:d,onPressEntry:k,onRemoveEntry:l,onSearchCompletion:m,selectedEntries:j}))}}g["default"]=a}),98);
__d("CometTokenizerTokenStrategy.react",["CometToken.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.addOn,d=a.addOnSecondary,e=a.isDisabled,f=a.level,g=a.onPress,j=a.token;a=i(function(a){a.preventDefault(),g(j)},[g,j]);return h.jsx(c("CometToken.react"),{addOn:b,addOnSecondary:d,disabled:e,level:f,onPress:a,text:j.label,type:"remove"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{"data-testid":void 0,children:h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:4}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withBaseTokenizerEscapeDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var c=b.onSearchAbandon;return function(b){var d=b.onChange,e=b.onEscape,f=b.queryString,g=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChange","onEscape","queryString","selectedEntries"]);var j=i(function(){f!==""?d(""):g.length===0&&(c&&c()),e&&e()},[f,g.length,e,d]);return h.jsx(a,babelHelpers["extends"]({},b,{onChange:d,onEscape:j,queryString:f,selectedEntries:g}))}}g["default"]=a}),98);
__d("useBaseTokenizerDecorators",["useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alertDecorator,d=a.escapeDecorator,e=a.limitDecorator,f=a.refetchDecorator,g=a.tokenManagementDecorator;return c("useStable")(function(){return[e,d,g,f,b].filter(Boolean)})}g["default"]=a}),98);
__d("CometTokenizerInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","KeyCommandHandler.react","react","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l={root:{width:"xh8yej3"}};function a(a,b){var d=a.children,e=a.commandConfigs,f=a.isInline,g=a.onBackspace,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onShiftTab,q=a.onTab,r=a.onUpArrow;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commandConfigs","isInline","onBackspace","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow"]);var s=k(function(){return[].concat(e,[{command:{key:c("CometKeys").DELETE},description:h._("__JHASH__Cd9YiubQMjf__JHASH__"),handler:function(){return g&&g()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__CqK0EeqSMhz__JHASH__"),handler:function(){return m&&m()},triggerFromInputs:!0},{command:{key:c("CometKeys").UP},description:h._("__JHASH__iUKjo5X2a54__JHASH__"),handler:function(){return r&&r()},triggerFromInputs:!0},{command:{key:c("CometKeys").ESCAPE},description:h._("__JHASH__wwSVh79-oc2__JHASH__"),handler:function(){return o&&o()},triggerFromInputs:!0},{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__mihpnKYilqe__JHASH__"),handler:function(){return n&&n()},triggerFromInputs:!0},{command:{key:c("CometKeys").TAB},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return q&&q()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").TAB,shift:!0},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return p&&p()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}])},[e,g,m,n,o,p,q,r]);b=c("useCometTypeaheadInputRefs")(b);var t=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},a));a=j(function(a){a.key==="Tab"&&(!a.shiftKey?q&&q():p&&p())},[q,p]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,elementType:f===!0?"span":"div",xstyle:l.root,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:a,children:d(t,b)})})}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("CometTokenizerInputWidthResolver.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useRef,k=b.useState;function a(a){var b=a.children,c=a.placeholder;c=c===void 0?"":c;a=a.queryString;var d=k(0),e=d[0],f=d[1],g=j(null);d=a!==""?a:c;i(function(){g.current&&f(g.current.offsetWidth)},[d]);return h.jsxs(h.Fragment,{children:[h.jsx("span",{"aria-hidden":"true",className:"xuxw1ft xlshs6z x13vifvy x17qophe x10l6tqk x1owdmkh x1xgp4w4 x1jchvi3",ref:g,children:d}),b(e)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTokenizerInputStrategy.react",["BaseTextInput_DEPRECATED.react","CometTokenizerInputWidthResolver.react","cometTypeaheadInputWebkitStyles","react","stylex","useCometTypeaheadInputStrategyOnChangeHandler","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={disabled:{cursor:"x1h6gzvc"},input:{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",boxSizing:"x9f619",color:"xzsf02u",display:"xt0psk2",fontSize:"x1jchvi3",fontWeight:"x1fcty0u",lineHeight:"x132q4wb",marginTop:"x1xmf6yo",marginEnd:"x1emribx",marginBottom:"x1e56ztr",marginStart:"x1i64zmx",maxWidth:"x193iq5w",outline:"x1a2a7pz",resize:"xtt52l0"},root:{cursor:"x1ed109x",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62"}};function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;var e=a.id,f=a.inputEndContent,g=a.inputStartContent,j=a.inputExtraProps;j=j===void 0?{}:j;var k=j.xstyle,l=a.isDisabled;a.label;j=a.onChange;var m=a.placeholder,n=a.queryString,o=a.testid,p=a.autoFocus,q=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","label","onChange","placeholder","queryString","testid","autoFocus"]),r=(o=e)!=null?o:c("useCometUniqueID")(),s=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:j});return h.jsxs("div",{className:c("stylex")(i.root,l===!0&&i.disabled),children:[g,h.jsx(c("CometTokenizerInputWidthResolver.react"),{placeholder:m,queryString:n,children:function(a){var e;return h.jsx(c("BaseTextInput_DEPRECATED.react"),babelHelpers["extends"]({},d,q,{autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:p,className:c("stylex")(i.input,k,c("cometTypeaheadInputWebkitStyles")["default"]),"data-testid":void 0,disabled:l,id:r,onChange:s,placeholder:(e=m)!=null?e:"",ref:b,spellCheck:!1,style:{width:a},type:"search",value:n}))}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("useCometTokenizerLayoutStrategyOnBackspaceHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onBackspace,d=a.onRemoveEntry,e=a.selectedEntries;return h(function(){var a=b.current;if(a!=null&&a.selectionStart===0&&a.selectionEnd===0){a=e.length-1;a>=0&&d(e[a])}c&&c()},[b,c,e,d])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnEnterHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onEnter;return h(function(){b&&b()},[b])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnPressEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onChange,e=a.onPressEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry,g=b.current;return h(function(a,b){g!=null&&(g.value="",g.focus()),f({entry:null,source:null}),d(""),e&&e(a,b)},[g,f,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternalLayoutContextualStrategy.react",["fbt","CometContextualLayer.react","CometHeroHoldTrigger.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","FocusRegion.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","focusScopeQueries","intlList","react","stylex","useCometAccessibilityAlerts","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l={helperText:{marginTop:"x1xmf6yo"},view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",width:"xh8yej3"}},m="ChatTypeahead";function a(a){var b=a.contextualProps;b=b===void 0?{}:b;var e=b.align;e=e===void 0?"stretch":e;var f=b.position;f=f===void 0?"below":f;var g=babelHelpers.objectWithoutPropertiesLoose(b,["align","position"]),n=a.description;b=a.extraLayoutProps;var o=b.ariaProps,p=o.ariaDescribedByProps,q=o.ariaInputProps,r=o.ariaViewProps;o=b.helperTextComponent;var s=b.isLoading;b=b.isOpened;var t=a.errorMessage,u=a.commandConfigs,v=a.selectedEntries,w=a.inputStrategyRenderer,x=a.isDisabled,y=a.label,z=a.layerContext;z=z===void 0?"root":z;var A=a.onBackspace,B=a.onBlur,C=a.onChange,D=a.onClick,E=a.onDownArrow,F=a.onEnter,G=a.onEscape,H=a.onFocus,I=a.onShiftTab,J=a.onTab,K=a.onUpArrow,L=a.queryString,M=a.inputRef,N=a.tokensStrategyRenderer,O=a.viewStrategyRenderer,P=a.xstyles,Q=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","extraLayoutProps","errorMessage","commandConfigs","selectedEntries","inputStrategyRenderer","isDisabled","label","layerContext","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","tokensStrategyRenderer","viewStrategyRenderer","xstyles"]);a=c("useCometTypeaheadInputRefs")(M);M=a.composedRef;a=a.inputRef;var R=k(null),S=k(null),T=c("useResizeObserver")(function(){S.current!=null&&S.current.reposition({autoflip:!g.disableAutoFlip})}),U=c("useCometInternalTypeaheadState")(),V=U.activeEntries,W=U.highlightedEntry;U=z==="input"?a.current:R.current;var X=c("cometHandleHighlightDropOnMouseLeave")(Q.onHighlightEntry);z=c("useCometAccessibilityAlerts")();a=z[0];var Y=z[1],Z=k();j(function(){var a,b=(a=Z.current)!=null?a:[];if(v&&b.length<v.length){a=v.filter(function(a){return!b.includes(a)});Y(h._("__JHASH__B4tEJ9D88a9__JHASH__",[h._param("entry",c("intlList")(a.map(function(a){return a.label}),c("intlList").CONJUNCTIONS.AND).toString())]))}else if(b.length>v.length){a=b.filter(function(a){return!v.includes(a)});Y(h._("__JHASH__E2ufigyYww2__JHASH__",[h._param("entries",c("intlList")(a.map(function(a){return a.label}),c("intlList").CONJUNCTIONS.AND).toString())]))}Z.current=v},[v,Y]);return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:c("stylex")(P==null?void 0:P.layoutXStyle),ref:R,children:i.jsxs("div",{className:c("stylex")(P==null?void 0:P.inputXStyle),onClick:D,ref:T,role:"presentation",children:[a,i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:u,onBackspace:A,onBlur:B,onChange:C,onClick:c("emptyFunction"),onDownArrow:E,onEnter:F,onEscape:G,onFocus:H,onShiftTab:I,onTab:J,onUpArrow:K,ref:M,children:function(a,b){return i.jsx(w,babelHelpers["extends"]({},b,{ariaProps:q,autoFocus:Q.autoFocus,description:n,errorMessage:t,id:Q.id,inputEndContent:Q.inputEndContent,inputExtraProps:Q.inputExtraProps,inputStartContent:v.length>0?i.jsx(N,{isDisabled:x,onPress:Q.onRemoveEntry,tokens:v}):null,isDisabled:x,label:y,placeholder:Q.placeholder,queryString:L,ref:a,testid:void 0}))}})})]})}),o!=null&&i.jsx("div",babelHelpers["extends"]({className:c("stylex")(l.helperText)},p,{children:o})),i.jsx(c("CometHeroHoldTrigger.react"),{description:m,hold:!(U!=null&&b!==!1)||U!=null&&b!==!1&&V.length===0}),U&&b&&i.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},g,{align:e,context_DEPRECATED:U,position:f,ref:S,children:i.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:Q.onOutsideClick,children:function(a){return i.jsxs("div",{className:c("stylex")([l.view,P==null?void 0:P.viewXStyle_DO_NOT_USE]),onMouseLeave:X,ref:a,children:[i.jsx(O,{ariaProps:r,entries:V,extraViewProps:Q.extraViewProps,highlightedEntry:W,isLoading:s,onHighlightEntry:Q.onHighlightEntry,onPressEntry:Q.onPressEntry,queryString:L}),i.jsx(c("CometHeroHoldTrigger.react"),{description:m,hold:s&&V.length===0})]})}})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutInlineStrategyHandlers",["react","useCometTokenizerLayoutStrategyOnBackspaceHandler","useCometTokenizerLayoutStrategyOnEnterHandler","useCometTokenizerLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.handlers,d=b.onBackspace,e=b.onBlur,f=b.onChange,g=b.onDownArrow,i=b.onEnter,j=b.onEscape,k=b.onHighlightEntry,l=b.onOutsideClick,m=b.onPressEntry,n=b.onRemoveEntry;b=b.onUpArrow;var o=a.inputRef;a=a.selectedEntries;k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:k});d=c("useCometTokenizerLayoutStrategyOnBackspaceHandler")({inputRef:o,onBackspace:d,onRemoveEntry:n,selectedEntries:a});a=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:e});var p=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:f,onHighlightEntry:k});e=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:g,onHighlightEntry:k});g=c("useCometTokenizerLayoutStrategyOnEnterHandler")({onEnter:i});i=h(function(){p(""),j&&j()},[p,j]);f=c("useCometTokenizerLayoutStrategyOnPressEntryHandler")({inputRef:o,onChange:f,onPressEntry:m});m=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:o,onOutsideClick:l});o=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:k,onUpArrow:b});return{onBackspace:d,onBlur:a,onChange:p,onDownArrow:e,onEnter:g,onEscape:i,onHighlightEntry:k,onOutsideClick:m,onPressEntry:f,onRemoveEntry:n,onUpArrow:o}}g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutContextualStrategyHandlers",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.handlers,d=b.onAbandonTypeahead_DO_NOT_USE,e=b.onClick,f=b.onOutsideClick,g=b.onShiftTab,i=b.onTab;b=babelHelpers.objectWithoutPropertiesLoose(b,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]);var j=a.inputRef,k=a.isDisabled,l=a.queryString;a=a.selectedEntries;var m=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),n=m.dispatchIsOpened,o=m.isOpened;m=c("useCometInternalTypeaheadStateDispatcher")();var p=m.dispatchActiveEntries,q=m.dispatchHighlightedEntry;m=h(function(){n(!1),f&&f()},[n,f]);m=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({handlers:babelHelpers["extends"]({onOutsideClick:m},b),inputRef:j,selectedEntries:a});var r=m.onBackspace;b=m.onBlur;var s=m.onChange,t=m.onDownArrow,u=m.onEnter,v=m.onEscape;a=m.onHighlightEntry;var w=m.onOutsideClick,x=m.onPressEntry,y=m.onRemoveEntry,z=m.onUpArrow;m=h(function(){n(!1),d&&d()},[n,d]);var A=h(function(){l.length===0&&n(!1),r&&r()},[n,r,l.length]),B=h(function(a){n(!0),s&&s(a)},[n,s]),C=h(function(){!o&&!Boolean(k)&&n(!0),j.current&&j.current.focus(),e&&e()},[o,k,j,e,n]),D=h(function(){n(!1),q({entry:null,source:null}),p([]),u&&u()},[p,q,n,u]),E=h(function(){n(!1),v&&v()},[n,v]),F=h(function(){o?t&&t():n(!0)},[n,o,t]),G=h(function(a,b){n(!1),p([]),x&&x(a,b)},[p,n,x]),H=h(function(a){n(!1),y&&y(a)},[n,y]),I=h(function(){n(!1),g&&g()},[n,g]),J=h(function(){n(!1),i&&i()},[n,i]),K=h(function(){!o?n(!0):z&&z()},[n,o,z]);return{onAbandonTypeahead_DO_NOT_USE:m,onBackspace:A,onBlur:b,onChange:B,onClick:C,onDownArrow:F,onEnter:D,onEscape:E,onHighlightEntry:a,onOutsideClick:w,onPressEntry:G,onRemoveEntry:H,onShiftTab:I,onTab:J,onUpArrow:K}}g["default"]=a}),98);
__d("CometTokenizerTokenListStrategy.react",["fbt","CometFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.isDisabled,c=a.onPress,e=a.tokens,f=a.tokenStrategyRenderer;return i.jsx(d("CometFocusTable.react").CometFocusTable,{elementType:"span",label:h._("__JHASH__JsJP4UWjJGj__JHASH__"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,wrapY:!0,children:e.map(function(a,e){return i.jsx(d("CometFocusTable.react").CometFocusRow,{children:i.jsx("div",{className:"xsgj6o6 x12nagc xw3qccf x1gslohp x1rg5ohu",role:"row",children:i.jsx(d("CometFocusTable.react").CometFocusCell,{children:i.jsx("span",{role:"gridcell",children:i.jsx(f,{isDisabled:b,onPress:c,token:a})})})})},e)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerListTokenStrategy",["CometTokenizerTokenListStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.tokenItemRenderer;a=a.tokenListRenderer;var d=a===void 0?c("CometTokenizerTokenListStrategy.react"):a;return i(function(a){a=babelHelpers["extends"]({},a);return h.jsx(d,babelHelpers["extends"]({tokenStrategyRenderer:b},a))},[b,d])}g["default"]=a}),98);
__d("CometInternalTokenizerFetchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({fetch:c("emptyFunction"),isLoading:!1,refetch:c("emptyFunction"),source:"all"});g["default"]=b}),98);
__d("useCometInternalTokenizerFetch",["CometInternalTokenizerFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTokenizerFetchContext"))}g["default"]=a}),98);
__d("useCometInternalTokenizerFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.selectedTokens,f=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var g=a.isOpened;a=c("useCometInternalTypeaheadState")();var j=a.activeEntries;a=c("useCometInternalTokenizerFetch")();var k=a.fetch;a=h(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:j,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a,selectedTokens:e}:{perfTraceAPI:c,query:a,selectedTokens:e};k(d)}var c=d.trimLeft();if(!g)return;f?f.trace(function(b){return a(c,b)},c):a(c)},[j,k,g,b,d,e,f]);i(a,[g,d,e])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnBlurLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onBlur,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){b!=null&&b.isSessionActive()&&(b.addEvent({action:"abandon",entries:f,queryString:e},"useCometInternalTypeaheadOnBlurLoggingHandler"),b.endSession()),d&&d()},[f,b,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternal.react",["emptyFunction","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetchHandler","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnBlurLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.inputRef,d=a.layoutStrategyRenderer,e=a.loggingProvider,f=a.onBlur,g=a.onChange,j=a.onEnter,k=a.onFocus,l=a.onPressEntry,m=a.onSearchCompletion,n=a.onSelectFreeformQuery,o=a.onShiftTab,p=a.onTab,q=a.queryString,r=a.selectedEntries,s=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onBlur","onChange","onEnter","onFocus","onPressEntry","onSearchCompletion","onSelectFreeformQuery","onShiftTab","onTab","queryString","selectedEntries","traceProvider"]);b=c("useCometTypeaheadInputRefs")(b);var t=b.composedRef,u=b.inputRef;b=c("useCometInternalTypeaheadState")();var v=b.highlightedEntry,w=b.highlightedEntrySource;b=c("useCometInternalTypeaheadStateDispatcher")();var x=b.dispatchHighlightedEntry;b=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var y=b.dispatchIsOpened;c("useCometInternalTokenizerFetchHandler")({loggingProvider:e,queryString:q,selectedTokens:r,traceProvider:s});b=c("useCometInternalTypeaheadOnBlurLoggingHandler")({loggingProvider:e,onBlur:f,queryString:q});s=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:e,onFocus:k,queryString:q});f=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:e,onEnter:i(function(){if(v!=null&&w==="keyboard")u.current&&u.current.focus(),l&&l(v);else{var a;a=(a=u.current)==null?void 0:a.value;if(a==="")m&&m();else{n&&n((a=a)!=null?a:"")}}x({entry:null,source:null});g("");j&&j()},[v,w,x,g,j,u,l,m,n]),queryString:q});k=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:e,onPressEntry:l,queryString:q});var z=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){y(!1),o&&o()},[y,o]),loggingProvider:e,queryString:q}),A=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){y(!1),p&&p()},[y,p]),loggingProvider:e,queryString:q}),B=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});e=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});return h.jsx(d,babelHelpers["extends"]({},a,{inputRef:t,onAbandonTypeahead_DO_NOT_USE:e,onBlur:b,onChange:g,onClick:c("emptyFunction"),onEnter:f,onFocus:s,onOutsideClick:B,onPressEntry:k,onShiftTab:z,onTab:A,queryString:q,selectedEntries:r}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("exif-js-2.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var a=!1,b=this,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this.EXIFwrapped=a};typeof g!=="undefined"?(typeof h!=="undefined"&&h.exports&&(g=h.exports=c),g.EXIF=c):b.EXIF=c;var d=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},e=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},j=c.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},k=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(a){return!!a.exifdata}function m(a,b){b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"";a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");b=atob(a);a=b.length;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(var e=0;e<a;e++)d[e]=b.charCodeAt(e);return c}function n(a,b){var c=new XMLHttpRequest();c.open("GET",a,!0);c.responseType="blob";c.onload=function(a){(this.status==200||this.status===0)&&b(this.response)};c.send()}function o(b,d){function e(a){var e=p(a);b.exifdata=e||{};e=q(a);b.iptcdata=e||{};if(c.isXmpEnabled){e=z(a);b.xmpdata=e||{}}d&&d.call(b)}if(b.src)if(/^data\:/i.test(b.src)){var f=m(b.src);e(f)}else if(/^blob\:/i.test(b.src)){var g=new FileReader();g.onload=function(a){e(a.target.result)};n(b.src,function(a){g.readAsArrayBuffer(a)})}else{var h=new XMLHttpRequest();h.onload=function(){if(this.status==200||this.status===0)e(h.response);else throw"Could not load image";h=null};h.open("GET",b.src,!0);h.responseType="arraybuffer";h.send(null)}else if(self.FileReader&&(b instanceof self.Blob||b instanceof self.File)){var g=new FileReader();g.onload=function(b){a&&!1,e(b.target.result)};g.readAsArrayBuffer(b)}}function p(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e;while(d<b){if(c.getUint8(d)!=255){a&&!1;return!1}e=c.getUint8(d+1);a&&!1;if(e==225){a&&!1;return y(c,d+4,c.getUint16(d+2)-2)}else d+=2+c.getUint16(d+2)}}function q(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2,e=b.byteLength,f=function(a,b){return a.getUint8(b)===56&&a.getUint8(b+1)===66&&a.getUint8(b+2)===73&&a.getUint8(b+3)===77&&a.getUint8(b+4)===4&&a.getUint8(b+5)===4};while(d<e){if(f(c,d)){var g=c.getUint8(d+7);g%2!==0&&(g+=1);g===0&&(g=4);var h=d+8+g;g=c.getUint16(d+6+g);return s(b,h,g);break}d++}}var r={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function s(a,b,c){a=new DataView(a);var d={},e,f,g=b;while(g<b+c)a.getUint8(g)===28&&a.getUint8(g+1)===2&&(f=a.getUint8(g+2),f in r&&(e=a.getInt16(g+3),f=r[f],e=x(a,g+5,e),d.hasOwnProperty(f)?d[f]instanceof Array?d[f].push(e):d[f]=[d[f],e]:d[f]=e)),g++;return d}function t(b,c,d,e,f){var g=b.getUint16(d,!f),h={},i,j,k;for(k=0;k<g;k++)i=d+k*12+2,j=e[b.getUint16(i,!f)],!j&&a&&!1,h[j]=u(b,i,c,d,f);return h}function u(a,b,c,d,e){d=a.getUint16(b+2,!e);var f=a.getUint32(b+4,!e);c=a.getUint32(b+8,!e)+c;var g,h,i,j;switch(d){case 1:case 7:if(f==1)return a.getUint8(b+8,!e);else{d=f>4?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint8(d+i);return g}case 2:d=f>4?c:b+8;return x(a,d,f-1);case 3:if(f==1)return a.getUint16(b+8,!e);else{d=f>2?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint16(d+2*i,!e);return g}case 4:if(f==1)return a.getUint32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getUint32(c+4*i,!e);return g}case 5:if(f==1){d=a.getUint32(c,!e);j=a.getUint32(c+4,!e);h=new Number(d/j);h.numerator=d;h.denominator=j;return h}else{g=[];for(i=0;i<f;i++)d=a.getUint32(c+8*i,!e),j=a.getUint32(c+4+8*i,!e),g[i]=new Number(d/j),g[i].numerator=d,g[i].denominator=j;return g}case 9:if(f==1)return a.getInt32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+4*i,!e);return g}case 10:if(f==1)return a.getInt32(c,!e)/a.getInt32(c+4,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+8*i,!e)/a.getInt32(c+4+8*i,!e);return g}}}function v(a,b,c){var d=a.getUint16(b,!c);return a.getUint32(b+2+d*12,!c)}function w(a,b,c,d){c=v(a,b+c,d);if(!c)return{};else if(c>a.byteLength)return{};c=t(a,b,b+c,j,d);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){d=b+c.JpegIFOffset;b=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(a.buffer,d,b)],{type:"image/jpeg"})}break;case 1:break;default:}else c.PhotometricInterpretation==2;return c}function x(a,b,c){var d="";for(var e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}function y(b,c){if(x(b,c,4)!="Exif"){a&&!1;return!1}var g,h,i,j;c=c+6;if(b.getUint16(c)==18761)g=!1;else if(b.getUint16(c)==19789)g=!0;else{a&&!1;return!1}if(b.getUint16(c+2,!g)!=42){a&&!1;return!1}var l=b.getUint32(c+4,!g);if(l<8){a&&!1;return!1}h=t(b,c,c+l,e,g);if(h.ExifIFDPointer){j=t(b,c,c+h.ExifIFDPointer,d,g);for(i in j){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":j[i]=k[i][j[i]];break;case"ExifVersion":case"FlashpixVersion":j[i]=String.fromCharCode(j[i][0],j[i][1],j[i][2],j[i][3]);break;case"ComponentsConfiguration":j[i]=k.Components[j[i][0]]+k.Components[j[i][1]]+k.Components[j[i][2]]+k.Components[j[i][3]];break}h[i]=j[i]}}if(h.GPSInfoIFDPointer){j=t(b,c,c+h.GPSInfoIFDPointer,f,g);for(i in j){switch(i){case"GPSVersionID":j[i]=j[i][0]+"."+j[i][1]+"."+j[i][2]+"."+j[i][3];break}h[i]=j[i]}}h.thumbnail=w(b,c,l,g);return h}function z(b){if(!("DOMParser"in self))return;var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e=new DOMParser();while(d<b-4)if(x(c,d,4)=="http"){var f=d-1,g=c.getUint16(d-2)-1;f=x(c,f,g);g=f.indexOf("xmpmeta>")+8;f=f.substring(f.indexOf("<x:xmpmeta"),g);g=f.indexOf("x:xmpmeta")+10;f=f.slice(0,g)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+f.slice(g);g=e.parseFromString(f,"text/xml");return B(g)}else d++}function A(a){var b={};if(a.nodeType==1){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else if(a.nodeType==3)return a.nodeValue;if(a.hasChildNodes())for(var d=0;d<a.childNodes.length;d++){c=a.childNodes.item(d);var e=c.nodeName;if(b[e]==null)b[e]=A(c);else{if(b[e].push==null){var f=b[e];b[e]=[];b[e].push(f)}b[e].push(A(c))}}return b}function B(a){try{var b={};if(a.children.length>0)for(var c=0;c<a.children.length;c++){var d=a.children.item(c),e=d.attributes;for(var f in e){var g=e[f],h=g.nodeName;g=g.nodeValue;h!==void 0&&(b[h]=g)}h=d.nodeName;if(typeof b[h]=="undefined")b[h]=A(d);else{if(typeof b[h].push=="undefined"){g=b[h];b[h]=[];b[h].push(g)}b[h].push(A(d))}}else b=a.textContent;return b}catch(a){}}c.enableXmp=function(){c.isXmpEnabled=!0};c.disableXmp=function(){c.isXmpEnabled=!1};c.getData=function(a,b){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;!l(a)?o(a,b):b&&b.call(a);return!0};c.getTag=function(a,b){if(!l(a))return;return a.exifdata[b]};c.getIptcTag=function(a,b){if(!l(a))return;return a.iptcdata[b]};c.getAllTags=function(a){if(!l(a))return{};var b;a=a.exifdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.getAllIptcTags=function(a){if(!l(a))return{};var b;a=a.iptcdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.pretty=function(a){if(!l(a))return"";var b;a=a.exifdata;var c="";for(b in a)a.hasOwnProperty(b)&&(typeof a[b]=="object"?a[b]instanceof Number?c+=b+" : "+a[b]+" ["+a[b].numerator+"/"+a[b].denominator+"]\r\n":c+=b+" : ["+a[b].length+" values]\r\n":c+=b+" : "+a[b]+"\r\n");return c};c.readFromBinaryFile=function(a){return p(a)};typeof i==="function"&&i.amd&&i("exif-js",[],function(){return c})}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
__d("exif-js",["exif-js-2.3.0"],(function(a,b,c,d,e,f){e.exports=b("exif-js-2.3.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);/*FB_PKG_DELIM*/
__d("MAWAudioUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var d=URL.createObjectURL(a);return new(b("Promise"))(function(a,b){var e=new Audio();e.setAttribute("crossOrigin","anonymous");e.addEventListener("loadedmetadata",function(c){c=c.currentTarget;if(c instanceof HTMLAudioElement){c=c.duration;a(Math.ceil(c))}else b("EventTarget returned for event should be HTMLAudioElement")});e.src=d;e.onabort=function(){b(function(){throw c("err")("Error loading audio from provided URL")})};e.onerror=function(){b(function(){throw c("err")("Wrong blob type")})}})}g.getAudioDurationInSeconds=a}),98);
__d("MAWImageUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h="image/jpeg";e="image/webp";f=100;function i(a,d){d===void 0&&(d=!0);var e;return new(b("Promise"))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(function(){throw c("err")("Error loading image from provided URL")})};e.onerror=function(){f(function(){throw c("err")("Wrong blob type")})};e.src=a}).then(function(){return e})}function j(a,c,d){d===void 0&&(d=!1);var e=40*1024;if(a.toBlob)return new(b("Promise"))(function(b){a.toBlob(b,c)}).then(function(f){return d&&f.size>=e?new(b("Promise"))(function(b){a.toBlob(b,c,e/f.size)}):f});else return b("Promise").resolve(window.dataURLtoBlob(a.toDataURL(c))).then(function(f){return d&&f.size>=e?b("Promise").resolve(window.dataURLtoBlob(a.toDataURL(c,e/f.size))):f})}function a(a,d){return i(a).then(function(a){var b=document.createElement("canvas");b.width=a.naturalWidth;b.height=a.naturalHeight;var c=b.getContext("2d");c.drawImage(a,0,0);return j(b,d).then(function(b){return{blob:b,height:a.naturalHeight,width:a.naturalWidth}})})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function d(a,b){return i(a).then(function(a){var c=document.createElement("canvas"),d=a.naturalWidth,e=a.naturalHeight,f=c.getContext("2d");e=l(e,d,b);c.width=e.width;c.height=e.height;var g=c.width,i=c.height;k(c);f.drawImage(a,0,0,g,i);return j(c,h,!0).then(function(a){return a.arrayBuffer().then(function(a){return{height:i,jpegThumbnail:a,width:g}})})})}function k(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function l(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{height:Math.max(a,1),width:Math.max(b,1)}}g.TYPE_JPEG=h;g.TYPE_WEBP=e;g.IMG_THUMB_MAX_EDGE=f;g.canvasToBlob=j;g.urlToFile=a;g.urlToThumbnail=d;g.boundHeightWidth=l}),98);
__d("MAWImagePreProcess",["MAWImageUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";function e(e,f){var g=a.URL.createObjectURL(e),h=e.name;return d("MAWImageUtils").urlToFile(g,f).then(function(a){a=a.blob;return new File([a],h,{type:f})})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function f(e){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToFile(e,d("MAWImageUtils").TYPE_JPEG).then(function(a){var b=a.height;a=a.width;return{height:b,width:a}})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function h(e,f){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToThumbnail(e,f)["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}g.imageTranscode=e;g.getImageSpec=f;g.getJpegThumbnailInfo=h}),98);
__d("MAWSendVideoToWorker",["MAWMediaWorkerResource","Promise","WALogger","WebWorker"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Clean up media worker"]);h=function(){return a};return a}var i=j();function a(a){var c;return new(b("Promise"))(function(b){c=i&&k(i)?j():i,c.setMessageHandler(function(a){b(a)}).execute(),c.postMessage(a)})["finally"](function(){c&&(d("WALogger").LOG(h()),c.terminate(),(!i||!i.isCurrentState("constructed"))&&(i=j()))})}function j(){return new(c("WebWorker"))(c("MAWMediaWorkerResource")).setAllowCrossPageTransition(!0)}function k(a){return a.isCurrentState("preparing")||a.isCurrentState("executing")}g.sendVideoMessageToWorker=a}),98);
__d("MAWVideoPreProcess",["MAWSendVideoToWorker","Promise","QPLUserFlow","WALogger","err","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Video preprocess failure: ",""]);h=function(){return a};return a}function i(){c("QPLUserFlow").start(c("qpl")._(25309473,"9188"))}function j(a){c("QPLUserFlow").endFailure(c("qpl")._(25309473,"9188"),"failure_during_video_preprocess"),d("WALogger").ERROR(h(),a)}function k(){c("QPLUserFlow").endSuccess(c("qpl")._(25309473,"9188"))}function a(a,d){return l(a,d).then(function(d){if(!d)return b("Promise").reject(c("err")("invalid file"));d=new File([d.file],a.name,{type:d.file.type});return b("Promise").resolve(d)})}function l(a,b){i();return d("MAWSendVideoToWorker").sendVideoMessageToWorker({asGif:b,file:a,type:"prep"}).then(function(b){var d=b.error,a=b.file,e=b.filename,f=b.result;b=b.type;switch(b){case"result":k();return f;case"parsingError":c("err")("trouble parsing file "+a+" (fossil "+e+") "+String(d));a&&c("err")("MediaAnalyzer:checkAndRepair got parsing error! "+String(d));c("err")("MediaAnalyzer:checkAndRepair rejected file ("+String(d)+")");return void 0}})["catch"](function(a){c("err")("MediaAnalyzer:checkAndRepair got error! "+String(a));j(String(a));return void 0})}g.processRawVideo=a}),98);
__d("VideoThumbnail_UNTYPED",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a}var b=a.prototype;b.getURL=function(){return this.$1};b.getData=function(){g(0,4844)};a.addTextToCanvasContext=function(a,b,c,d,e,f,g,h,i){a.fillStyle=h;a.textAlign=i;a.font=f+"px "+g;h=i==="center"?d+e/2:d;g=1;i=b.split("\n");for(var d=i,b=Array.isArray(d),i=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k="",l="";j=j.split(" ");for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;l+=o;var p=a.measureText(l).width,q=a.measureText(o).width;if(q>e){k.length>0&&(a.fillText(k,h,c+f*g),g++);q="";var r="";for(var s=o,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;r+=v;var w=a.measureText(r).width;w>e?(a.fillText(q,h,c+f*g),q=v,r=v,g++):q=r}k=q+" ";l=q+" "}else p>e?(a.fillText(k,h,c+f*g),k=o+" ",l=o+" ",g++):(l+=" ",k=l)}a.fillText(k,h,c+f*g);g++}return a};return a}();e.exports=a}),null);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("dataURLToBlob",["BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","Promise","WebWorker"],(function(a,b,c,d,e,f,g){var h=a.URL||a.webkitURL||{};function e(a,e){if(!h.createObjectURL||!c("BlobFactory").isSupported)return b("Promise").reject("Browser doesn't support this feature");if(c("WebWorker").isSupported())return new(b("Promise"))(function(b,d){var f=new(c("WebWorker"))(c("CanvasToBlobResource")).setMessageHandler(function(a){b(a),f.terminate()}).setErrorHandler(function(a){d(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:e})});else return b("Promise").resolve(d("CanvasToBlobImpl").getBlob(a,e))}g["default"]=e}),98);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f,g){function a(a,d,e){return new(b("Promise"))(function(b,f){if(a.toBlob)a.toBlob(b,d,e);else{var g=a.toDataURL(d,e);c("promiseDone")(c("dataURLToBlob")(g,d).then(function(a){b(a)},f))}})}g["default"]=a}),98);
__d("CanvasVideoThumbnail",["EventListener","Promise","VideoThumbnail_UNTYPED","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(d,a);function d(b,c,d,e,f,g,h){var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail1=b;i.$CanvasVideoThumbnail2=c;i.$CanvasVideoThumbnail3=d;i.$CanvasVideoThumbnail4=e;i.$CanvasVideoThumbnail5=f;i.$CanvasVideoThumbnail6=g;i.$CanvasVideoThumbnail7=h;i.$CanvasVideoThumbnail8=i.$CanvasVideoThumbnail1.toDataURL("image/jpeg");return i}var e=d.prototype;e.getCanvas=function(){return this.$CanvasVideoThumbnail1};e.getTime=function(){return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};e.getURL=function(){this.$CanvasVideoThumbnail8||(this.$CanvasVideoThumbnail8=this.$CanvasVideoThumbnail1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail8};e.getData=function(){var a=this,d=document.createElement("canvas"),e=d.getContext("2d"),f=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(b,g){var h=c("EventListener").listen(f,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail9(d,e),c("promiseDone")(c("canvasToBlob")(d,"image/jpeg").then(b,g))});f.currentTime=a.$CanvasVideoThumbnail3})};e.getDataWithText=function(a,d,e,f,g,h,i,j){var k=this,l=document.createElement("canvas"),m=l.getContext("2d"),n=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(b,o){var p=c("EventListener").listen(n,"seeked",function(){p.remove(),m.fillStyle=i,m.textAlign=j,k.$CanvasVideoThumbnail9(l,m),m=c("VideoThumbnail_UNTYPED").addTextToCanvasContext(m,a,d,e,f,g,h,i,j),c("promiseDone")(c("canvasToBlob")(l,"image/jpeg").then(b,o))});n.currentTime=k.$CanvasVideoThumbnail3})};e.$CanvasVideoThumbnail9=function(a,b){var c=this.$CanvasVideoThumbnail2;this.$CanvasVideoThumbnail4||this.$CanvasVideoThumbnail5?(a.width=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:c.videoWidth,a.height=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:c.videoHeight,this.$CanvasVideoThumbnail10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};e.$CanvasVideoThumbnail10=function(a,b){var c=this.$CanvasVideoThumbnail2,d=this.$CanvasVideoThumbnail6,e=this.$CanvasVideoThumbnail7,f=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:a.width,g=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return d}(c("VideoThumbnail_UNTYPED"));g["default"]=a}),98);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};b=a;f["default"]=b}),66);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var b=a.prototype;b.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,b=this.$1.clientHeight||this.$1.height,d=a,e=b,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:b,0,0,a,b)}else g.drawImage(this.$2,(a-d)/2,(b-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};b.getDOMNode=function(){return this.$1};b.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();g["default"]=a}),98);
__d("generateVideoThumbnails",["CanvasVideoThumbnail","HTMLMediaElementReadyStates","Promise","VideoFrameBuffer","cr:909281"],(function(a,b,c,d,e,f,g){function a(a,d,e,f,g,l,m,n,o,p){g===void 0&&(g="contain");l===void 0&&(l=0);m===void 0&&(m=null);n===void 0&&(n=null);o===void 0&&(o=null);p===void 0&&(p=null);return new(b("Promise"))(function(q,r){var s=document.createElement("canvas"),t=[],u=0,v=a.duration-l;p!=null&&(v=Math.min(v,p));var w=v/f,x=null,y,z=(v=n)!=null?v:h(m,d),A=(v=o)!=null?v:i(m,e),B=j(m,d),C=k(m,e);s.width=(v=z)!=null?v:d;s.height=(v=A)!=null?v:e;var D=new(c("VideoFrameBuffer"))(s,a,g,z,A,B,C);D.updateFrameBuffer();var E=function(){D.updateFrameBuffer();var b=new(c("CanvasVideoThumbnail"))(s,a,l+(u-1)*w,z,A,B,C);t.push(b);(!x||b.getURL().length>x.getURL().length)&&(x=b);G()},F=function(){if(a.readyState>=c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)E();else if(b("cr:909281")!==null)var d=b("cr:909281").listen(a,"loadeddata",function(){d.remove(),E()});else a.addEventListener("loadeddata",E,{once:!0})},G=function(){u===0&&(b("cr:909281")!==null?y=b("cr:909281").listen(a,"seeked",F):a.addEventListener("seeked",F)),u<f?(a.currentTime=l+u*w,u++):(b("cr:909281")!==null?y&&y.remove():a.removeEventListener("seeked",F),q({thumbnails:t,selectedThumbnail:x}))};if(a.videoWidth===0||a.videoHeight===0){r();return}G()})}function h(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function i(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function k(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}g["default"]=a}),98);
__d("MAWVideoUtils",["MAWImageUtils","Promise","err","generateVideoThumbnails"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=document.body;if(!e)return new(b("Promise"))(function(a,b){return b("Unable to find DOM body, please use this util only in DOM environment.")});var f=document.createElement("video");return new(b("Promise"))(function(d,g){f.setAttribute("style","display: none"),f.setAttribute("src",URL.createObjectURL(a)),f.addEventListener("loadedmetadata",function(a){a=a.currentTarget;if(a instanceof HTMLVideoElement){var e=a.duration,h=a.videoHeight;a=a.videoWidth;var i=c("generateVideoThumbnails")(f,a,h,1);d(b("Promise").all([i,a,h,Math.ceil(e)]))}else g("EventTarget returned for event should be HTMLVideoElement")}),e.appendChild(f)}).then(function(a){var b=a[0],c=a[1],g=a[2],h=a[3];e.removeChild(f);return d("MAWImageUtils").canvasToBlob(b.thumbnails[0].getCanvas(),d("MAWImageUtils").TYPE_JPEG,!0).then(function(a){return a.arrayBuffer().then(function(a){return{duration:h,height:g,jpegThumbnail:a,width:c}})})})["catch"](function(a){e.removeChild(f);throw c("err")(a)})}g.getVideoThumbnailUrlAndSpec=a}),98);
__d("FileInputAcceptValues.bs",["fileInputAcceptValues"],(function(a,b,c,d,e,f){"use strict";a=[".mp4",".mov"].concat(b("fileInputAcceptValues").PHOTO);f.allowedVideoTypes=a}),null);
__d("MAWGetEphemeralSettings.bs",["MAWBackendBridge.bs","MAWGating","MAWJidUtils.bs","Promise","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("MAWGating").isEphemeralMessagesEnabled()&&b("MAWJidUtils.bs").isOneToOneThreadJid(a))return b("bs_curry")._1(b("MAWBackendBridge.bs").getEphemeralSettings({threadId:a}).sendAndReceive).then(function(a){if(a==null)return;else return b("bs_caml_option").some(a)});else return b("Promise").resolve()}f.use=a}),null);
__d("MAWSecureComposerUtils.bs",["FileInputAcceptValues.bs","LSMessagingThreadTypeUtil.bs","LsMessageRequestsActions.bs","MAWAudioUtils","MAWBackendBridge.bs","MAWGating","MAWGetEphemeralSettings.bs","MAWImagePreProcess","MAWJob.bs","MAWThreadId.bs","MAWUIThreadCache","MAWVideoPreProcess","MAWVideoUtils","MessageRequestsLog.bs","MessagingBackend.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","Promise","SendEventType.bs","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("MWLogSend.bs").__setRef("MAWSecureComposerUtils.bs");function a(a,c){if(c){c=a.type;c=c==="image/webp"?b("Promise").resolve(a):b("MAWImagePreProcess").imageTranscode(a,"image/webp")}else c=a.type==="image/gif"?b("Promise").resolve(a):b("MAWImagePreProcess").imageTranscode(a,"image/jpeg");return c.then(function(a){return b("Promise").all([b("MAWImagePreProcess").getJpegThumbnailInfo(a,400),b("MAWImagePreProcess").getImageSpec(a),b("Promise").resolve(a)])}).then(function(a){return b("Promise").resolve({_0:a[2],_1:{imageSpec:a[1],thumbnailUrlAndSpec:a[0]},TAG:0})})}function c(a){return b("MAWVideoPreProcess").processRawVideo(a,!1).then(function(a){return b("Promise").all([b("Promise").resolve(a),b("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a)])}).then(function(a){return b("Promise").resolve({_0:a[0],_1:{thumbnailUrlAndSpec:a[1]},TAG:1})})}function d(a){return b("MAWAudioUtils").getAudioDurationInSeconds(a).then(function(c){return b("Promise").resolve({_0:a,_1:{durations:c,isPtt:!0},TAG:2})})}function e(a,c,d,e,f,h,i,j,k,l,m,n){i=b("Promise").all([b("MAWUIThreadCache").getThreadJidByChatId({threadId:c}).then(function(a){if(a==null)return;else return b("bs_caml_option").some(a)}),l!==void 0?b("bs_curry")._1(b("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:l.messageId}).sendAndReceive).then(function(a){if(a==null)return;else return b("bs_caml_option").some(a)}):b("Promise").resolve()]).then(function(a){return[a[0],a[1]]}).then(function(a){var c=a[0];if(c===void 0)return b("Promise").resolve(c);var d=b("bs_caml_option").valFromOption(c),e=a[1];return b("MAWGetEphemeralSettings.bs").use(d).then(function(a){switch(h.TAG){case 0:var f=h._1;b("MAWJob.bs").sendMediaMsg.fireAndForget(d,h._0,b("bs_caml_option").some(f.thumbnailUrlAndSpec.jpegThumbnail),f.imageSpec.width,f.imageSpec.height,f.thumbnailUrlAndSpec.width,f.thumbnailUrlAndSpec.height,void 0,void 0,a,e,j,!1,n,void 0,{priority:"UI_ACTION"});break;case 1:f=h._1;b("MAWJob.bs").sendMediaMsg.fireAndForget(d,h._0,b("bs_caml_option").some(f.thumbnailUrlAndSpec.jpegThumbnail),f.thumbnailUrlAndSpec.width,f.thumbnailUrlAndSpec.height,f.thumbnailUrlAndSpec.width,f.thumbnailUrlAndSpec.height,f.thumbnailUrlAndSpec.duration,void 0,a,e,j,!1,n,void 0,{priority:"UI_ACTION"});break;case 2:f=h._1;b("MAWJob.bs").sendMediaMsg.fireAndForget(d,h._0,void 0,void 0,void 0,void 0,void 0,f.durations,f.isPtt,a,e,j,!1,n,void 0,{priority:"UI_ACTION"});break}return b("Promise").resolve(c)})});b("promiseDone")(i,function(c){if(!m)return;var i;switch(h.TAG){case 0:i=b("MessagingLoggingUtilsAttachmentTypeInt.bs").image;break;case 1:i=b("MessagingLoggingUtilsAttachmentTypeInt.bs").video;break;case 2:i=b("MessagingLoggingUtilsAttachmentTypeInt.bs").audio;break}g.onReady(function(c){var g=b("bs_int64").to_string(d);return b("bs_curry").app(c.log,[a,d,e,j,[],f,k,i,!1,b("SendEventType.bs").sendAttempt,b("MessagingBackend.bs").whatsappInfra,b("bs_caml_option").some(g),void 0,b("bs_caml_option").some(m?["dst:3"]:void 0),void 0])})})}var h=["audio/*"].concat(b("FileInputAcceptValues.bs").allowedVideoTypes);function i(a,c,d,e){if(b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)){d!==void 0&&b("MessageRequestsLog.bs").logActionConfirmed(c,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").delete_),b("bs_int64").to_string(d));b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(a,c.threadKey).then(function(a){if(a.TAG!==0)return;a=a._0;if(b("MAWGating").isAppSyncDeleteThreadEnabled())return b("MAWJob.bs").deleteThread.fireAndForget(a,{priority:"UI_ACTION"});else return b("bs_curry")._1(b("MAWBackendBridge.bs").deleteThread({threadId:a}).fireAndForget)}));return}}f.imagePreprocess=a;f.videoPreprocess=c;f.audioPreprocess=d;f.$MWLogSend$Deferred=g;f.sendAttachment=e;f.supportedFileTypes=h;f.onDeleteThread=i}),null);
__d("MAWMediaManagerUtils.bs",["MAWBackendBridge.bs","MAWMediaUtils","MAWSecureComposerUtils.bs","MAWThreadId.bs","OfflineThreadingId.bs","Promise","bs_curry","cometIsMimeTypeForMedia","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){return b("Promise").all(a.map(function(a){if(a.type==="image/gif"||a.type==="image/webp"||b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return b("MAWSecureComposerUtils.bs").imagePreprocess(a,!1);else if(b("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return b("MAWSecureComposerUtils.bs").videoPreprocess(a);else return b("MAWSecureComposerUtils.bs").audioPreprocess(a)})).then(function(a){a=a.map(function(a){return[a,b("OfflineThreadingId.bs").make()]});a.forEach(function(a){g.set(a[1],a[0])});return a.map(function(a){return[a[0]._0,a[1]]})})}function c(a,c,d){b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(a,c).then(function(a){var c=d.reduce(function(a,b){b=g.get(b[1]);b==null||a.push(b);return a},[]);if(a.TAG!==0)return;var e=a._0;c.forEach(function(a){switch(a.TAG){case 0:return b("bs_curry")._1(b("MAWBackendBridge.bs").optimisticUploadMedia({file:a._0,threadId:e,thumbnail:b("MAWMediaUtils").convertJpegThumbnailArrayBufferToFile(a._1.thumbnailUrlAndSpec.jpegThumbnail)}).fireAndForget);case 1:return b("bs_curry")._1(b("MAWBackendBridge.bs").optimisticUploadMedia({file:a._0,threadId:e,thumbnail:b("MAWMediaUtils").convertJpegThumbnailArrayBufferToFile(a._1.thumbnailUrlAndSpec.jpegThumbnail)}).fireAndForget);case 2:return b("bs_curry")._1(b("MAWBackendBridge.bs").optimisticUploadMedia({file:a._0,threadId:e,thumbnail:null}).fireAndForget)}})}))}f.attachmentsMap=g;f.preprocess=a;f.upload=c}),null);/*FB_PKG_DELIM*/
__d("MWLightSpeedChatContactsTabs.bs",["fbt","CometTabs.react","gkx","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"x78zum5",flexDirection:"xdt5ytf",maxHeight:"xmz0i5r"},tab:{display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",width:"xl0us3e"},tabsContainer:{boxShadow:"x1md01qi"},thinTab:{width:"x18664gs"}};function a(a){a=a.children;var c=[{label:g._("__JHASH__tpQTD5AaD3c__JHASH__"),onPress:function(a){},selected:!0,underlineColor:"var(--accent)",xstyle:[k.tab,b("qex")._("1499")===!0?k.thinTab:!1]}];return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[b("gkx")("4671")?null:j.jsx("div",{className:(i||(i=b("stylex")))(k.tabsContainer),children:j.jsx(b("CometTabs.react"),{tabs:c})}),a]})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=k;f.make=c}),null);
__d("MWLightSpeedChatTabSuggestedContacts.bs",["fbt","ActorHovercard.react","CometFacepilePhoto.react","CometMiddot.react","CometScrollableArea.react","MDSListCell.react","MDSLockSvgIcon.bs","MDSTextPairing.react","MWText.react","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={contactsList:{paddingTop:"x1y1aw1k"},listCell:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha"},lockIcon:{display:"x1rg5ohu",marginEnd:"xgnuv6c",verticalAlign:"xxymvpz"}};function a(a){var c=a.setTokens;a=a.tokens;return j.jsx(b("CometScrollableArea.react"),{horizontal:!0,xstyle:k.contactsList,children:j.jsx("ul",{children:a.map(function(a){var d=a.rawData,e=d.id,f=d.displayName,h=d.imageUrl,l=j.jsx(b("CometFacepilePhoto.react"),{size:36,sources:[{alt:f,disabled:!1,source:h}],totalItems:1}),m;if(d.isE2e)m=b("bs_caml_option").some(j.jsxs(b("MWText.react"),{numberOfLines:1,type:"meta4",children:[j.jsx("span",{className:(i||(i=b("stylex")))(k.lockIcon),children:j.jsx(b("MDSLockSvgIcon.bs").make,{color:"black",size:"12"})}),g._("__JHASH__JZiAjvwn3FT__JHASH__")]}));else{h=d.subtext;d=d.isInstagramAccount===!0;m=d&&h!==""?b("bs_caml_option").some(j.jsxs(b("MWText.react"),{numberOfLines:1,type:"meta4",children:[h,j.jsx(b("CometMiddot.react"),{}),"Instagram"]})):void 0}return j.jsx("li",{className:(i||(i=b("stylex")))(k.listCell),children:j.jsx(b("ActorHovercard.react"),{actorID:e,position:"start",children:function(d){var e={headline:f,level:4,reduceEmphasis:!0};m!==void 0&&(e.meta=b("bs_caml_option").valFromOption(m));return j.jsx(b("MDSListCell.react"),{addOnStart:l,content:j.jsx(b("MDSTextPairing.react"),babelHelpers["extends"]({},e)),disabled:!1,onPress:function(d){return b("bs_curry")._1(c,function(b){return[a]})},ref:d,selected:!1,size:"medium",testid:void 0})}})},e)})})})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=k;f.make=c}),null);
__d("MWLightSpeedChatTabContactsContainer.bs",["MNetRankType.bs","MWChatSearchFetchContactRecommendations.bs","MWLightSpeedChatContactsTabs.bs","MWLightSpeedChatTabSuggestedContacts.bs","createMWChatSearchTypeaheadDataEntry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.isSearchView;a=a.setTokens;var d=b("MWChatSearchFetchContactRecommendations.bs").useHook(b("MNetRankType.bs").messengerUserSearchNullstate),e=h.useMemo(function(){return d.map(function(a){return b("createMWChatSearchTypeaheadDataEntry")(a[0])})},[d]);if(c)return null;else return h.jsx(b("MWLightSpeedChatContactsTabs.bs").make,{children:h.jsx(b("MWLightSpeedChatTabSuggestedContacts.bs").make,{setTokens:a,tokens:e})})}c=a;f.make=c}),null);
__d("MWChatTabTokenizerInternalLayoutInlineStrategy.react",["CometScrollableArea.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadKeyboardForScrollableArea","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"x1jx94hy",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2"},viewHidden:{pointerEvents:"x47corl",visibility:"xlshs6z"}};function a(a){var b=a.commandConfigs,d=a.extraLayoutProps,e=d.afterViewContent,f=d.ariaProps,g=f.ariaDescribedByProps,j=f.ariaInputProps,k=f.ariaViewProps;f=d.beforeViewContent;var l=d.helperTextComponent,m=d.isLoading;d=d.isOpened;var n=a.description,o=a.errorMessage,p=a.inputStrategyRenderer,q=a.inputRef,r=a.isDisabled,s=a.label,t=a.onBackspace,u=a.onBlur,v=a.onChange,w=a.onDownArrow,x=a.onEnter,y=a.onEscape,z=a.onFocus,A=a.onShiftTab,B=a.onTab,C=a.onUpArrow,D=a.queryString,E=a.selectedEntries,F=a.tokensStrategyRenderer,G=a.viewStrategyRenderer,H=a.xstyles;H=H===void 0?{}:H;var I=a.extraViewProps,J=babelHelpers.objectWithoutPropertiesLoose(a,["commandConfigs","extraLayoutProps","description","errorMessage","inputStrategyRenderer","inputRef","isDisabled","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","selectedEntries","tokensStrategyRenderer","viewStrategyRenderer","xstyles","extraViewProps"]);a=c("useCometInternalTypeaheadState")();var K=a.activeEntries,L=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:d,xstyles:H});H=a.inputXStyle;var M=a.layoutXStyle,N=a.viewXStyle_DO_NOT_USE,O=c("useCometTypeaheadKeyboardForScrollableArea")(L),P=c("cometHandleHighlightDropOnMouseLeave")(J.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(M),children:[h.jsx("div",{className:c("stylex")(H),onClick:J.onClick,role:"presentation",children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:b,onBackspace:t,onBlur:u,onChange:v,onClick:c("emptyFunction"),onDownArrow:w,onEnter:x,onEscape:y,onFocus:z,onShiftTab:A,onTab:B,onUpArrow:C,ref:q,children:function(a,b){return h.jsx(p,babelHelpers["extends"]({description:n},b,{ariaProps:j,autoFocus:J.autoFocus,errorMessage:o,id:J.id,inputEndContent:J.inputEndContent,inputExtraProps:J.inputExtraProps,inputStartContent:h.jsx(F,{isDisabled:r,onPress:J.onRemoveEntry,tokens:E}),isDisabled:r,label:s,placeholder:E.length>0?null:J.placeholder,queryString:D,ref:a,testid:void 0}))}})}),l!=null&&h.jsx("div",babelHelpers["extends"]({},g,{children:l})),f,d&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:J.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")([i.view,N,K.length===0&&!m&&i.viewHidden]),onMouseLeave:P,ref:a,children:h.jsx(c("CometScrollableArea.react"),{horizontal:!1,ref:O,children:h.jsx(G,{ariaProps:k,entries:K,extraViewProps:I,highlightedEntry:L,isLoading:m,onHighlightEntry:J.onHighlightEntry,onPressEntry:J.onPressEntry,queryString:D})})})}}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabTokenizerBaseLayoutInlineStrategy.react",["CometTypeaheadHelperText.react","MWChatTabTokenizerInternalLayoutInlineStrategy.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTokenizerInternalLayoutInlineStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.extraLayoutProps;b=b===void 0?{}:b;var d=b.afterViewContent;b=b.beforeViewContent;var e=a.helperText,f=a.inputRef,g=a.label,j=a.onBackspace,k=a.onBlur,l=a.onChange,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onRemoveEntry,t=a.onUpArrow,u=a.viewRole,v=a.selectedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","inputRef","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onUpArrow","viewRole","selectedEntries"]);var w=c("useCometInternalTypeaheadFetch")();w=w.isLoading;var x=c("useCometInternalTypeaheadState")(),y=x.activeEntries;x=x.highlightedEntry;var z=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),A=z.dispatchIsOpened;i(function(){A(!0)},[A]);z=c("useCometTypeaheadInputRefs")(f);f=z.composedRef;z=z.inputRef;j=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({handlers:{onBackspace:j,onBlur:k,onChange:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onRemoveEntry:s,onUpArrow:t},inputRef:z,selectedEntries:v});k=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:y,helperText:e,highlightedEntry:x,inputLabel:g,isOpened:!0,viewRole:u});return h.jsx(c("MWChatTabTokenizerInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,j,{extraLayoutProps:{afterViewContent:d,ariaProps:k,beforeViewContent:b,helperTextComponent:e!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:e}):null,isLoading:w,isOpened:!0},inputRef:f,label:g,selectedEntries:v,viewRole:u}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabsTokenizerLayoutInlineStrategy.react",["fbt","MWChatTabTokenizerBaseLayoutInlineStrategy.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={layout:{width:"xi55695"},layoutContainer:{borderBottom:"xdppsyt",display:"x78zum5"},root:{position:"x1n2onr6"},to:{color:"xzsf02u",fontSize:"x6prxxf",fontWeight:"x1fcty0u",lineHeight:"xvq8zen",marginStart:"x1d52u69",marginTop:"x1xmf6yo",zIndex:"x1n327nk"},typeaheadInput:{backgroundColor:"xcrg951",boxSizing:"x9f619",display:"x1lliihq",paddingEnd:"x1sxyh0",paddingStart:"xurb0ha"},view:{backgroundColor:"xcrg951",height:"xl6hnh8",maxHeight:"xj8ehma",position:"x10l6tqk",start:"xmh0m78",top:"xdsb8wn",width:"xi55695",zIndex:"xhtitgo","@media (min-height: 1280px)":{height:"x460g69"}}};function a(){return function(a){var b=a.xstyles;b=b===void 0?{}:b;var d=b.viewXStyle_DO_NOT_USE;b=babelHelpers.objectWithoutPropertiesLoose(a,["xstyles"]);a=j(function(){return{inputXStyle:[k.typeaheadInput],layoutXStyle:[k.layout],viewXStyle_DO_NOT_USE:[k.view,d]}},[d]);return i.jsxs("div",{className:c("stylex")(k.root),children:[i.jsxs("div",{className:c("stylex")(k.layoutContainer),children:[i.jsx("div",{"aria-hidden":"true",className:c("stylex")(k.to),children:h._("__JHASH__6UNdxXc7Mre__JHASH__")}),i.jsx(c("MWChatTabTokenizerBaseLayoutInlineStrategy.react"),babelHelpers["extends"]({},b,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._("__JHASH__dp6PXfW93vj__JHASH__"),layerContext:"root",xstyles:a}))]}),(a=b.extraLayoutProps)==null?void 0:a.footer]})}}g.createMWChatTabsTokenizerLayoutInlineStrategy=a}),98);
__d("MWV2ComposeTabHeader.bs",["fbt","MWPThreadTheme.bs","MWText.react","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2IsTabFocusedContext.bs","UseMWV2CloseTab.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={title:{paddingStart:"x1sln4lm"}};function l(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.title),children:j.jsx(b("MWText.react"),{type:"headline4",children:g._("__JHASH__uhF6__U4Uqu__JHASH__")})})}l.displayName=l.name+" [from "+e.id+"]";c={make:l};function a(a){var c=a.tab;a=a.thread;var d=b("UseMWV2CloseTab.bs").useHook(a,c);a=b("MWV2IsTabFocusedContext.bs").useContext();c=b("MWPThreadTheme.bs").useTop();a=a?c:"#BEC2C9";return j.jsx(b("MWV2HeaderContainer.bs").make,{divider:!1,endContent:j.jsx(b("MWV2HeaderCloseButton.bs").make,{color:a,label:g._("__JHASH__1QV0CKBqQm1__JHASH__"),onPress:function(a){return b("bs_curry")._1(d)}}),startContent:j.jsx(l,{})})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.styles=k;f.ComposeTabTitle=c;f.make=d}),null);
__d("MWV2ComposeTab.bs",["BootloaderResource","CometPlaceholder.react","CometProgressRingIndeterminate.react","JSResource","LSDatabaseDeferred.bs","MAWGating","MAWVerifyThreadCutover.bs","MWChatLightSpeedSearchTypeahead.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTabsTokenizerLayoutInlineStrategy.react","MWChatTemporarySearchResult.bs","MWChatTokenizerTokenStrategy.react","MWInteropTokenUtils.bs","MWLightSpeedChatTabContactsContainer.bs","MWOpenAndSecureThreadView.bs","MWPNewMessageDraftContext.bs","MWPReplyContext.bs","MWPThreadTheme.bs","MWSearchTypeaheadViewItemDisabledHook.bs","MWThreadListNewMessageHook.bs","MWV2ChatTabComposer.bs","MWV2ComposeTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2FileDropzone.bs","MWV2NewThreadUtils.bs","MWV2TabContainer.bs","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1599","createMWChatSearchTypeaheadDataEntry","gkx","promiseDone","react","stylex","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("JSResource")("MWPThreadPreview.bs").__setRef("MWV2ComposeTab.bs");function k(a,c,d,e,f,g,h,i,j){j={areWeCreatingASecureThread:c,children:i,renderThreadView:f,setPreviewThread:d,tokens:a};e!==void 0&&(j.nullstate=b("bs_caml_option").valFromOption(e));g!==void 0&&(j.renderThreadPreview=b("bs_caml_option").valFromOption(g));h!==void 0&&(j.checkExistingThreads=b("bs_caml_option").valFromOption(h));return j}function l(a){return i.createElement(b("BootloaderResource").read(j).make,a)}c={make:l,makeProps:k,reasonResource:j};var m={encapsulateZIndex:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",zIndex:"x1ja2u2z"},preview:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",position:"x1n2onr6",zIndex:"x1vjfegm"},spinner:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k"},toggleContainer:{boxShadow:"x7m3og9",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"xyinxu5",paddingBottom:"x1g2khh7",":empty":{display:"xjl7jj"}}};function n(a){return b("createMWChatSearchTypeaheadDataEntry")(b("MWChatTemporarySearchResult.bs").fromContact(void 0,a))}function o(a){var c=a.length,d=b("usePrevious")(c);a=i.useContext(b("MWPReplyContext.bs").context);var e=a.clearReply;i.useEffect(function(){!(d==null)&&c!==d&&b("bs_curry")._2(e,b("bs_caml_int64").zero,!0)},[c,d,e])}var p=b("MAWGating").isTlcSearchEnabled();function a(a){var c=a.initialTokens,d=a.tab;b("MWV2NewThreadUtils.bs").useSyncRanking();a=i.useState(function(){});var e=a[0],f=d.tabType,g;g=f.TAG===0?f._1:!1;var j=b("gkx")("2761")&&b("MAWGating").isArmadillo();f=i.useState(function(){if(j)return!0;else return g});var q=f[1],r=f[0];f=c.map(n);c=b("MWV2NewThreadUtils.bs").useTokens(f,r);var s=c[1],t=c[0];f=b("MWV2NewThreadUtils.bs").useTokensShimmed(t,r);b("MWThreadListNewMessageHook.bs").useHook(t);o(t);var u=i.useState(function(){return!1}),v=u[1],w=b("MWChatStateV2.bs").useDispatch(),x=function(a){return b("bs_curry")._1(w,b("MWChatStateActions.bs").lockInTab(Date.now(),d.tabId,a))};x=b("MWV2NewThreadUtils.bs").useOnAddToken(r,v,x,q);var y=i.useCallback(function(a){return b("bs_curry")._1(v,function(a){return!0})},[v]),z=i.useMemo(function(){return b("MWChatTabsTokenizerLayoutInlineStrategy.react").createMWChatTabsTokenizerLayoutInlineStrategy(!0)},[]),A=b("MWSearchTypeaheadViewItemDisabledHook.bs").useIsDisabled(t,r),B=i.useMemo(function(){return t.some(b("MWInteropTokenUtils.bs").isInterop)},[t]);i.useEffect(function(){if(p&&t.length===1){var a=b("bs_caml_array").get(t,0);a=a.rawData;if(a.isE2e)b("bs_curry")._1(q,function(a){return!0});else{var c=a.otherUserId;c=c!==void 0?c:a.id;a=b("MAWVerifyThreadCutover.bs").verifyThreadCutover(b("LSDatabaseDeferred.bs").db,b("bs_caml_format").caml_int64_of_string(c)).then(function(a){return b("bs_curry")._1(q,function(b){return a})});b("promiseDone")(a)}}},[t,q]);var C=i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx("div",{className:(h||(h=b("stylex")))(m.spinner),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}),children:i.jsx(b("MWLightSpeedChatTabContactsContainer.bs").make,{isSearchView:!1,setTokens:function(a){return b("bs_curry")._1(s,b("bs_curry")._1(a,[]))}})}),D=i.useMemo(function(){return{footer:b("cr:1599")==null?null:i.jsx("div",{className:(h||(h=b("stylex")))(m.toggleContainer),children:i.jsx(b("cr:1599").make,{areWeCreatingASecureThread:r,disabled:B,setAreWeCreatingASecureThread:q,stretch:!0})})}},[r,q,B]),E={tab:d};e!==void 0&&(E.thread=b("bs_caml_option").valFromOption(e));if(e!==void 0){var F=e.clientThreadKey;F=b("bs_int64").to_string(F!==void 0?F:e.threadKey);y=i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsx(b("MWPThreadTheme.bs").make,{themeFbid:e.themeFbid,children:i.jsx(b("MWV2ChatTabComposer.bs").make,{afterSendMessage:y,isPreviewThread:!0,secureThreadToggle:r,tab:d,thread:e},F)})})}else y=null;F={children:i.jsxs("div",{className:h(m.encapsulateZIndex),children:[i.jsx(b("MWV2ComposeTabHeader.bs").make,babelHelpers["extends"]({},E)),i.jsxs(b("MWV2FileDropzone.bs").make,{isMediaOnly:B,thread:e,children:[i.jsx(b("MWChatLightSpeedSearchTypeahead.bs").make,{excludedIDs:c[2],extraLayoutProps:D,getIsViewItemDisabled:A,includeRecommendations:!1,isDisabled:u[0],isSecure:r,layoutStategyRenderer:z,onAddToken:x,onChangeTokens:s,onSearchAbandon:function(a){},onSearchCompletion:function(a){},tokenItemRenderer:b("MWChatTokenizerTokenStrategy.react"),tokens:t}),i.jsx("div",{className:h(m.preview),children:i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsx(l,k(f,r,a[1],b("bs_caml_option").some(C),function(a){return i.jsx(b("MWOpenAndSecureThreadView.bs").make,{thread:a})},void 0,void 0,y))})})]})]}),tab:d};e!==void 0&&(F.thread=b("bs_caml_option").valFromOption(e));return i.jsx(b("MWPNewMessageDraftContext.bs").make,{children:i.jsx(b("MWV2ComposerHasContentContext.bs").make,{children:i.jsx(b("MWV2TabContainer.bs").make,babelHelpers["extends"]({},F))})})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.LazyMWPThreadPreview=c;f.styles=m;f.isTlcEnabled=p;f.$MWInboxSecureThreadToggle$requireCond=b("cr:1599");f.make=d}),null);
__d("LWICometAutomatedAdsCreationRootContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5562192260515848"}),null);/*FB_PKG_DELIM*/
__d("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.dataSource;a=k(!1);var c=a[0],d=a[1],e=j(null);a=h(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);i(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;g=g===void 0?void 0:g;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload;f=c("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g),q=h(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},[o]);i(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(k)?n(b):m(b)}d!=null&&a(d)},[m,n,d,q,k]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(null),d=b[0],e=b[1];b=c("useBaseTokenizerSubscriptionDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a}),98);
__d("CometInternalTokenizerSubscriptionProvider",["CometInternalTokenizerFetchContext","CometInternalTypeaheadEmptyFetchProvider","react","useBaseTokenizerSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams;a.loggingContext;var f=a.onFetchEntries_DO_NOT_USE,g=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;a=c("useBaseTokenizerSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;k((c=a)!=null?c:[]);f&&f(a);g&&!g.isResolved()&&(d&&(b==="cache"&&a.length>=g.getEntriesCountForVisualComplete()?g.setEndReason("max_suggestions_reached"):b==="network"?g.setEndReason("all_queries_completed"):b==="network-no-results"&&g.setEndReason("all_queries_completed_no_network_results"),g.resolve()))},[k,f,g])});d=a[0];var l=d.isLoading,m=d.source,n=a[1],o=a[2];e=j(function(){return{fetch:n,isLoading:l,refetch:o,source:m}},[n,l,o,m]);return h.jsx(c("CometInternalTokenizerFetchContext").Provider,{value:e,children:h.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:l,source:m,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTokenizerSubscriptionProvider","CometInternalTypeaheadStateProvider","CometTokenizerInternal.react","emptyFunction","react","useCometUniqueID","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.dataSource,f=a.dataSourceFetchConfigParams,g=a.decorators,j=g===void 0?[]:g;g=a.inputRef;var k=a.emptyEntries_DO_NOT_USE,l=a.id,m=a.isDisabled;m=m===void 0?!1:m;var n=a.label;n=n===void 0?"":n;var o=a.loggingContext,p=a.onAddToken;p=p===void 0?c("emptyFunction"):p;var q=a.onBlur;q=q===void 0?c("emptyFunction"):q;var r=a.onChangeTokens,s=a.onClose;s=s===void 0?c("emptyFunction"):s;var t=a.onEscape;t=t===void 0?c("emptyFunction"):t;var u=a.onFocus;u=u===void 0?c("emptyFunction"):u;var v=a.onOpen;v=v===void 0?c("emptyFunction"):v;var w=a.onRemoveToken;w=w===void 0?c("emptyFunction"):w;var x=a.onSearchCompletion;x=x===void 0?c("emptyFunction"):x;var y=a.placeholder;y=y===void 0?"":y;var z=a.testid;z=z===void 0?"":z;z=a.tokensStrategyRenderer;var A=a.tokens,B=a.viewRole;B=B===void 0?"listbox":B;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","dataSource","dataSourceFetchConfigParams","decorators","inputRef","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]);var C=c("useCometUniqueID")(),D=c("useStable")(function(){var a=c("CometTokenizerInternal.react");j.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});n=n||y;return h.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:k,onClose:s,onOpen:v,children:h.jsx(c("CometInternalTokenizerSubscriptionProvider"),{dataSource:e,dataSourceFetchConfigParams:f,loggingContext:o,children:h.jsx(D,babelHelpers["extends"]({},a,{autoFocus:d,commandConfigs:i,id:(b=l)!=null?b:C,inputRef:g,isDisabled:m,label:n,onBackspace:c("emptyFunction"),onBlur:q,onChangeEntries:r,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:t,onFocus:u,onHighlightEntry:c("emptyFunction"),onPressEntry:p,onRemoveEntry:w,onSearchCompletion:x,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:y,selectedEntries:A,testid:void 0,tokensStrategyRenderer:z,viewRole:B}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={inputXStyle:{paddingBottom:"x1a8lsjc"}};function a(a,b){var d=j(function(){return{xstyle:k.inputXStyle}},[]),e=c("useCometUniqueID")();return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{ariaProps:babelHelpers["extends"]({},a.ariaProps,{"aria-describedby":e}),inputExtraProps:d,ref:b})),i.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:e,text:h._("__JHASH__NSDogHXzKMm__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MWChatSearchTokenizerLightspeedSubscriptionDataSource",["MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes.re","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadEnumerate","relay-runtime/network/RelayObservable"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.database,d=a.excludedIDs;d=d===void 0?[]:d;var e=a.lightspeedSupportedTypes;e=e===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:e;var f=a.source;f=f===void 0?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal:f;var g=a.includeRecommendations;g=g===void 0?!0:g;a=a.dedupeWithOtherUserId;a=a===void 0?!1:a;this.$2=[];this.$3=!1;this.$1=new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:b,excludedIDs:d,includeGroupSearch:!1,includeRecommendations:g,lightspeedSupportedTypes:e,source:f});this.$2=d;this.$3=a}var b=a.prototype;b.fetchNetwork=function(a){var b=this,d=a.selectedTokens;a=babelHelpers.objectWithoutPropertiesLoose(a,["selectedTokens"]);var e=this.$1.fetchNetwork(a);return c("relay-runtime/network/RelayObservable").create(function(a){e.subscribe({complete:a.complete,error:a.error,next:function(e){var f=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(d,b.$3);f=c("mwChatSearchPayloadEnumerate")(f(e));return a.next(babelHelpers["extends"]({},f,{selectedTokens:d}))}})})};b.setExcludedIds=function(a){this.$1.setExcludedIds(a)};return a}();g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.ariaProps,d=a.entries,e=a.extraViewProps,f=a.highlightedEntry,g=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]),k=e==null?void 0:e.getIsViewItemDisabled,l=(a=e==null?void 0:e.hasReachedGroupLimit)!=null?a:!1,m=(a=e==null?void 0:e.hasReachedGxacGroupLimit)!=null?a:!1,n=i(function(a){return l||(k?k(a):!1)||m&&a.rawData.isInstagramAccount},[k,l,m]);return h.jsxs(h.Fragment,{children:[g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:f,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:b,isActive:d,isDisabled:n(b),key:b.key,role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MAWGating","MWChatSearchInputStrategy.react","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTokenizerLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","MWLSSearchIssueSearchQuerySupportedTypes.re","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useReStore","withBaseTokenizerEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;function a(a){var b=a.excludedIDs,e=a.extraLayoutProps,f=a.getIsViewItemDisabled,g=a.includeRecommendations,m=g===void 0?!0:g;g=a.isDisabled;var n=a.layoutStategyRenderer,o=a.onAddToken,p=a.onChangeTokens,q=a.onSearchAbandon,r=a.onSearchCompletion,s=a.supportedSearchTypes,t=s===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:s;s=a.tokenItemRenderer;var u=a.tokens,v=a.xstyles;a=a.isSecure;var w=l(""),x=w[0];w=w[1];var y=c("useReStore")(),z=a?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.omnipickerArmadillo:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal,A=j(function(){return new(c("MWChatSearchTokenizerLightspeedSubscriptionDataSource"))({database:y,dedupeWithOtherUserId:!0,excludedIDs:b,includeRecommendations:m,lightspeedSupportedTypes:t,source:z})},[y,b,m,t,z]);a=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withBaseTokenizerEscapeDecorator"),params:{onSearchAbandon:q}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:A}}});q=k(null);var B=q.current;i(function(){B&&B.focus()},[B,u]);i(function(){A.setExcludedIds(b||[])},[A,b]);s=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:s});var C=j(function(){return{getIsViewItemDisabled:f}},[f]);return h.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:A,dataSourceFetchConfigParams:d("MAWGating").isArmadillo()?{requestFlow:"network-upon-approve"}:{},decorators:a,extraLayoutProps:e,extraViewProps:C,inputRef:q,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:g,layoutStrategyRenderer:n,loggingContext:"messenger_chat",onAddToken:o,onChange:w,onChangeTokens:p,onSearchCompletion:r,queryString:x,testid:void 0,tokens:u,tokensStrategyRenderer:s,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:v})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.bs",["MWChatLightSpeedSearchTypeahead.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatLightSpeedSearchTypeahead.react");f.make=a}),null);
__d("MWSearchTypeaheadViewItemDisabledHook.bs",["MWInteropTokenUtils.bs","bs_curry","cr:1573","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:1573")==null?function(a,b){return[!1,!1]}:b("cr:1573").useHookForNewThread;function a(a,c){var d=h.useMemo(function(){return[a.some(b("MWInteropTokenUtils.bs").isInterop),a.some(function(a){return!b("MWInteropTokenUtils.bs").isGxacEligible(a)})]},[a]),e=d[1],f=d[0];d=b("bs_curry")._2(i,a,c);var g=d[1],j=d[0];return h.useCallback(function(a){var d=b("MWInteropTokenUtils.bs").isInterop(a),h=!b("MWInteropTokenUtils.bs").isGxacEligible(a);a=!b("MWInteropTokenUtils.bs").isInteropEligible(a);if(j||d&&g||d&&c||e&&d||f&&h)return!0;else if(d)return a;else return!1},[f,e,c,j,g])}f.$MWUseHasGroupLimitBeenReached$requireCond=b("cr:1573");f.useIsDisabled=a}),null);
__d("MWThreadListNewMessageHook.bs",["MWInteropTokenUtils.bs","MWThreadListNewMessageState.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadListNewMessageState.bs").useDispatch();h.useEffect(function(){b("bs_curry")._1(c,{_0:!0,TAG:2});return function(a){return b("bs_curry")._1(c,{_0:void 0,TAG:1})}},[c]);h.useEffect(function(){b("bs_curry")._1(c,{_0:a.filter(function(a){return!b("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a)}),TAG:3})},[c,a])}f.useHook=a}),null);
__d("MWV2NewThreadUtils.bs",["FBID.bs","LSContactBlockedByViewerStatus.bs","LSDatabaseType.bs","LSSearchType.bs","MWInteropTokenUtils.bs","MWLSDatabaseLazySync.bs","MWPActor.bs","MessagingThreadType.bs","MessengerWebEventsFalcoEvent.bs","bs_belt_Option","bs_caml_format","bs_curry","bs_int64","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){if(a==="group")return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:"search_click_result",thread_fbid:c}});else if(a==="messages"||a==="message"){b("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:"search_click_result",other_user_fbid:c}})}function a(a){var c=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking);h.useEffect(function(){b("bs_curry")._1(c)},[c])}var j=[];function c(a,c){var d=h.useState(function(){return a}),e=d[1];d=d[0];var f=b("MWPActor.bs").useActor(),g=h.useMemo(function(){return[b("FBID.bs").ofStringExn(b("bs_int64").to_string(f))]},[f]),i=h.useCallback(function(a){return b("bs_curry")._1(e,function(c){return a.filter(function(a){if(a.rawData.id!==b("FBID.bs").ofStringExn(b("bs_int64").to_string(f)))return!b("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a);else return!1})})},[e,f]);return[d,i,c||d.length>0?g:j]}function d(a,c){return h.useMemo(function(){return a.filter(function(a){return!b("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a)}).map(function(a){a=a.rawData;var d=a.resultType,e=a.isInstagramAccount===!0,f=a.isContact,g=a.otherUserId;g=g!==void 0?g:a.id;var h;if(e)h=f?b("LSSearchType.bs").igContactFollowing:b("LSSearchType.bs").igNoncontactFollowing;else{e=0;f?d==="user"?h=b("LSSearchType.bs").contact:e=1:d==="user"?h=b("LSSearchType.bs").noncontact:e=1;e===1&&(d==="page"?h=b("LSSearchType.bs").page:d==="group"?h=b("LSSearchType.bs").group:(b("recoverableViolation")("Had troubles converting search result to token.\n              Is Contact: "+(f?"true":"false")+"\n              Token Type: "+d,"messenger_web_product"),h=b("LSSearchType.bs").noncontact))}e=a.verificationStatus;return{blockedByViewerStatus:b("LSContactBlockedByViewerStatus.bs").unblocked,contextLine:a.subtext,displayName:a.displayName,id:b("bs_caml_format").caml_int64_of_string(g),isInteropEligible:a.isInteropEligible,isVerified:e!==void 0?e==="NOT_VERIFIED"?!1:!0:void 0,profilePicUrl:a.imageUrl,secondaryProfilePicUrl:a.secondaryImageUrl,threadType:d==="user"?c?b("MessagingThreadType.bs").secureMessageOverWaOneToOne:b("MessagingThreadType.bs").oneToOne:d==="group"?b("MessagingThreadType.bs").group:b("MessagingThreadType.bs").oneToOne,type_:h}})},[a,c])}function e(a,c,d,e){var f=b("MWPActor.bs").useActor();return h.useCallback(function(g){var h=g.rawData,j=h.id,k=h.resultType,l=function(a){b("bs_curry")._1(c,function(a){return!0});return b("bs_curry")._1(d,{clientThreadKey:void 0,threadKey:b("bs_caml_format").caml_int64_of_string(j),threadType:a})};b("bs_belt_Option").getWithDefault(h.isInstagramAccount,!1)&&b("bs_curry")._1(e,function(a){return!1});a||i(k,j);h=b("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(g);if(k==="user")if(b("bs_int64").to_string(f)===j||h)return l(b("MessagingThreadType.bs").oneToOne);else return;else if(k==="group")return l(b("MessagingThreadType.bs").group);else if(k==="messages"||k==="message"){b("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return l(a?b("MessagingThreadType.bs").secureMessageOverWaOneToOne:b("MessagingThreadType.bs").oneToOne)},[a,c,f])}f.logTokenClick=i;f.useSyncRanking=a;f.noExcludedTokens=j;f.useTokens=c;f.useTokensShimmed=d;f.useOnAddToken=e}),null);/*FB_PKG_DELIM*/
__d("MWTextWithEntities.bs",["CometLink.react","MAWArmadilloLink.react","MWMessageCellFocusTable.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e,f){var g=e!==void 0?e:!1;return function(e,f){if(g){var i={children:e,href:f.uri,xstyle:a,bypassMDS_DO_NOT_USE:!0};c!==void 0&&(i.target=b("bs_caml_option").valFromOption(c));d!==void 0&&(i.testid=d);i=h.jsx(b("MAWArmadilloLink.react"),babelHelpers["extends"]({},i))}else{e={children:e,href:f.uri,xstyle:a};c!==void 0&&(e.target=b("bs_caml_option").valFromOption(c));d!==void 0&&(e.testid=d);i=h.jsx(b("CometLink.react"),babelHelpers["extends"]({},e))}return h.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:h.jsx("span",{role:"gridcell",children:i})})}}f.linkPlugin=a}),null);
__d("MWInboxInfoSharedContentQPLLogger.bs",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f){"use strict";var g={contents:!1};function a(a){var c;switch(a.TAG){case 0:c="side_panel_media";break;case 1:c="side_panel_files";break;case 2:c="side_panel_links";break}g.contents=!0;b("QPLUserFlow").start(b("qpl")._(778117242,"206"),{annotations:{string:{entrypoint:c}},cancelOnUnload:!0})}function c(a){if(g.contents===!1){var c;switch(a.TAG){case 0:c="media";break;case 1:c="file";break;case 2:c="link";break}g.contents=!0;b("QPLUserFlow").start(b("qpl")._(778117242,"206"),{annotations:{string:{content_location:"thread",content_type:c,entrypoint:"thread"}},cancelOnUnload:!0})}b("QPLUserFlow").addPoint(b("qpl")._(778117242,"206"),"shared_content_click",{})}function d(a){var c;switch(a.TAG){case 0:c="open_tab_media";break;case 1:c="open_tab_files";break;case 2:c="open_tab_links";break}b("QPLUserFlow").addPoint(b("qpl")._(778117242,"206"),c,{})}function e(a,c){switch(a.TAG){case 0:b("QPLUserFlow").addPoint(b("qpl")._(778117242,"206"),"load_tab_media",{});b("QPLUserFlow").addAnnotations(b("qpl")._(778117242,"206"),{"int":{media_count:c}});return;case 1:b("QPLUserFlow").addPoint(b("qpl")._(778117242,"206"),"load_tab_files",{});b("QPLUserFlow").addAnnotations(b("qpl")._(778117242,"206"),{"int":{files_count:c}});return;case 2:b("QPLUserFlow").addPoint(b("qpl")._(778117242,"206"),"load_tab_links",{});b("QPLUserFlow").addAnnotations(b("qpl")._(778117242,"206"),{"int":{links_count:c}});return}}function h(a){var c;switch(a.TAG){case 0:c="media";break;case 1:c="file";break;case 2:c="link";break}b("QPLUserFlow").addPoint(b("qpl")._(778117242,"206"),"shared_content_click",{});b("QPLUserFlow").addAnnotations(b("qpl")._(778117242,"206"),{string:{content_location:"side_panel",content_type:c}});var d;switch(a.TAG){case 0:case 1:d=!1;break;case 2:d=!0;break}if(d){b("QPLUserFlow").endSuccess(b("qpl")._(778117242,"206"));g.contents=!1;return}}function i(a){b("QPLUserFlow").endCancel(b("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"side_panel_navigated_back"}}}),g.contents=!1}function j(a){b("QPLUserFlow").endCancel(b("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"close_info_panel"}}}),g.contents=!1}function k(a){b("QPLUserFlow").endCancel(b("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"navigated_away"}}}),g.contents=!1}function l(a){b("QPLUserFlow").endSuccess(b("qpl")._(778117242,"206")),g.contents=!1}function m(a){b("QPLUserFlow").endCancel(b("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"closed_viewer"}}}),g.contents=!1}f.logOpenSidePanel=a;f.logOpenSharedContentFromThread=c;f.logOpenTab=d;f.logLoadTab=e;f.logOpenSharedContentFromSidePanel=h;f.logNavigateBackFromSidePanel=i;f.logCloseInfoPanel=j;f.logNavigateAwaySidePanel=k;f.logOpenContentViewer=l;f.logCloseContentViewer=m}),null);
__d("MWV2MessageRowActionsContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c={current:function(a){}};d={current:function(a){}};e={current:function(a){}};b={current:function(a){}};c={forwardMessage:c,openReactionsMenu:d,removeMessage:e,replyToMessage:b};var i=h.createContext(c);function a(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{children:b,value:a})}d={make:a};f.emptyValue=c;f.context=i;f.Provider=d}),null);
__d("useCometRouterIsChatEntity",["getCometEntityKey","recoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null){c("recoverableViolation")("Router state is not defined in `useCometRouterIsChatEntity`","work_comet_core");return!1}var b=c("getCometEntityKey")(a.main.route);if(b==null){c("recoverableViolation")("Entity keys are not defined for "+a.main.route.url,"work_comet_core");return!1}a=b.entity_type==="chat";b=b.section==="WORK_CHAT";return a||b}g["default"]=a}),98);
__d("MWChatReactionsAction.bs",["fbt","CometKeys","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","MWV2MessageRowActionsContext.bs","ODS","bs_belt_Option","bs_curry","gkx","react","stylex","useCometRouterIsChatEntity"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={add:"ADD_REACTION",remove:"REMOVE_REACTION"};var k=b("MWChatColors.bs").MessageActions.styles,l={popoverLoading:{minHeight:"x1wiwyrm",minWidth:"x1q6reyq"}};function m(a){}var n=j.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[j.jsx("circle",{className:(i||(i=b("stylex")))(k.svgStroke),cx:"11",cy:"11",r:"7",strokeWidth:"1.5px"}),j.jsx("path",{className:i(k.svgStroke),d:"M8,13Q11,16,14,13",strokeWidth:"1.5px"}),j.jsx("circle",{className:i(k.svgFill),cx:"9",cy:"10",r:"1.2"}),j.jsx("circle",{className:i(k.svgFill),cx:"13",cy:"10",r:"1.2"})]});d={key:b("CometKeys").UP};var o={key:b("CometKeys").DOWN};function a(a){var c=a.align,d=a.closeActionsMenu,e=a.messageID,f=a.onVisibilityChange,h=a.selectedReaction,o=a.sendReaction,p=a.isSecure;a=a.disableCustomReactions;p=p!==void 0?p:!1;a=a!==void 0?a:!1;var q=g._("__JHASH__czR8vxcW0mN__JHASH__"),r=b("gkx")("1224637")&&b("useCometRouterIsChatEntity")(),s=j.useState(function(){return!1}),t=s[1],u=s[0];s=j.useContext(b("MWV2MessageRowActionsContext.bs").context);var v=s.openReactionsMenu,w=j.useCallback(function(a){if(b("gkx")("3417")){v.current=m;return}},[v]);j.useEffect(function(){return w},[w]);s=j.useCallback(function(a){var c=h!==void 0?h===a:!1;b("bs_curry")._2(o,a,c);c||b("MWLSLogMessageClick.bs").logMessageClicked(e,b("LsTargetType.bs").reaction);return b("bs_curry")._1(d)},[h,o,e,d]);var x=j.useCallback(function(a){a||b("bs_curry")._1(t,function(a){return!1});return b("bs_curry")._1(f,a)},[t,f]);return j.jsx(b("CometLazyPopoverTrigger.react"),{align:function(){switch(b("bs_belt_Option").getWithDefault(c,"middle")){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),fallback:j.jsx(b("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:[l.popoverLoading]}),onVisibilityChange:x,popoverProps:{closeActionsMenu:d,disableCustomReactions:a,isSecure:p,messageID:e,onClose:m,onSelect:s,selectedReaction:h,setShowEmojiPicker:b("bs_curry").__1(t),showEmojiPicker:u},popoverResource:r&&b("gkx")("4433")?b("JSResource")("ChatGeminiAnimatedReactionsMenu").__setRef("MWChatReactionsAction.bs"):b("JSResource")("MWChatReactionsMenu").__setRef("MWChatReactionsAction.bs"),popoverType:u?"dialog":"menu",position:function(){switch(u?"below":"above"){case"above":return"above";case"below":return"below";case"start":return"start";case"end_":return"end"}}(),children:function(a,c,d,f,g,h,l){d=function(a){b("bs_curry")._1(c),b("MWLSLogMessageClick.bs").logMessageClicked(e,b("LsTargetType.bs").reactionIcon),b("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};v.current=d;return j.jsx(b("MWTooltip.react"),{align:"middle",position:"above",tooltip:q,children:j.jsx(b("CometPressable.react"),{"aria-label":q,expanding:!0,onHoverIn:b("bs_curry").__1(f),onHoverOut:function(a){return b("bs_curry")._1(g)},onPress:d,onPressIn:b("bs_curry").__1(h),overlayDisabled:!0,ref:a,role:"button",testid:void 0,children:j.jsx("div",{className:(i||(i=b("stylex")))(k.action),children:j.jsx("div",{className:i(k.icon),children:n})})})})}})}a.displayName=a.name+" [from "+e.id+"]";e=a;f.Action=c;f.styles=k;f.styles2=l;f.noop=m;f.reactionIcon=n;f.keyUp=d;f.keyDown=o;f.make=e}),null);
__d("MWTheme.re",["MWTheme.bs"],(function(a,b,c,d,e,f){a=b("MWTheme.bs").isGradient;f.isGradient=a;c=b("MWTheme.bs").useTheme;f.useTheme=c}),null);
__d("MWChatVideoPlayerControls.react",["VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","react","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return h.jsx("span",{className:"x1g0ag68 x12y6twl",children:a.children})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=c("useVideoPlayerDefaultControlsVisibility")(),e=b.isControlsVisible;b=b.onUserInteraction;var f=d("VideoPlayerHooks").usePaused();f=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:f});var g=f.bigPlayButtonElement;f=f.bigPlayButtonIsVisible;var j=d("VideoPlayerHooks").useIsFullscreen();e=e&&!f;f=h.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:e,children:j?h.jsxs(h.Fragment,{children:[h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[h.jsx(c("VideoPlayerPlaybackControl.react"),{}),h.jsx(c("VideoPlayerPlaybackTimer.react"),{})]}),h.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:h.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[h.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b}),h.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(d("VideoPlayerControlsGroups.react").Contracted,{children:h.jsx(i,{children:h.jsx(c("VideoPlayerPlaybackControl.react"),{})})}),h.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:h.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[a.hideExpandButton?null:h.jsx(i,{children:h.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b})}),h.jsx(i,{children:h.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})})]})]})});return h.jsxs(h.Fragment,{children:[g,f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatVideoPlayer.react",["CometProductAttribution","GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","VideoPlayerDefaultControls.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","getVideoPlayerAutoplayProps","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={link_context:null,rootName:"MWChatMediaRoot.react",tap_point:"unexpected",tracePolicy:"comet.sharedmediaviewer.media",trackingNodes:null},j=function(a,b){switch(a){case"mwchat":return h.jsx(c("MWChatVideoPlayerControls.react"),{hideExpandButton:b===!0});case"default":return h.jsx(c("VideoPlayerDefaultControls.react"),{});case"none":return null;default:return null}};function a(a){var b=a.autoPlaySetting,e=a.controls,f=a.fbid,g=a.hdSrc,k=a.hideExpandButton,l=a.initialForceHD,m=a.originalHeight,n=a.originalWidth;a=a.sdSrc;l=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:g,hdSrcPreferred:(g=l)!=null?g:!1,isExternalMedia:!1,sdSrc:a});g=d("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting();if(l==null)return null;a=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:l,typename:"VideoPlayerProgressiveImplementation"}];l=c("getVideoPlayerAutoplayProps")(d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult("unknown",b!=null?b:g,!0),"respect_user_settings",null);return h.createElement(c("VideoPlayerX.react"),babelHelpers["extends"]({},l,{implementations:a,key:f,loopCount:-1,originalHeight:m,originalWidth:n,playerOriginOverride:"messaging",portalingEnabled:!1,productAttribution:{v2:[d("CometProductAttribution").getProductAttributionEntryV2(i)]},subOrigin:"messenger_thread",videoFBID:f}),h.jsx(c("VideoPlayerSurface.react"),{children:j(e,k)}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWText.react","MWTheme.re","formatDate","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.timestamp;var b=c("MWTheme.re").useTheme();return h.jsxs(c("BaseHeading.react"),{testid:void 0,children:[h.jsx("div",{className:"xnalus7 x10wlt62 x6ikm8r xqtp20y x1hyvwdk xzpqnlu",children:h.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),h.jsx("div",{"aria-hidden":!0,className:"x2b8uid xr9ek0c xjpr12u"+(c("MWTheme.re").isGradient(b)?" xcrg951":""),"data-scope":"date_break",children:h.jsx(c("MWText.react"),{color:"tertiary",type:"meta4",children:h.jsx("span",{className:"xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPDateBreak.bs",["MWPDateBreak.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWPDateBreak.react");f.make=a}),null);
__d("BaseHeadingContextWrapper.re",["BaseHeadingContextWrapper.react"],(function(a,b,c,d,e,f){a=b("BaseHeadingContextWrapper.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts"});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("MWE2EEIntroDialogTrigger.react",["CometLazyDialogTrigger.react","JSResourceForInteraction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWE2EEIntroDialog.react").__setRef("MWE2EEIntroDialogTrigger.react");function a(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return h.jsx(c("CometLazyDialogTrigger.react"),{children:b,dialogProps:a,dialogResource:i,onHide:a.onClose})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureThreadToggleWithNuxReqCondWrapper.react",["CometSwitch.react","nux:34","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("nux:34")==null?void 0:b("nux:34")("armadillo_web_compose_message_nux");function a(a){var b=i==null?void 0:i(a);return b!=null?b:h.jsx(c("CometSwitch.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureThreadToggle.bs",["fbt","BaseTheme.react","MAWSecureThreadToggleWithNuxReqCondWrapper.react","MWText.react","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={"switch-active":"var(--always-black)"};d={"switch-active":"var(--always-black)"};var k={dark:d,light:c,type:"VARIABLES"},l={secureToggle:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x13a6bvl"},stretch:{justifyContent:"x1qughib"},text:{marginEnd:"x1emribx"}};function m(a){if(b("gkx")("2127"))return j.jsx(b("BaseTheme.react"),{config:k,children:a});else return a}function a(a){var c=a.areWeCreatingASecureThread,d=a.setAreWeCreatingASecureThread,e=a.stretch;a=a.disabled;e=e!==void 0?e:!1;a=a!==void 0?a:!1;var f=c?g._("__JHASH__XMlG-Zqmdof__JHASH__"):g._("__JHASH__ssunt5rkZB___JHASH__");return j.jsxs("label",{className:(i||(i=b("stylex")))(l.secureToggle,e?l.stretch:!1),children:[j.jsx("span",{className:i(l.text),"aria-hidden":!0,children:j.jsx(b("MWText.react"),{type:"body3",children:f})}),m(j.jsx(b("MAWSecureThreadToggleWithNuxReqCondWrapper.react"),{onClick:function(a){return b("bs_curry")._1(d,function(a){return!a})},value:c,testid:void 0,size:"small",disabled:a,children:f}))]})}a.displayName=a.name+" [from "+e.id+"]";d=a;f.theme=k;f.styles=l;f.wrapTheme=m;f.make=d}),null);
__d("MWInboxSecureThreadToggle.bs",["MAWGating","MAWSecureThreadToggle.bs","MAWThreadCutover.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.areWeCreatingASecureThread,d=a.disabled,e=a.setAreWeCreatingASecureThread;a=a.stretch;a=a!==void 0?a:!1;var f=b("MAWThreadCutover.bs").useIsCurrentUserCutoverUser(),g=b("MAWGating").isTlcSearchEnabled(),i=b("MAWGating").isDevDebugEnabled();if(i)return h.jsx(b("MAWSecureThreadToggle.bs").make,{areWeCreatingASecureThread:c,disabled:d,setAreWeCreatingASecureThread:e,stretch:a});else if(g)if(f)return null;else return h.jsx(b("MAWSecureThreadToggle.bs").make,{areWeCreatingASecureThread:c,disabled:d,setAreWeCreatingASecureThread:e,stretch:a});else return h.jsx(b("MAWSecureThreadToggle.bs").make,{areWeCreatingASecureThread:c,disabled:d,setAreWeCreatingASecureThread:e,stretch:a})}c=a;f.make=c}),null);
__d("MAWSecureThreadToggleWithNux.react",["CometSwitch.react","MWE2EEIntroDialogTrigger.react","declareNUXRequireable","react","useNUX"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return function(b){var d=b.onClick,e=b.value,f=babelHelpers.objectWithoutPropertiesLoose(b,["onClick","value"]);b=c("useNUX")(a);var g=b[0],i=b[1];return h.jsx(c("MWE2EEIntroDialogTrigger.react"),{children:function(a){return h.jsx(c("CometSwitch.react"),babelHelpers["extends"]({},f,{onClick:function(b){g&&!e&&(i.onDismiss(),a()),d!=null&&d(b)},value:e}))}})}}b=c("declareNUXRequireable")(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("LSIssueBotsInfoFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),c.i64.gt([0,0],[0,0])?d[1]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[1]=[0,0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"fetch_bot_info",[0,571],d[2],f,f,[0,0],[0,0],f,f,d[1]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.resolve(e)}])}e.exports=a}),null);