if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("useMarketplaceEntityUrl.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"isCOBMOB"}],kind:"Fragment",metadata:null,name:"useMarketplaceEntityUrl",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{condition:"isCOBMOB",kind:"Condition",passingValue:!0,selections:[{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'}]}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("MarketplaceNotificationsUpdateSeenStateMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5673393432677741"}),null);
__d("MarketplaceNotificationsUpdateSeenStateMutation.graphql",["MarketplaceNotificationsUpdateSeenStateMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"bookmarkIDs"},c={defaultValue:null,kind:"LocalArgument",name:"hasBookmark"},d={defaultValue:null,kind:"LocalArgument",name:"hasTopTab"},e={defaultValue:null,kind:"LocalArgument",name:"input"},f=[{kind:"Variable",name:"data",variableName:"input"}],g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notifications",plural:!0,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null},i=[{kind:"Variable",name:"bookmark_ids",variableName:"bookmarkIDs"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"PRODUCT"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],j=[{kind:"Literal",name:"bookmark_render_location",value:"COMET_LEFT_NAV"}],k={condition:"hasBookmark",kind:"Condition",passingValue:!0,selections:[{alias:"bookmark_unread_count",args:j,kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_LEFT_NAV")'}]};j={alias:"bookmark_unread_count_string",args:j,kind:"ScalarField",name:"unread_count_string",storageKey:'unread_count_string(bookmark_render_location:"COMET_LEFT_NAV")'};var l={condition:"hasTopTab",kind:"Condition",passingValue:!0,selections:[{alias:"tab_unread_count",args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'}]};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"MarketplaceNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:f,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[h,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[g],storageKey:null},k,j,l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c,e],kind:"Operation",name:"MarketplaceNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:f,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[h,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g],storageKey:null},k,j,l,g],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MarketplaceNotificationsUpdateSeenStateMutation_facebookRelayOperation"),metadata:{},name:"MarketplaceNotificationsUpdateSeenStateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometPivotLinkRow.react",["CometRow.react","CometRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={link:{maxWidth:"xthy2uy"}};function a(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return h.jsx(c("CometRow.react"),babelHelpers["extends"]({},a,{align:"start",spacing:8,children:h.Children.map(b,function(a){return h.jsx(c("CometRowItem.react"),{xstyle:i.link,children:a})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSurfaceHighlight.react",["fbt","BaseContainerQueryElement.react","BaseRow.react","CometCard.react","CometUnitHeader.react","react","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k={hidden:{display:"x1s85apg"},item:{maxWidth:"x1ap80js"},notifsContainer:{paddingBottom:"xwib8y2"}},l=575;function a(a){var b=a.actionLinkProps,d=a.actionRef,e=a.border;e=e===void 0?"none":e;var f=a.borderHighlightAnimation;f=f===void 0?!1:f;var g=a.children,m=a.dropShadow;m=m===void 0?2:m;var n=a.onActionPress,o=a.title,p=a.totalNotifications;a=j(function(){return p>=2?p:null});var q=a[0],r=a[1];a=j(!0);var s=a[0],t=a[1];a=c("useResizeObserver")(function(a){if(p>2||p===1)return;a.width>l?r(null):r(2)});var u=c("useResizeObserver")(function(a){a=a.width===0;a?t(!0):t(!1)});q=q!=null?h._("__JHASH__Nujp0VPL_ko__JHASH__",[h._param("number of total notifications",p)]):null;return i.jsxs(c("CometCard.react"),{background:"white",border:e,borderHighlight:f?"animated":void 0,dropShadow:m,ref:a,children:[i.jsx(c("CometUnitHeader.react"),{action:q,actionLinkProps:b,actionRef:d,headline:o,level:3,onActionPress:n}),i.jsx(c("BaseRow.react"),{xstyle:k.notifsContainer,children:i.Children.toArray(g).slice(0,2).map(function(a,b){return b===0?i.jsx(c("BaseContainerQueryElement.react"),{breakpoint:l,inverseToContainer:!0,maxWidth:"100%",minWidth:"50%",children:i.jsx("div",{className:c("stylex")(k.item),children:a})},"notif-"+b):i.jsx(c("BaseContainerQueryElement.react"),{breakpoint:l,maxWidth:"50%",minWidth:0,ref:u,children:i.jsx("div",{className:c("stylex")(k.item,s&&k.hidden),children:a})},"notif-"+b)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MarketplaceNotificationsUpdateSeenStateMutation",["CometHomepageBadgeCountClearingMutationHelper","CometNotificationsMutationLogger","CometNotificationsThinClientConnectionHandler","CometRelay","MarketplaceNotificationsUpdateSeenStateMutation.graphql","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i={bookmarkIDs:["1606854132932955"],hasBookmark:!0,hasTopTab:!0},j=h!==void 0?h:h=b("MarketplaceNotificationsUpdateSeenStateMutation.graphql");function k(a,b){var c=b[0];if(c==null)return;b=a.get(d("relay-runtime").VIEWER_ID);if(b==null)return;d("CometHomepageBadgeCountClearingMutationHelper").clearBadgeCount(babelHelpers["extends"]({},i,{store:a}));a=d("CometNotificationsThinClientConnectionHandler").getConnection(b,"MarketplaceNotificationsList_notifications_page");if(a==null)return;b=a.getLinkedRecords("edges");if(b==null||b.length===0)return;var e=[];b.forEach(function(a){if(a==null)return;a=a.getLinkedRecord("node");if(a==null)return;var b=a.getType();if(b!=="NotifPageNotificationRow"&&b!=="NotifPageCachedNotificationRow")return;b=a.getLinkedRecord("notif");if(b==null)return;e.push(b)});a=e.findIndex(function(a){return a.getValue("id")===c});if(a<0)return;e[a]!=null&&e[a].setValue("SEEN_BUT_UNREAD","seen_state")}function a(a,b,c){var e=function(a){if(b==null)return;var c=b.notif_ids;if(c==null)return;k(a,c)},f=d("CometNotificationsMutationLogger").notificationMarkAsSeenStart(),g=f.logOnError,h=f.logOnSuccess;return d("CometRelay").commitMutation(a,{mutation:j,onCompleted:function(a){h();d("CometHomepageBadgeCountClearingMutationHelper").onCompleted(i.bookmarkIDs,a==null?void 0:(a=a.notifications_update_seen_or_read)==null?void 0:a.viewer);c&&c.onSuccess()},onError:function(a){g(a),c&&c.onError(a)},optimisticUpdater:e,variables:babelHelpers["extends"]({},i,{input:b})})}f.exports={MarketplaceNotificationsUpdateSeenStateMutation:a,mutation:j}}),34);
__d("useMarkNotificationsSeen",["CometRelay","MarketplaceNotificationsUpdateSeenStateMutation","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("CometRelay").useRelayEnvironment();return function(b){if(b==null||b.length===0)return;d("MarketplaceNotificationsUpdateSeenStateMutation").MarketplaceNotificationsUpdateSeenStateMutation(a,{environment:"MARKETPLACE",is_comet:!0,last_notif_sync_time:0,notif_ids:b,source:"marketplace",update_type:"MARK_SEEN"},{onError:function(a){c("recoverableViolation")("Mark as seen mutation failed with an error: ","Notifications",{error:a})},onSuccess:function(){}})}}g["default"]=a}),98);
__d("useMarketplaceEntityUrl",["CometRelay","useMarketplaceEntityUrl.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useMarketplaceEntityUrl.graphql"),a);return(c=a==null?void 0:a.mobileUrl)!=null?c:a==null?void 0:a.url}g["default"]=a}),98);